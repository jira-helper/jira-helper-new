{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=51)}({0:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));const r=new class{constructor(){\"undefined\"!=typeof chrome&&(this.extensionAPI=chrome),this.extensionAPI||\"undefined\"==typeof browser||(this.extensionAPI=browser)}isFirefox(){return navigator.userAgent.includes(\"Firefox\")}getUrl(e){return this.extensionAPI.runtime.getURL(e)}onMessage(e){return this.extensionAPI.runtime.onMessage.addListener((t,n,r)=>e(t,n,r))}onTabsUpdated(e){return this.extensionAPI.tabs.onUpdated.addListener(e)}onTabsActivated(e){return this.extensionAPI.tabs.onActivated.addListener(e)}tabsQuery(e,t){return this.extensionAPI.tabs.query(e,t)}getTab(e){return this.extensionAPI.tabs.get(e)}async checkTabURLByPattern(e,t){const n=await this.extensionAPI.tabs.get(e),r=new Boolean(t.test(n.url));return r.url=n.url,r}tabsExecuteScript(e,t){return this.extensionAPI.tabs.executeScript(e,t)}sendMessageToTab(e,t,n){if(/chrome:\\/\\//gim.test(\"\"+(null==t?void 0:t.url)))return Promise.resolve();if(null==n)throw new Error(\"Response for sendMessageToTab is must!\");return this.extensionAPI.tabs.sendMessage(e,t).then(n)}reload(){this.extensionAPI.runtime.reload()}bgRequest(e){return new Promise(t=>{this.extensionAPI.runtime.sendMessage(e,e=>{t(e)})})}updateStorageValue(e,t){return new Promise(n=>{this.extensionAPI.storage.local.set({[e]:t},()=>n())})}fetchStorageValueByKey(e){return new Promise((t,n)=>{this.extensionAPI.storage.local.get([e],r=>r[e]?t(r[e]):n(Error(\"Not found the key in the storage of browser\")))})}removeAllContextMenus(e){return this.extensionAPI.contextMenus.removeAll(e)}addContextMenuListener(e){return this.extensionAPI.contextMenus.onClicked.addListener(e)}createContextMenu(e){return this.extensionAPI.contextMenus.create(e)}}},11:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return r}));const r={TAB_URL_CHANGE:\"TAB_URL_CHANGE\"}},51:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"createContextMenu\",(function(){return u}));var r=n(11),s=n(0);const o=/rapidView=(\\d*)/im,a=/tab=/im,i=/chart=controlChart/im;s.a.onTabsUpdated(async(e,t)=>{if(\"complete\"===t.status){const t=await s.a.checkTabURLByPattern(e,i);t&&s.a.sendMessageToTab(e,{type:r.a.TAB_URL_CHANGE,url:t.url},e=>{console.log(null==e?void 0:e.message)})}null!=t.url&&o.test(t.url)&&a.test(t.url)&&s.a.sendMessageToTab(e,{type:r.a.TAB_URL_CHANGE,url:t.url},e=>{console.log(null==e?void 0:e.message)})}),s.a.addContextMenuListener(async(e,t)=>{await s.a.checkTabURLByPattern(t.id,o)&&s.a.sendMessageToTab(t.id,{blurSensitive:e.checked},t=>{console.log(e.checked?\"added the blur of data\":\"removed the blur of data\",t)})});const u=(e,t)=>{s.a.removeAllContextMenus(async()=>{await s.a.checkTabURLByPattern(e,o)&&null!=t&&\"complete\"===t.status&&s.a.sendMessageToTab(e,{getBlurSensitive:!0},e=>{var t;e&&Object.prototype.hasOwnProperty.call(e,\"blurSensitive\")&&(t=e.blurSensitive,s.a.createContextMenu({title:\"Blur secret data\",type:\"checkbox\",id:\"checkbox\",checked:t,contexts:[\"page\"]}))})})};s.a.onTabsUpdated(async(e,t)=>{u(e,t)}),s.a.onTabsActivated(async e=>{u(e.tabId)})}});","extractedComments":[]}