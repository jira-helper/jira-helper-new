{"code":"!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=40)}([function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return n}));const n=new class{constructor(){\"undefined\"!=typeof chrome&&(this.extensionAPI=chrome),this.extensionAPI||\"undefined\"==typeof browser||(this.extensionAPI=browser)}isFirefox(){return navigator.userAgent.includes(\"Firefox\")}getUrl(t){return this.extensionAPI.runtime.getURL(t)}onMessage(t){return this.extensionAPI.runtime.onMessage.addListener((e,i,n)=>t(e,i,n))}onTabsUpdated(t){return this.extensionAPI.tabs.onUpdated.addListener(t)}onTabsActivated(t){return this.extensionAPI.tabs.onActivated.addListener(t)}tabsQuery(t,e){return this.extensionAPI.tabs.query(t,e)}getTab(t){return this.extensionAPI.tabs.get(t)}async checkTabURLByPattern(t,e){const i=await this.extensionAPI.tabs.get(t),n=new Boolean(e.test(i.url));return n.url=i.url,n}tabsExecuteScript(t,e){return this.extensionAPI.tabs.executeScript(t,e)}sendMessageToTab(t,e,i){if(/chrome:\\/\\//gim.test(\"\"+(null==e?void 0:e.url)))return Promise.resolve();if(null==i)throw new Error(\"Response for sendMessageToTab is must!\");return this.extensionAPI.tabs.sendMessage(t,e).then(i)}reload(){this.extensionAPI.runtime.reload()}bgRequest(t){return new Promise(e=>{this.extensionAPI.runtime.sendMessage(t,t=>{e(t)})})}updateStorageValue(t,e){return new Promise(i=>{this.extensionAPI.storage.local.set({[t]:e},()=>i())})}fetchStorageValueByKey(t){return new Promise((e,i)=>{this.extensionAPI.storage.local.get([t],n=>n[t]?e(n[t]):i(Error(\"Not found the key in the storage of browser\")))})}removeAllContextMenus(t){return this.extensionAPI.contextMenus.removeAll(t)}addContextMenuListener(t){return this.extensionAPI.contextMenus.onClicked.addListener(t)}createContextMenu(t){return this.extensionAPI.contextMenus.create(t)}}},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(2,(function(t,e){return null!=e?e[t]:void 0}))},function(t,e,i){\"use strict\";t.exports=function(t,e){return function i(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return r.length>=t?e.apply(this,r):function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(this,r.concat(e))}}}},function(t,e,i){var n=i(45);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(8)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(2,(function(t,e){void 0===e&&(e=[]);for(var i=0;i<e.length;i++)t(e[i],i,e)}))},function(t,e,i){var n=i(43);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(8)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(49);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(8)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){\"use strict\";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||\"\",n=t[3];if(!n)return i;if(e&&\"function\"==typeof btoa){var r=(o=n,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l=\"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(a),\"/*# \".concat(l,\" */\")),s=n.sources.map((function(t){return\"/*# sourceURL=\".concat(n.sourceRoot||\"\").concat(t,\" */\")}));return[i].concat(s).concat([r]).join(\"\\n\")}var o,a,l;return[i].join(\"\\n\")}(e,t);return e[2]?\"@media \".concat(e[2],\" {\").concat(i,\"}\"):i})).join(\"\")},e.i=function(t,i,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);var r={};if(n)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);n&&r[l[0]]||(i&&(l[2]?l[2]=\"\".concat(i,\" and \").concat(l[2]):l[2]=i),e.push(l))}},e}},function(t,e,i){var n,r,s={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),a=function(t){return document.querySelector(t)},l=function(t){var e={};return function(t){if(\"function\"==typeof t)return t();if(void 0===e[t]){var i=a.call(this,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),u=null,d=0,c=[],h=i(44);function p(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=s[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(b(n.parts[o],e))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(b(n.parts[o],e));s[n.id]={id:n.id,refs:1,parts:a}}}}function m(t,e){for(var i=[],n={},r=0;r<t.length;r++){var s=t[r],o=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};n[o]?n[o].parts.push(a):i.push(n[o]={id:o,parts:[a]})}return i}function f(t,e){var i=l(t.insertInto);if(!i)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var n=c[c.length-1];if(\"top\"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),c.push(e);else if(\"bottom\"===t.insertAt)i.appendChild(e);else{if(\"object\"!=typeof t.insertAt||!t.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var r=l(t.insertInto+\" \"+t.insertAt.before);i.insertBefore(e,r)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function v(t){var e=document.createElement(\"style\");return t.attrs.type=\"text/css\",y(e,t.attrs),f(t,e),e}function y(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function b(t,e){var i,n,r,s;if(e.transform&&t.css){if(!(s=e.transform(t.css)))return function(){};t.css=s}if(e.singleton){var o=d++;i=u||(u=v(e)),n=_.bind(null,i,o,!1),r=_.bind(null,i,o,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(i=function(t){var e=document.createElement(\"link\");return t.attrs.type=\"text/css\",t.attrs.rel=\"stylesheet\",y(e,t.attrs),f(t,e),e}(e),n=S.bind(null,i,e),r=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(e),n=C.bind(null,i),r=function(){g(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(e=e||{}).attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||\"boolean\"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var i=m(t,e);return p(i,e),function(t){for(var n=[],r=0;r<i.length;r++){var o=i[r];(a=s[o.id]).refs--,n.push(a)}t&&p(m(t,e),e);for(r=0;r<n.length;r++){var a;if(0===(a=n[r]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete s[a.id]}}}};var w,x=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join(\"\\n\")});function _(t,e,i,n){var r=i?\"\":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function C(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute(\"media\",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function S(t,e,i){var n=i.css,r=i.sourceMap,s=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||s)&&(n=h(n)),r&&(n+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+\" */\");var o=new Blob([n],{type:\"text/css\"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}},function(t,e,i){\"use strict\";t.exports=function(t){return null==t}},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(2,(function(t,e){void 0===e&&(e=[]);for(var i=e.length,n=new Array(i),r=0;r<i;r++)n[r]=t(e[r],r,e);return n}))},function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return n}));const n={TAB_URL_CHANGE:\"TAB_URL_CHANGE\"}},function(t,e,i){\"use strict\";var n=i(2),r=i(1);t.exports=n(3,(function(t,e,i){var n=r(t,i);return null!=n?n:e}))},function(t,e,i){\"use strict\";var n=i(9),r=i(20),s=i(29),o=i(15);t.exports=function(t){switch(!0){case n(t):return!0;case s(t):return\"\"===t;case r(t):return 0===t.length;case o(t):return 0===Object.keys(t).length}return!1}},function(t,e,i){\"use strict\";var n=i(15);t.exports=function(t){return n(t)?Object.keys(t):[]}},function(t,e,i){\"use strict\";t.exports=function(t){return null!==t&&\"object\"==typeof t}},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(2,(function(t,e){for(var i in void 0===e&&(e={}),e)Object.prototype.hasOwnProperty.call(e,i)&&t(e[i],i,e)}))},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(2,(function(t,e){void 0===e&&(e=[]);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}))},function(t,e,i){var n=i(46);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(8)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(50);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(8)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){\"use strict\";t.exports=function(t){return!!t&&Array.isArray(t)}},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(2,(function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});for(var i=e,n=0;n<t.length;n++){if(null==i)return;i=i[t[n]]}return i}))},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(2,(function(t,e){return\"function\"==typeof e?e.apply(void 0,t):e}))},function(t,e,i){\"use strict\";const{AbortController:n,AbortSignal:r}=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0;t.exports=n,t.exports.AbortSignal=r,t.exports.default=n},function(t,e,i){\"use strict\";var n=i(2),r=i(42);t.exports=n(2,(function(t,e){return void 0===e&&(e=[]),-1!==r(t,e)}))},function(t,e,i){\"use strict\";t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(){for(var t=e.length-1,i=e[t].apply(e,arguments),n=t-1;n>=0;n--)i=e[n](i);return i}}},function(t,e,i){var n=i(47);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(8)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){var n=i(48);\"string\"==typeof n&&(n=[[t.i,n,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(8)(n,r);n.locals&&(t.exports=n.locals)},function(t,e){t.exports=\"Device: <br/> OS: <br/> Account: <br/> Condition: <br/> <br/> Playback Steps: <br/> <br/> Actual result: <br/> Expected Result: <br/> <br/> TK:\"},function(t,e,i){\"use strict\";t.exports=function(t){return\"string\"==typeof t||t instanceof String}},function(t,e,i){\"use strict\";t.exports=function(t){var e,i=!1;return function(){return i||(e=t.apply(void 0,arguments),i=!0),e}}},function(t,e){t.exports=\"object\"==typeof self?self.FormData:window.FormData},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(3,(function(t,e,i){void 0===i&&(i=[]);for(var n=i.length,r=0;r<n;r++)e=t(e,i[r],r,i);return e}))},function(t,e,i){\"use strict\";t.exports=function(t){return void 0===t&&(t=\"\"),t.toLowerCase()}},function(t,e,i){\"use strict\";t.exports=function(t){return function(){return!t.apply(void 0,arguments)}}},function(t,e,i){\"use strict\";var n=i(2),r=i(21);t.exports=n(3,(function(t,e,i){void 0===t&&(t=[]),void 0===i&&(i={});var n=r(t,i);return null!=n?n:e}))},function(t,e,i){\"use strict\";t.exports=function(){}},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(2,(function(t,e){void 0===e&&(e=[]);for(var i={},n=0;n<e.length;n++)i[t(e[n],n,e)]=e[n];return i}))},function(t,e,i){\"use strict\";var n=i(2),r=i(1),s=i(10);t.exports=n(2,(function(t,e){return void 0===e&&(e=[]),s(r(t),e)}))},function(t,e,i){\"use strict\";var n=i(2);t.exports=n(2,(function(t,e){void 0===e&&(e={});var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=t(e[n],n,e));return i}))},function(t,e,i){t.exports=i(52)},function(t,e,i){const n=\"object\"==typeof performance&&performance&&\"function\"==typeof performance.now?performance:Date,r=t=>t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?s:null;class s extends Array{constructor(t){super(t),this.fill(0)}}class o{constructor(t){if(0===t)return[];const e=r(t);this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}t.exports=class{constructor(t={}){const{max:e=0,ttl:i,ttlResolution:n=1,updateAgeOnGet:s,allowStale:a,maxAge:l,stale:u}=t;this.max=e;const d=e?r(e):Array;this.keyMap=new Map,this.keyList=new Array(e).fill(null),this.valList=new Array(e).fill(null),this.next=new d(e),this.prev=new d(e),this.head=0,this.tail=0,this.free=new o(e),this.initialFill=1,this.size=0,this.allowStale=!!a||!!u,this.updateAgeOnGet=!!s,this.ttlResolution=n,this.ttl=i||l||0,this.ttl&&this.initializeTTLTracking()}initializeTTLTracking(){this.ttls=new s(this.max),this.starts=new s(this.max),this.setItemTTL=(t,e)=>{this.starts[t]=0!==e?n.now():0,this.ttls[t]=e},this.updateItemAge=t=>{this.starts[t]=0!==this.ttls[t]?n.now():0};let t=0;const e=()=>{const e=n.now();if(this.ttlResolution>0){t=e;const i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return e};this.isStale=i=>0!==this.ttls[i]&&0!==this.starts[i]&&(t||e())-this.starts[i]>this.ttls[i]}updateItemAge(t){}setItemTTL(t,e){}isStale(t){return!1}set(t,e,{ttl:i=this.ttl}={}){let n=0===this.size?void 0:this.keyMap.get(t);if(void 0===n)n=this.newIndex(),this.keyList[n]=t,this.valList[n]=e,this.keyMap.set(t,n),this.next[this.tail]=n,this.prev[n]=this.tail,this.tail=n,this.size++;else{e!==this.valList[n]&&(this.valList[n]=e),this.moveToTail(n)}return 0===i||0!==this.ttl||this.ttls||this.initializeTTLTracking(),this.setItemTTL(n,i),this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const t=this.valList[this.head];return this.evict(!0),t}}evict(t){const e=this.head,i=this.keyList[e];return t&&(this.keyList[e]=null,this.valList[e]=null,this.free.push(e)),this.head=this.next[e],this.keyMap.delete(i),this.size--,e}has(t){const e=this.keyMap.get(t);return void 0!==e&&!this.isStale(e)}peek(t,{allowStale:e=this.allowStale}={}){const i=this.keyMap.get(t);if(void 0!==i&&(e||!this.isStale(i)))return this.valList[i]}get(t,{allowStale:e=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet}={}){const n=this.keyMap.get(t);if(void 0!==n){const r=this.valList[n];return this.isStale(n)?(this.delete(t),e?r:void 0):(this.moveToTail(n),i&&this.updateItemAge(n),r)}}connect(t,e){this.prev[e]=t,this.next[t]=e}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}delete(t){let e=!1;if(0!==this.size){const i=this.keyMap.get(t);void 0!==i&&(e=!0,1===this.size?this.clear():(this.keyMap.delete(t),this.keyList[i]=null,this.valList[i]=null,i===this.tail?this.tail=this.prev[i]:i===this.head?this.head=this.next[i]:(this.next[this.prev[i]]=this.next[i],this.prev[this.next[i]]=this.prev[i]),this.size--,this.free.push(i)))}return e}clear(){this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.size=0}}},function(t,e,i){\"use strict\";var n=i(2),r=i(29);t.exports=n(2,(function(t,e){return void 0===e&&(e=[]),r(e)?e.indexOf(t):Array.prototype.indexOf.call(e,t)}))},function(t,e,i){(e=i(7)(!1)).push([t.i,\".JjkCP4xKxJwUi8bF810rw {\\n    margin: 10px 2px;\\n    display: flex;\\n    background: #ccc;\\n}\\n\\n._8gbjcsEc4ksLmyrl_j70y {\\n    display: flex;\\n}\\n\\n._3m6fwYuDhb8LuSLRC4t7Og {\\n    position: relative;\\n    display: inline-block;\\n    width: 12px;\\n    border: none;\\n    height: 20px;\\n    margin: auto 1px;\\n}\\n\\n._1Drov5_LSVLq0sWmkukNKM {\\n    background: #66CCFF;\\n    position: absolute;\\n    bottom: 0px;\\n    width: 12px;\\n    border: none;\\n}\\n\\n.lb5oaGUvTx0YMrKXqUboJ {\\n  padding: 2px 4px;\\n  border-radius: 5px;\\n  font-size: 0.8rem;\\n  margin: 0 10px;\\n  color: white !important;\\n  background-color: #1b855c;\\n}\\n\\n\\n._358dpCo-Qj3kLCJraJ5KTV {\\n  display: block !important;\\n  margin: 0;\\n  font-size: 5px;\\n  position: relative;\\n  text-indent: -9999em;\\n  /*border-top: 2px solid mix(white,black,80%);*/\\n  /*border-right: 2px solid mix(white,black,80%);*/\\n  /*border-bottom: 2px solid mix(white,black,80%);*/\\n  border-left: 2px solid #344563;\\n  -webkit-animation: _VrKqdIDcvQaJfPWfpRuE .5s infinite linear;\\n  animation: _VrKqdIDcvQaJfPWfpRuE .5s infinite linear;\\n}\\n._358dpCo-Qj3kLCJraJ5KTV,\\n._358dpCo-Qj3kLCJraJ5KTV:after {\\n  border-radius: 50%;\\n  width:17px;\\n  height: 17px;\\n}\\n@-webkit-keyframes _VrKqdIDcvQaJfPWfpRuE {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n@keyframes _VrKqdIDcvQaJfPWfpRuE {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n._1A3AzVYtVuAY9ZX3-SRyyY {\\n  visibility: hidden;\\n  position: absolute;\\n  padding: 2px 3px;\\n  margin-left: -171px;\\n  margin-top: -10px;\\n  width: 130px;\\n  transition: 0s visibility;\\n  cursor: pointer;\\n}\\n\\n.lb5oaGUvTx0YMrKXqUboJ:hover ._1A3AzVYtVuAY9ZX3-SRyyY {\\n  visibility: visible;\\n  display: inline;\\n  color: black;\\n  padding: 10px;\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0 0 5px rgba(0,0,0,0.5); /* Параметры тени */\\n  z-index: 100000;\\n  transition-delay: 200ms;\\n}\\n\",\"\"]),e.locals={wrapper:\"JjkCP4xKxJwUi8bF810rw\",header:\"_8gbjcsEc4ksLmyrl_j70y\",column:\"_3m6fwYuDhb8LuSLRC4t7Og\",bar:\"_1Drov5_LSVLq0sWmkukNKM\",limitBadge:\"lb5oaGUvTx0YMrKXqUboJ\",loader:\"_358dpCo-Qj3kLCJraJ5KTV\",load8:\"_VrKqdIDcvQaJfPWfpRuE\",limitBadge__hint:\"_1A3AzVYtVuAY9ZX3-SRyyY\"},t.exports=e},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var i=e.protocol+\"//\"+e.host,n=i+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,(function(t,e){var r,s=e.trim().replace(/^\"(.*)\"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(s)?t:(r=0===s.indexOf(\"//\")?s:0===s.indexOf(\"/\")?i+s:n+s.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(r)+\")\")}))}},function(t,e,i){(e=i(7)(!1)).push([t.i,\"._2X6vhmXn4mrqDLwnDc2412 {\\n  text-align: center;\\n  background-color: white;\\n  padding: 10px 0;\\n  color: gray;\\n  border: 1px solid gray;\\n  border-radius: 5px;\\n  margin-bottom: 10px;\\n}\\n\\n._2X6vhmXn4mrqDLwnDc2412 input {\\n  padding: 5px;\\n  margin-top: 5px;\\n  border-radius: 3px;\\n  border: 1px solid gray;\\n}\\n\\n._3KWFhYmUE8PoF1iNkXiHhA {\\n  border: 1px solid #189c2c !important;\\n}\\n\\n\\n._3Gf4_sDk3Eje8vh5c4h_q2 {\\n  padding: 5px 10px;\\n  background: gray;\\n  border-radius: 5px;\\n  color: white;\\n  margin: 2px;\\n  cursor: move;\\n}\\n\\n._2e8KU0nCzQBGQ_Y8ulkshb {\\n  display: flex;\\n  flex-direction: row;\\n  padding: 10px;\\n  flex-wrap: wrap;\\n  border: 2px solid white;\\n  cursor: pointer;\\n}\\n\\n.WGl7nfNhGw2qQkIIanHQJ {\\n  margin-bottom: 10px;\\n  background-color: lightgray;\\n}\\n\\n._2pJ6FNsdAIC8s84eJntP0g {\\n  display: block;\\n  background: white;\\n  padding: 5px 10px;\\n}\\n\\n._313LmThJWB5UNrERePJQi8 {\\n  height: 60px;\\n  background: #ddedf3;\\n  border: 2px dashed #90b8f3;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 15px;\\n  color: darkgray;\\n}\\n\\n._3LGLWhoXVg0Z6_Jn9MjVbg {\\n  border: 2px dashed black;\\n}\\n\\n\\n.HulWe5u6_jlQ9m1CGOptq {\\n  margin-top: 1rem;\\n}\\n\\n._36y_LLTg00uHFW-20LhIWs {\\n  display: flex;\\n}\\n\\n._3x3b0_QSw7tnOq3GwW52K1 {\\n  width: 200px;\\n  min-height: 400px;\\n  margin-right: 20px;\\n}\\n\\n.kZGHA9WpZ2JiFl2h-Pvv2 {\\n  flex: 1;\\n}\\n\",\"\"]),e.locals={jiraHelperSubgroupMaximumWrapper:\"_2X6vhmXn4mrqDLwnDc2412\",highlightUpdatedLimit:\"_3KWFhYmUE8PoF1iNkXiHhA\",columnDraggableJH:\"_3Gf4_sDk3Eje8vh5c4h_q2\",columnListJH:\"_2e8KU0nCzQBGQ_Y8ulkshb\",columnGroupJH:\"WGl7nfNhGw2qQkIIanHQJ\",columnGroupLimitsJH:\"_2pJ6FNsdAIC8s84eJntP0g\",addGroupDropzoneJH:\"_313LmThJWB5UNrERePJQi8\",addGroupDropzoneActiveJH:\"_3LGLWhoXVg0Z6_Jn9MjVbg\",jhGroupOfBtns:\"HulWe5u6_jlQ9m1CGOptq\",form:\"_36y_LLTg00uHFW-20LhIWs\",formLeftBlock:\"_3x3b0_QSw7tnOq3GwW52K1\",formRightBlock:\"kZGHA9WpZ2JiFl2h-Pvv2\"},t.exports=e},function(t,e,i){(e=i(7)(!1)).push([t.i,\"._1NM07O3ltFuS9-3BoThSHO {\\n  position: absolute;\\n  background: white;\\n  visibility: hidden;\\n}\\n\\n._1RBhWN3VpkZnRFe5Blr-PL {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n._1RBhWN3VpkZnRFe5Blr-PL button~button {\\n  margin-left: 0 !important;\\n}\\n\\n._1qttpIxd8OF0q7q7_squWr {\\n  flex: 0.7;\\n  background: red;\\n}\\n\\n.-j_2VlYq0qq0-2u5tR1Qo {\\n  border-radius: 2px 2px !important;\\n  background: yellow !important;\\n}\",\"\"]),e.locals={tooltip:\"_1NM07O3ltFuS9-3BoThSHO\",tooltipButtonsWrp:\"_1RBhWN3VpkZnRFe5Blr-PL\",tooltipResult:\"_1qttpIxd8OF0q7q7_squWr\",\"ghx-flags\":\"-j_2VlYq0qq0-2u5tR1Qo\"},t.exports=e},function(t,e,i){(e=i(7)(!1)).push([t.i,\"._2z-9_hIu6Xdbxvy6jMZsjm {\\n  position: absolute;\\n  top: -24%;\\n  left: 4%;\\n  padding: 2px 4px;\\n  border-radius: 5px;\\n  font-size: 0.8rem;\\n  margin: 0 10px;\\n  color: white;\\n  background-color: #1b855c;\\n}\\n\\n._1rYJgAYyJzBUbAV7QrMFW9 {\\n  visibility: hidden;\\n  position: absolute;\\n  padding: 2px 3px;\\n  margin-left: 8px;\\n  width: 130px;\\n  transition: 0s visibility;\\n  cursor: pointer;\\n}\\n\\n._2z-9_hIu6Xdbxvy6jMZsjm:hover ._1rYJgAYyJzBUbAV7QrMFW9 {\\n  visibility: visible;\\n  display: inline;\\n  color: black;\\n  padding: 10px;\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0 0 5px rgba(0,0,0,0.5); /* Параметры тени */\\n  z-index: 100000;\\n  transition-delay: 200ms;\\n}\\n\",\"\"]),e.locals={limitColumnBadge:\"_2z-9_hIu6Xdbxvy6jMZsjm\",limitColumnBadge__hint:\"_1rYJgAYyJzBUbAV7QrMFW9\"},t.exports=e},function(t,e,i){(e=i(7)(!1)).push([t.i,\"#create-issue-dialog .jira-wikifield,\\n#issue-create .jira-wikifield,\\n#create-subtask-dialog .jira-wikifield {\\n    position: relative;\\n}\\n\\n._3IBnIh2MLCk_yT589bLwwG {\\n    top: 45px;\\n    left: -31px;\\n    position: absolute;\\n    z-index: 10;\\n    border-radius: 4px;\\n    padding: 5px;\\n    width: 30px;\\n    word-wrap: break-word;\\n    font-size: 11px;\\n    color: #707070;\\n}\\n\\n._7tc55T31NyugRj6aI9jL3 {\\n    top: 74px;\\n    left: -31px;\\n    position: absolute;\\n    z-index: 10;\\n    border-radius: 4px;\\n    padding: 5px;\\n    width: 30px;\\n    word-wrap: break-word;\\n    font-size: 11px;\\n    color: #707070;\\n}\\n\\n:active, :hover, :focus {\\n    outline: 0;\\n}\\n\",\"\"]),e.locals={buttonJiraAddTemplateForBug:\"_3IBnIh2MLCk_yT589bLwwG\",buttonJiraSaveTemplateForBug:\"_7tc55T31NyugRj6aI9jL3\"},t.exports=e},function(t,e,i){(e=i(7)(!1)).push([t.i,\".NeVPjcNbj4WCFAvVeZbBF {\\n  width: 100%;\\n}\\n\\n._2REjo2qi2ELhEF8ThgjSeV {\\n  margin-left: 0px !important;\\n  margin-bottom: 2px !important;\\n}\\n\\n.fbUdSghoCYN2m905c1ZEd {\\n  margin-top: 1rem !important;\\n}\\n\\n._1DBqX61RFAzfQ8LQ6h8Wab {\\n  margin-top: 1rem !important;\\n}\\n\\n.APU5yIZBNRUeixzsBGbH {\\n  margin-top: 1rem !important;\\n}\\n\\n._3TTW9nqftiBNJpQq7U1lMO {\\n  color: #ffffff;\\n  height: 32px;\\n  border-radius: 25%;\\n  background-color: #3366ff;\\n  text-align: center;\\n  width: 40px;\\n  font-size: 0.8rem;\\n  vertical-align: middle;\\n  line-height: 32px;\\n  overflow: hidden;\\n  cursor: pointer;\\n}\",\"\"]),e.locals={addFieldLimitTable:\"NeVPjcNbj4WCFAvVeZbBF\",jhControlRowBtn:\"_2REjo2qi2ELhEF8ThgjSeV\",editFieldLimitBtn:\"fbUdSghoCYN2m905c1ZEd\",addFieldLimitBtn:\"_1DBqX61RFAzfQ8LQ6h8Wab\",settingsEditBtn:\"APU5yIZBNRUeixzsBGbH\",visualName:\"_3TTW9nqftiBNJpQq7U1lMO\"},t.exports=e},function(t,e,i){(e=i(7)(!1)).push([t.i,\"._3pUqxNPLM4oRxBiD6ktflQ {\\n    display: inline-flex;\\n    margin-left: 20px;\\n    padding-left: 10px;\\n    position: absolute;\\n    border-left: 2px solid #f4f5f7;\\n    flex-wrap: wrap;\\n    margin-right: 200px;\\n}\\n\\n._2ZPmwz5cod0mFyZXWbqbAi {\\n    margin-bottom: 2px;\\n    height: 25px;\\n    font-size: 0.8rem;\\n    line-height: 25px;\\n    margin-left: 4px;\\n    text-align: center;\\n    border-radius: 5px;\\n    color: white;\\n    cursor: help;\\n    position: relative;\\n    background-color: #3366ff;\\n    padding-left: 3px;\\n    padding-right: 3px;\\n}\\n\\n.Nl6eWtaZusR6kStBi0oul {\\n    position: absolute;\\n    top: -15px;\\n    left: -6px;\\n    border-radius: 50%;\\n    background: grey;\\n    color: white;\\n    padding: 5px 2px;\\n    font-size: 12px;\\n    line-height: 12px;\\n    font-weight: 400;\\n}\\n\",\"\"]),e.locals={fieldLimitsList:\"_3pUqxNPLM4oRxBiD6ktflQ\",fieldLimitsItem:\"_2ZPmwz5cod0mFyZXWbqbAi\",limitStats:\"Nl6eWtaZusR6kStBi0oul\"},t.exports=e},,function(t,e,i){\"use strict\";i.r(e);var n=i(11);const r=\"jira\"===document.body.id,s=(t,e=document)=>{let i;return{promise:new Promise(n=>{i=setInterval(()=>{e.querySelector(t)&&(clearInterval(i),n(e.querySelector(t)))},100)}),cancel:()=>clearInterval(i)}};var o=i(0);const a=\"BOARD\",l=\"SETTINGS\",u=\"SEARCH\",d=\"REPORTS\",c=\"ISSUE\",h=\"ALL\",p=t=>new URLSearchParams(window.location.search).get(t),m=()=>{if(window.location.href.indexOf(\"rapidView\")>0)return p(\"rapidView\");const t=window.location.pathname.match(/boards\\/(\\d+)/im);return null!=t?t[1]:null},f=()=>{const{pathname:t,search:e}=window.location,i=new URLSearchParams(e);return t.includes(\"RapidView.jspa\")?l:t.includes(\"RapidBoard.jspa\")?i.get(\"config\")?l:\"reporting\"===i.get(\"view\")?d:a:/boards\\/(\\d+)/im.test(t)?i.get(\"config\")?l:\"reporting\"===i.get(\"view\")||/reports/im.test(t)?d:a:t.startsWith(\"/browse\")||t.startsWith(\"/jira/browse\")?i.get(\"jql\")?u:c:t.endsWith(\"/issues/\")?u:null},g=()=>{const t=new URLSearchParams(window.location.search),e=t.get(\"tab\")||t.get(\"config\");return e?Promise.resolve(e):s(\".aui-nav-selected\").promise.then(t=>t.dataset.tabitem)},v=()=>window.location.pathname.startsWith(\"/browse\")||window.location.pathname.startsWith(\"/jira/browse\")?window.location.pathname.split(\"/browse/\")[1]:p(\"selectedIssue\")&&(p(\"view\")||p(\"modal\"))?p(\"selectedIssue\"):null;var y,b=i(22),w=i.n(b),x=i(30),_=i.n(x),C=i(12),S=i.n(C);!function(t){t.INIT=\"init\",t.COMPLETE=\"complete\",t.ERROR=\"error\"}(y||(y={}));var L=y;class E{constructor(t){this.state={status:L.INIT,request:null,response:null,error:null,...t},this.internalMeta={},this.externalMeta={}}getState(){return this.state}setState(t){const e=w()([this.state],t);e&&(this.state={...this.state,...e})}getInternalMeta(t){return this.getMeta(t,this.internalMeta)}getExternalMeta(t){return this.getMeta(t,this.externalMeta)}updateInternalMeta(t,e){this.internalMeta=this.extendMeta(t,e,this.internalMeta)}updateExternalMeta(t,e){this.externalMeta=this.extendMeta(t,e,this.externalMeta)}getStatus(){return this.state.status}getResponse(){return this.state.response}getRequest(){return this.state.request}getMeta(t,e=this.externalMeta){return t?e[t]:e}extendMeta(t,e,i=this.externalMeta){if(e)return{...i,[t]:{...i[t],...e}}}}const k={[L.INIT]:L.COMPLETE};var T=i(1),I=i.n(T);var M=\"cache\",B=(t,e)=>i=>{var n,r,s,o;const a=i.getRequest(),l=null!==(n=I()(\"cacheForce\",a))&&void 0!==n&&n,u=null!==(r=I()(t+\"CacheForce\",a))&&void 0!==r?r:l,d=null!==(s=I()(\"cache\",a))&&void 0!==s?s:e,c=null!==(o=I()(t+\"Cache\",a))&&void 0!==o?o:d;return i.getStatus()===L.INIT&&i.updateExternalMeta(\"cache\",{forced:l,enabled:d,[t+\"Enabled\"]:c,[t+\"Force\"]:u}),u?i.getStatus()===L.COMPLETE:c},A=({httpMethod:t=\"GET\",url:e,payload:i,query:n,rawQueryString:r=\"\",additionalCacheKey:s=\"\"})=>t.toLowerCase()+e+JSON.stringify(i||\"\")+JSON.stringify(n||\"\")+r+JSON.stringify(s),P=(t,e=A)=>{let i=I()(\"key\",t.getInternalMeta(\"cache\"));return i||(i=e(t.getRequest()),t.updateInternalMeta(\"cache\",{key:i})),i};const O=t=>{const{requestTimeout:e,configTimeout:i}=t;return i||(e?2*e:void 0)};var D=i(23),R=i.n(D),$=i(16),N=i.n($),j=i(9),F=i.n(j),H=i(15),q=i.n(H),z=i(32),W=i.n(z);const V=(t,e=\"\")=>{const i=new URLSearchParams(e),n=(t,e=[])=>{N()((t,r)=>{if(F()(t))return;const s=e.length?[...e,r]:[r];q()(t)?n(t,s):i.set(W()((t,e,i)=>i?`${t}[${e}]`:e,\"\",s),t)},t)};return n(t),i.toString()};var U=i(33),G=i.n(U),Y=i(24),X=i.n(Y),J=i(4),K=i.n(J),Q=i(20),Z=i.n(Q),tt=i(31),et=i.n(tt);const it={GET:\"GET\",POST:\"POST\",PUT:\"PUT\",DELETE:\"DELETE\",HEAD:\"HEAD\",PATCH:\"PATCH\"},nt={html:\"text/html\",json:\"application/json\",xml:\"text/xml\",urlencoded:\"application/x-www-form-urlencoded\",form:\"application/x-www-form-urlencoded\",\"form-data\":\"application/x-www-form-urlencoded\",\"multipart/form-data\":\"\"},rt=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(void 0!==rt)return rt;throw new Error(\"unable to locate global object\")}();class st extends Error{constructor(){super(...arguments),this.code=\"ERR_HTTP_REQUEST_TIMEOUT\",this.message=\"Request timed out\"}}class ot extends Error{constructor(){super(...arguments),this.code=\"ABORT_ERR\"}}const at=\"undefined\"!=typeof window;var lt=i(25),ut=i.n(lt),dt=i(10),ct=i.n(dt),ht=i(17),pt=i.n(ht),mt=i(34),ft=i.n(mt),gt=i(21),vt=i.n(gt),yt=i(35),bt=i.n(yt);const wt=t=>t+\"v1\",xt=t=>`agile/1.0/board/${t}/properties`,_t=t=>`agile/1.0/board/${t}/configuration`,Ct={},St=(()=>{const{contextPath:t,location:e}=window;return\"string\"==typeof t?`${e.origin}${t}`:-1===e.hostname.indexOf(\"atlassian.net\")&&\"jira\"===e.toString().split(\"/\")[3]?e.origin+\"/jira\":e.origin})(),Lt=function(t){const e=i=>{let n=-1;const r=t.length,s=new E;s.setState({request:i});const o=new Promise((i,o)=>{const a=t=>{const e=s.getState(),n=e.status,r=k[n];return t?l(n,-1):r?(s.setState({status:r}),l(r,-1)):void(n===L.COMPLETE?i(e.response):o(Object.assign(e.error||{},{url:e.request.url})))},l=(i,o)=>{const l=s.getState().status,u=d=>{s.setState(d);if(s.getState().status!==l)return a(!0);if(n+=o,n<0||n>=r)return a(!1);const c=t[n],h=c[i];if(!h||!w()([s],S()(\"shouldExecute\",!0,c)))return u();try{h(s,_()(u),e)}catch(t){return u({status:L.ERROR,error:t})}};u()};l(L.INIT,1)});return Object.assign(o,{getState:s.getState.bind(s),getInternalMeta:s.getInternalMeta.bind(s),getExternalMeta:s.getExternalMeta.bind(s)})};return e}([(Et={\"browser-plugin\":\"jira-helper/2.22.5\"},{init(t,e){const{headers:i={}}=t.state.request;t.state.request.headers={...Et,...i},e()}}),(({baseUrl:t=\"\",transform:e=(({baseUrl:t,url:e})=>`${t}${e}`)}={})=>({init:(i,n)=>{const r=i.getRequest();n({request:{...r,url:e({...r,baseUrl:r.baseUrl||t})}})}}))({baseUrl:St+\"/rest/\"}),(({shouldExecute:t=!0,getCacheKey:e}={})=>{const i={},n=t=>{const n=t.getState(),r=P(t,e);if(r&&i[r]){const t=i[r];delete i[r],t.forEach(t=>{t({status:n.status,response:n.response,error:n.error})})}};return{shouldExecute:B(\"deduplicate\",t),init:(t,n)=>{const r=P(t,e);if(i[r])return t.updateExternalMeta(M,{deduplicated:!0}),void i[r].push(n);i[r]=[],n()},complete:(t,e)=>{n(t),e()},error:(t,e)=>{n(t),e()}}})(),(({lruOptions:t={max:1e3,ttl:3e5},shouldExecute:e=!0,allowStale:n=!1,staleTtl:r=(\"ttl\"in t?t.ttl:3e5),staleBackgroundRequestTimeout:s,memoryConstructor:o=(t=>new(i(41))(t)),getCacheKey:a}={})=>{const l=o({...t,allowStale:!0});return{shouldExecute:B(\"memory\",e),init:(t,e,i)=>{const o=P(t,a);if(l.has(o))return t.updateExternalMeta(M,{memoryCache:!0,memoryCacheOutdated:!1}),e({status:L.COMPLETE,response:l.get(o)});const u=S()(\"memoryCacheAllowStale\",n,t.getRequest())&&l.peek(o);if(u){const n=t.getRequest();return t.updateExternalMeta(M,{memoryCache:!0,memoryCacheOutdated:!0}),l.set(o,u,{ttl:r}),setTimeout(()=>i({...n,timeout:O({requestTimeout:n.timeout,configTimeout:s}),memoryCacheForce:!0,memoryCacheBackground:!0,signal:void 0,abortPromise:void 0}).catch(()=>{}),15),e({status:L.COMPLETE,response:u})}e()},complete:(t,e)=>{const i=P(t,a),n=I()(\"memoryCacheTtl\",t.getRequest());l.set(i,t.getResponse(),{ttl:n}),t.updateExternalMeta(M,{memoryCacheBackground:I()(\"memoryCacheBackground\",t.getRequest())}),e()}}})({allowStale:!0}),(({agent:t,querySerializer:e}={})=>{let i;return!at&&t&&(i=e=>\"http:\"===e.protocol?t.http:t.https),{init:(t,n)=>{const{httpMethod:r=it.GET,url:s,query:o,queryNoCache:a,headers:l,type:u=\"form\",payload:d,attaches:c=[],timeout:h,credentials:p,withCredentials:m,abortPromise:f,responseType:g,signal:v}=t.getRequest();let y=!1;const b=r.toUpperCase(),w=b===it.GET||b===it.HEAD;let x,_,C,E,k,T;if(c.length)x=((t,e=[])=>{const i=new et.a,n=(t,e)=>{if(Z()(t))return K()(t=>n(t,e),t);F()(t)||i.append(e,t)};return N()(n,t),e.forEach(t=>{if(!(t instanceof window.Blob))return;const e=t.uploadName||t.name,n=t.fieldName||\"file\";i.append(n,t,encodeURIComponent(e))}),i})(d,at?c:[]),_=x.getHeaders&&x.getHeaders();else{const t=S()(u,u,nt);_=t?{\"Content-type\":t}:{},w||(x=((t,e,i=V)=>{switch(t){case\"form\":case\"urlencoded\":case\"form-data\":return i(e);case\"json\":return JSON.stringify(e);default:return e}})(u,d,e))}if(R.a){const e=new R.a;E=e.signal;const i=t=>{y||(y=!0,e.abort(),n({status:L.ERROR,error:t instanceof Error?t:Object.assign(new ot,{abortOptions:t||{}})}))};f&&f.then(i),h&&(C=setTimeout(()=>{i(new st)},h)),t.updateInternalMeta(\"PROTOCOL_HTTP\",{requestAbort:i}),v&&(v.aborted?i():v.addEventListener(\"abort\",()=>{i()}))}else h&&(C=setTimeout(()=>{n({status:L.ERROR,error:new st}),y=!0},h));((...t)=>rt.fetch(...t))(((t,e,i=V)=>{const[n,r]=t.split(\"?\",2),s=i(e,r);return s?`${n}?${s}`:n})((t=>\"undefined\"!=typeof window||/^https?:\\/\\//.test(t)?t:\"http://\"+t)(s),{...w?d:{},...a,...o},e),{signal:E,method:b,headers:{..._,...l},agent:i,credentials:null!=p?p:m?\"include\":\"same-origin\",body:x,timeout:h}).then(e=>(k=e,t.updateInternalMeta(\"PROTOCOL_HTTP\",{response:k}),k[g]?k[g]():(t=>{const e=G()(t.headers.get(\"content-type\")||\"\");return X()(\"application/json\",e)?t.json():X()(\"application/octet-stream\",e)?t.arrayBuffer():t.text()})(k))).then(t=>{if(!y){if(T=t,!k.ok)throw new Error(k.statusText);n({status:L.COMPLETE,response:T})}}).catch(t=>{if(!y)return t&&\"string\"==typeof t.type&&/timeout/.test(t.type)?n({status:L.ERROR,error:new st}):void n({status:L.ERROR,error:Object.assign(t,{code:\"ERR_HTTP_ERROR\",status:k&&k.status,body:T}),response:T})}).then(()=>{y=!0,C&&clearTimeout(C)})}}})()]);var Et;const kt=async(t,e,i={})=>{if(!(await(t=>{const e=t+\"_propertiesList\",i=null!=Ct[e];return delete Ct[e],Lt({url:xt(m()),memoryCacheForce:i,type:\"json\"})})(t)).keys.find(t=>t.key===wt(e)))return;const n=`${t}_${e}`,r=null!=Ct[n];return delete Ct[n],Lt({url:`${xt(t)}/${wt(e)}`,memoryCacheForce:r,type:\"json\",...i}).then(t=>t.value)},Tt=(t,e={})=>Lt({url:\"api/2/search?jql=\"+t,type:\"json\",...e}),It=async()=>Lt({url:\"api/2/field\",type:\"json\"}).then(t=>t.find(t=>\"Flagged\"===t.name).id),Mt=t=>It().then(e=>Tt(`key in (${t.join(\",\")})&fields=${e}`).then((t=>ut()(ct()(I()(\"key\")),pt()(ut()(ft()(F.a),vt()([\"fields\",t]))),bt()([\"issues\"],[])))(e)));class Bt{constructor(){this.sideEffects=[],this.addEventListener=(t,e,i)=>{t.addEventListener(e,i),this.sideEffects.push(()=>t.removeEventListener(e,i))}}shouldApply(){return!0}getModificationId(){return null}appendStyles(){}preloadData(){return Promise.resolve()}waitForLoading(){return Promise.resolve()}loadData(){return Promise.resolve()}apply(){}clear(){this.sideEffects.forEach(t=>t())}waitForElement(t,e){const{promise:i,cancel:n}=s(t,e);return this.sideEffects.push(n),i}getBoardProperty(t){const{cancelRequest:e,abortPromise:i}=this.createAbortPromise();return this.sideEffects.push(e),kt(m(),t,{abortPromise:i})}getBoardConfiguration(){const{cancelRequest:t,abortPromise:e}=this.createAbortPromise();return this.sideEffects.push(t),(async(t,e={})=>Lt({url:_t(t),type:\"json\",...e}))(m(),{abortPromise:e})}updateBoardProperty(t,e){const{cancelRequest:i,abortPromise:n}=this.createAbortPromise();return this.sideEffects.push(i),((t,e,i,n={})=>{Ct[`${t}_${e}`]=!0,Ct[t+\"_propertiesList\"]=!0,Lt({url:`${xt(t)}/${wt(e)}`,httpMethod:\"PUT\",type:\"json\",payload:i,...n})})(m(),t,e,{abortPromise:n})}deleteBoardProperty(t){const{cancelRequest:e,abortPromise:i}=this.createAbortPromise();return this.sideEffects.push(e),((t,e,i={})=>{Ct[`${t}_${e}`]=!0,Ct[t+\"_propertiesList\"]=!0,Lt({url:`${xt(t)}/${wt(e)}`,httpMethod:\"DELETE\",type:\"json\",...i})})(m(),t,{abortPromise:i})}getBoardEditData(){const{cancelRequest:t,abortPromise:e}=this.createAbortPromise();return this.sideEffects.push(t),((t,e={})=>Lt({url:\"greenhopper/1.0/rapidviewconfig/editmodel.json?rapidViewId=\"+t,type:\"json\",...e}))(m(),{abortPromise:e})}getBoardEstimationData(){const{cancelRequest:t,abortPromise:e}=this.createAbortPromise();return this.sideEffects.push(t),((t,e={})=>Lt({url:\"greenhopper/1.0/rapidviewconfig/estimation.json?rapidViewId=\"+t,type:\"json\",...e}))(m(),{abortPromise:e})}searchIssues(t,e={}){const{cancelRequest:i,abortPromise:n}=this.createAbortPromise();return this.sideEffects.push(i),Tt(t,{...e,abortPromise:n})}createAbortPromise(){let t;const e=new Promise(e=>{t=e});return{cancelRequest:t,abortPromise:e}}setTimeout(t,e){const i=setTimeout(t,e);return this.sideEffects.push(()=>clearTimeout(i)),i}onDOMChange(t,e,i={childList:!0}){const n=document.querySelector(t);if(!n)return;const r=new MutationObserver(e);r.observe(n,i),this.sideEffects.push(()=>r.disconnect())}onDOMChangeOnce(t,e,i={childList:!0}){const n=t instanceof HTMLElement?t:document.querySelector(t);if(!n)return;const r=new MutationObserver(()=>{r.disconnect(),e()});r.observe(n,i),this.sideEffects.push(()=>r.disconnect())}insertHTML(t,e,i){let n;switch(t.insertAdjacentHTML(e,i.trim()),e){case\"beforebegin\":n=t.previousElementSibling;break;case\"afterbegin\":n=t.firstElementChild;break;case\"beforeend\":n=t.lastElementChild;break;case\"afterend\":n=t.nextElementSibling;break;default:throw Error(\"Wrong position\")}return this.sideEffects.push(()=>n.remove()),n}setDataAttr(t,e,i){t.dataset[e]=i,this.sideEffects.push(()=>{delete t.dataset[e]})}getCssSelectorNotIssueSubTask(t){var e,i,n;return\"issueCountExclSubs\"===(null!==(e=null==t||null===(i=t.rapidListConfig)||void 0===i||null===(n=i.currentStatisticsField)||void 0===n?void 0:n.typeId)&&void 0!==e?e:\"\")?\":not(.ghx-issue-subtask)\":\"\"}getCssSelectorOfIssues(t){return\".ghx-issue\"+this.getCssSelectorNotIssueSubTask(t)}getSearchParam(t){return p(t)}getReportNameFromURL(){return(()=>{const t=window.location.pathname.match(/reports\\/([^\\/\\?]*)/im);return null!=t?t[1]:null})()}getBoardId(){return m()}}const At=\"subgroupsJH\",Pt=\"jiraHelperSwimlaneSettings\",Ot=\"jiraHelperWIPLimits\",Dt=\"slaConfig3\",Rt=\"personLimitsSettings\",$t=\"fieldLimitsJH\",Nt=\"wipLimitCells\",jt=\"#ff5630\",Ft=\"#ffd700\",Ht=\"#1b855c\",qt=t=>[...t.querySelectorAll(\".tick\")].filter(t=>\"0\"===t.lastChild.attributes.y.value&&t.lastChild.textContent).map(t=>{const[,e]=t.attributes.transform.value.split(\",\");return{position:Number(e.slice(0,-1)),value:Number(t.lastChild.textContent)}}),zt=(t,e)=>{let i=t[t.length-1];for(let n=0;n<t.length;n++)if(t[n].value>=e){i=t[n];break}if(t[t.length-1].value>=30){const n=t[0];return n&&i?n.position-e**(1/3)*((n.position-i.position)/i.value**(1/3)):0}let n=t[0];for(let i=t.length-1;i>=0;i--)if(t[i].value<=e){n=t[i];break}if(!n||!i)return 0;const r=i.value===n.value?0:(e-n.value)/(i.value-n.value);return n.position-r*(n.position-i.position)},Wt=t=>Math.log(t)/Math.log(10),Vt=({slaPosition:t,issues:e,issuesCluster:i})=>{const n=e.filter(e=>e.attributes.cy.value>=t).length,r=i.filter(e=>e.attributes.cy.value>=t).map(t=>Math.round(Math.exp(((t.attributes.r.value-6)*(2-Wt(2))/9+Wt(2))*Math.log(10)))).reduce((t,e)=>t+e,0),s=document.querySelector(\".js-chart-snapshot-issue-count\").innerText.replace(\",\",\"\");return Math.round((n+r)/s*100)},Ut=({chartElement:t,value:e,slaPercentile:i,slaPosition:n,pathId:r,strokeColor:s})=>{const o=((t,e,i)=>{const n=e+\"-label\";if(document.getElementById(n))return document.getElementById(n);const r=t.namespaceURI,s=document.createElementNS(r,\"text\");return s.id=n,s.setAttributeNS(null,\"style\",`fill: ${i||\"green\"};`),[\"-1.25em\",\"1.25em\"].forEach(t=>{const e=document.createElementNS(r,\"tspan\");e.setAttributeNS(null,\"x\",\"10\"),e.setAttributeNS(null,\"dy\",t),e.appendChild(document.createTextNode(\"\")),s.appendChild(e)}),t.querySelector(\".layer.mean\").appendChild(s),s})(t,r,s);o.firstChild.innerHTML=e+\"d\",o.lastChild.innerHTML=i+\"%\",o.setAttributeNS(null,\"y\",n+12)},Gt=(t,e,i=t)=>{const n=qt(e),r=[...e.querySelectorAll(\"g.layer.issues circle.issue\")],s=[...e.querySelectorAll(\"g.layer.issue-clusters circle.cluster\")],o=e.querySelector(\".control-chart-mean\"),[,a]=o.getAttribute(\"d\").split(\"L\"),[l]=a.split(\",\"),u=({value:t,pathId:i,strokeColor:o})=>{const a=zt(n,t);if(Number.isNaN(a))return;const u=Vt({slaPosition:a,issues:r,issuesCluster:s}),[d,c]=(({slaPercentile:t,ticsVals:e,issues:i,issuesCluster:n})=>{const r=e[e.length-1].value,s=[0,0],o=r<50?.5:1;let a=0,l=e[0].value,u=0,d=0;for(;a<2&&l<=r;)if(d=zt(e,l),u=Vt({slaPosition:d,issues:i,issuesCluster:n}),l+=o,u!==t||(s[a]=d,0!==a)){if(1===a&&u!==t){a+=1;break}}else a+=1,s[a]=d;return s[0]=Number.isNaN(s[0])?0:s[0],s[1]=Number.isNaN(s[1])?0:s[1],s})({slaPercentile:u,ticsVals:n,issues:r,issuesCluster:s});((t,e,i)=>{if(document.getElementById(e))return document.getElementById(e);const n=t.namespaceURI,r=document.createElementNS(n,\"path\");return r.id=e,r.setAttributeNS(null,\"fill\",\"none\"),r.setAttributeNS(null,\"stroke\",i||\"green\"),r.setAttributeNS(null,\"stroke-width\",\"3\"),t.querySelector(\".layer.mean\").appendChild(r),r})(e,i,o).setAttributeNS(null,\"d\",`M0,${a} L${l},${a}`);const h=((t,e,i)=>{const n=e+\"-rect\";if(document.getElementById(n))return document.getElementById(n);const r=t.namespaceURI,s=document.createElementNS(r,\"rect\");return s.id=n,s.setAttributeNS(null,\"fill\",i||\"green\"),s.setAttributeNS(null,\"stroke\",i||\"green\"),s.setAttributeNS(null,\"fill-opacity\",\"0.15\"),s.setAttributeNS(null,\"stroke-width\",\"1\"),s.setAttributeNS(null,\"x\",\"0\"),s.setAttributeNS(null,\"y\",\"0\"),s.setAttributeNS(null,\"width\",\"0\"),s.setAttributeNS(null,\"height\",\"0\"),t.querySelector(\".layer.mean\").appendChild(s),s})(e,i,o),p=d-c;h.setAttributeNS(null,\"y\",c),h.setAttributeNS(null,\"width\",l),h.setAttributeNS(null,\"height\",p),Ut({chartElement:e,value:t,slaPercentile:u,slaPosition:a,pathId:i,strokeColor:o})};u({value:t,pathId:\"jira-helper-sla-path\",strokeColor:\"green\"});if(t!==i)u({value:i,pathId:\"jira-helper-sla-path-changing\",strokeColor:\"#91cd53\"});else{const t=document.getElementById(\"jira-helper-sla-path-changing\");t&&t.remove();const e=document.getElementById(\"jira-helper-sla-path-changing-label\");e&&e.remove()}};var Yt,Xt,Jt,Kt,Qt,Zt,te,ee,ie=class extends Bt{shouldApply(){return\"controlChart\"===this.getSearchParam(\"chart\")||\"control-chart\"===this.getReportNameFromURL()}getModificationId(){return\"add-sla-\"+this.getBoardId()}waitForLoading(){return this.waitForElement(\"#control-chart svg\")}loadData(){return Promise.all([this.getBoardProperty(Dt),this.getBoardEditData()])}async apply(t,e){if(!t)return;const[{value:i=0}={},{canEdit:n}]=t;await this.waitForElement(\".tick\",e);let r=Number(i);window.onpopstate=()=>{const t=this.getSearchParam(\"sla\");null!==t&&(document.getElementById(\"jira-helper-sla-input\").value=t,Gt(r,e,Number(t)))};const s=this.getSearchParam(\"sla\");let o=null!==s?Number(s):r;Gt(r,e,o),(()=>{const t=document.querySelector(\".ghx-legend-column:last-child\"),e=document.createElement(\"ul\");e.classList.add(\"ghx-legend-item\"),e.innerHTML='\\n  <li class=\"ghx-legend-key\"><svg height=\"100%\" width=\"100%\"><path d=\"M0,20L20,0\" stroke=\"green\" stroke-width=\"3\" fill=\"none\"/></svg></li>\\n  <li class=\"ghx-legend-value\">SLA</li>\\n  ',t.appendChild(e)})(),((t,e,i,{onChange:n,onSave:r})=>{const s=document.querySelector(\"#ghx-chart-options-view\"),o=document.createElement(\"div\");o.innerHTML=`\\n    <form class=\"aui\">\\n        <div class=\"field-group\">\\n            <label>SLA</label>\\n            <div style=\"display: flex\">\\n                <input id=\"jira-helper-sla-input\" type=\"number\" class=\"text\" style=\"width: 50px; margin-right: 4px;\">\\n                ${e?'<input type=\"submit\" class=\"aui-button aui-button-primary\" id=\"jira-helper-sla-save\" value=\"Save\" disabled>':\"\"}\\n            </div>\\n        </div>\\n    </form>\\n  `,s.appendChild(o);const a=document.getElementById(\"jira-helper-sla-input\");a.value=t;const l=document.getElementById(\"jira-helper-sla-save\");i(a,\"input\",t=>{n(Number(t.target.value)||0),l&&(l.disabled=!1)}),e&&i(l,\"click\",()=>{r(),l.disabled=!0})})(o,n,this.addEventListener,{onChange(t){o=t;const i=new URLSearchParams(window.location.search);i.set(\"sla\",t),window.history.pushState(window.history.state,null,\"?\"+i.toString()),Gt(r,e,o)},onSave:()=>{r=o,this.updateBoardProperty(Dt,{value:r}),Gt(r,e,o)}})}},ne=\"transform\",re=ne+\"Origin\",se=function(t){var e=t.ownerDocument||t;!(ne in t.style)&&\"msTransform\"in t.style&&(re=(ne=\"msTransform\")+\"Origin\");for(;e.parentNode&&(e=e.parentNode););if(Xt=window,te=new he,e){Yt=e,Jt=e.documentElement,Kt=e.body;var i=e.createElement(\"div\"),n=e.createElement(\"div\");Kt.appendChild(i),i.appendChild(n),i.style.position=\"static\",i.style[ne]=\"translate3d(0,0,1px)\",ee=n.offsetParent!==i,Kt.removeChild(i)}return e},oe=[],ae=[],le=function(t){return t.ownerSVGElement||(\"svg\"===(t.tagName+\"\").toLowerCase()?t:null)},ue=function t(e,i){if(e.parentNode&&(Yt||se(e))){var n=le(e),r=n?n.getAttribute(\"xmlns\")||\"http://www.w3.org/2000/svg\":\"http://www.w3.org/1999/xhtml\",s=n?i?\"rect\":\"g\":\"div\",o=2!==i?0:100,a=3===i?100:0,l=\"position:absolute;display:block;pointer-events:none;margin:0;padding:0;\",u=Yt.createElementNS?Yt.createElementNS(r.replace(/^https/,\"http\"),s):Yt.createElement(s);return i&&(n?(Zt||(Zt=t(e)),u.setAttribute(\"width\",.01),u.setAttribute(\"height\",.01),u.setAttribute(\"transform\",\"translate(\"+o+\",\"+a+\")\"),Zt.appendChild(u)):(Qt||((Qt=t(e)).style.cssText=l),u.style.cssText=l+\"width:0.1px;height:0.1px;top:\"+a+\"px;left:\"+o+\"px\",Qt.appendChild(u))),u}throw\"Need document and parent.\"},de=function(t,e){var i,n,r,s,o,a,l=le(t),u=t===l,d=l?oe:ae,c=t.parentNode;if(t===Xt)return t;if(d.length||d.push(ue(t,1),ue(t,2),ue(t,3)),i=l?Zt:Qt,l)r=u?{x:0,y:0}:t.getBBox(),(n=t.transform?t.transform.baseVal:{}).numberOfItems?(s=(n=n.numberOfItems>1?function(t){for(var e=new he,i=0;i<t.numberOfItems;i++)e.multiply(t.getItem(i).matrix);return e}(n):n.getItem(0).matrix).a*r.x+n.c*r.y,o=n.b*r.x+n.d*r.y):(n=te,s=r.x,o=r.y),e&&\"g\"===t.tagName.toLowerCase()&&(s=o=0),(u?l:c).appendChild(i),i.setAttribute(\"transform\",\"matrix(\"+n.a+\",\"+n.b+\",\"+n.c+\",\"+n.d+\",\"+(n.e+s)+\",\"+(n.f+o)+\")\");else{if(s=o=0,ee)for(n=t.offsetParent,r=t;r&&(r=r.parentNode)&&r!==n&&r.parentNode;)(Xt.getComputedStyle(r)[ne]+\"\").length>4&&(s=r.offsetLeft,o=r.offsetTop,r=0);if(\"absolute\"!==(a=Xt.getComputedStyle(t)).position)for(n=t.offsetParent;c&&c!==n;)s+=c.scrollLeft||0,o+=c.scrollTop||0,c=c.parentNode;(r=i.style).top=t.offsetTop-o+\"px\",r.left=t.offsetLeft-s+\"px\",r[ne]=a[ne],r[re]=a[re],r.position=\"fixed\"===a.position?\"fixed\":\"absolute\",t.parentNode.appendChild(i)}return i},ce=function(t,e,i,n,r,s,o){return t.a=e,t.b=i,t.c=n,t.d=r,t.e=s,t.f=o,t},he=function(){function t(t,e,i,n,r,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),ce(this,t,e,i,n,r,s)}var e=t.prototype;return e.inverse=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.e,s=this.f,o=t*n-e*i||1e-10;return ce(this,n/o,-e/o,-i/o,t/o,(i*s-n*r)/o,-(t*s-e*r)/o)},e.multiply=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=this.e,o=this.f,a=t.a,l=t.c,u=t.b,d=t.d,c=t.e,h=t.f;return ce(this,a*e+u*n,a*i+u*r,l*e+d*n,l*i+d*r,s+c*e+h*n,o+c*i+h*r)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=this.e,o=this.f;return e===t.a&&i===t.b&&n===t.c&&r===t.d&&s===t.e&&o===t.f},e.apply=function(t,e){void 0===e&&(e={});var i=t.x,n=t.y,r=this.a,s=this.b,o=this.c,a=this.d,l=this.e,u=this.f;return e.x=i*r+n*o+l||0,e.y=i*s+n*a+u||0,e},t}();function pe(t,e,i,n){if(!t||!t.parentNode||(Yt||se(t)).documentElement===t)return new he;var r=function(t){for(var e,i;t&&t!==Kt;)(i=t._gsap)&&i.uncache&&i.get(t,\"x\"),i&&!i.scaleX&&!i.scaleY&&i.renderTransform&&(i.scaleX=i.scaleY=1e-4,i.renderTransform(1,i),e?e.push(i):e=[i]),t=t.parentNode;return e}(t),s=le(t)?oe:ae,o=de(t,i),a=s[0].getBoundingClientRect(),l=s[1].getBoundingClientRect(),u=s[2].getBoundingClientRect(),d=o.parentNode,c=!n&&function t(e){return\"fixed\"===Xt.getComputedStyle(e).position||((e=e.parentNode)&&1===e.nodeType?t(e):void 0)}(t),h=new he((l.left-a.left)/100,(l.top-a.top)/100,(u.left-a.left)/100,(u.top-a.top)/100,a.left+(c?0:Xt.pageXOffset||Yt.scrollLeft||Jt.scrollLeft||Kt.scrollLeft||0),a.top+(c?0:Xt.pageYOffset||Yt.scrollTop||Jt.scrollTop||Kt.scrollTop||0));if(d.removeChild(o),r)for(a=r.length;a--;)(l=r[a]).scaleX=l.scaleY=0,l.renderTransform(1,l);return e?h.inverse():h}var me,fe,ge,ve,ye,be,we,xe,_e,Ce,Se,Le,Ee,ke,Te,Ie,Me,Be,Ae,Pe,Oe,De=function(){return\"undefined\"!=typeof window},Re=function(){return me||De()&&(me=window.gsap)&&me.registerPlugin&&me},$e=function(t){return\"function\"==typeof t},Ne=function(t){return\"object\"==typeof t},je=function(t){return void 0===t},Fe=function(){return!1},He=\"transform\",qe=\"transformOrigin\",ze=function(t){return Math.round(1e4*t)/1e4},We=Array.isArray,Ve=function(t,e){var i=ge.createElementNS?ge.createElementNS((e||\"http://www.w3.org/1999/xhtml\").replace(/^https/,\"http\"),t):ge.createElement(t);return i.style?i:ge.createElement(t)},Ue=180/Math.PI,Ge=1e20,Ye=new he,Xe=Date.now||function(){return(new Date).getTime()},Je=[],Ke={},Qe=0,Ze=/^(?:a|input|textarea|button|select)$/i,ti=0,ei={},ii={},ni=function(t,e){var i,n={};for(i in t)n[i]=e?t[i]*e:t[i];return n},ri=function t(e,i){for(var n,r=e.length;r--;)i?e[r].style.touchAction=i:e[r].style.removeProperty(\"touch-action\"),(n=e[r].children)&&n.length&&t(n,i)},si=function(){return Je.forEach((function(t){return t()}))},oi=function(){return!Je.length&&me.ticker.remove(si)},ai=function(t){for(var e=Je.length;e--;)Je[e]===t&&Je.splice(e,1);me.to(oi,{overwrite:!0,delay:15,duration:0,onComplete:oi,data:\"_draggable\"})},li=function(t,e,i,n){if(t.addEventListener){var r=Ee[e];n=n||(Se?{passive:!1}:null),t.addEventListener(r||e,i,n),r&&e!==r&&t.addEventListener(e,i,n)}},ui=function(t,e,i){if(t.removeEventListener){var n=Ee[e];t.removeEventListener(n||e,i),n&&e!==n&&t.removeEventListener(e,i)}},di=function(t){t.preventDefault&&t.preventDefault(),t.preventManipulation&&t.preventManipulation()},ci=function t(e){Te=e.touches&&ke<e.touches.length,ui(e.target,\"touchend\",t)},hi=function(t){Te=t.touches&&ke<t.touches.length,li(t.target,\"touchend\",ci)},pi=function(t){return fe.pageYOffset||t.scrollTop||t.documentElement.scrollTop||t.body.scrollTop||0},mi=function(t){return fe.pageXOffset||t.scrollLeft||t.documentElement.scrollLeft||t.body.scrollLeft||0},fi=function t(e,i){li(e,\"scroll\",i),vi(e.parentNode)||t(e.parentNode,i)},gi=function t(e,i){ui(e,\"scroll\",i),vi(e.parentNode)||t(e.parentNode,i)},vi=function(t){return!(t&&t!==ve&&9!==t.nodeType&&t!==ge.body&&t!==fe&&t.nodeType&&t.parentNode)},yi=function(t,e){var i=\"x\"===e?\"Width\":\"Height\",n=\"scroll\"+i,r=\"client\"+i;return Math.max(0,vi(t)?Math.max(ve[n],ye[n])-(fe[\"inner\"+i]||ve[r]||ye[r]):t[n]-t[r])},bi=function t(e,i){var n=yi(e,\"x\"),r=yi(e,\"y\");vi(e)?e=ii:t(e.parentNode,i),e._gsMaxScrollX=n,e._gsMaxScrollY=r,i||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},wi=function(t,e,i){var n=t.style;n&&(je(n[e])&&(e=_e(e,t)||e),null==i?n.removeProperty&&n.removeProperty(e.replace(/([A-Z])/g,\"-$1\").toLowerCase()):n[e]=i)},xi=function(t){return fe.getComputedStyle(t instanceof Element?t:t.host||(t.parentNode||{}).host||t)},_i={},Ci=function(t){if(t===fe)return _i.left=_i.top=0,_i.width=_i.right=ve.clientWidth||t.innerWidth||ye.clientWidth||0,_i.height=_i.bottom=(t.innerHeight||0)-20<ve.clientHeight?ve.clientHeight:t.innerHeight||ye.clientHeight||0,_i;var e=t.ownerDocument||ge,i=je(t.pageX)?t.nodeType||je(t.left)||je(t.top)?Ce(t)[0].getBoundingClientRect():t:{left:t.pageX-mi(e),top:t.pageY-pi(e),right:t.pageX-mi(e)+1,bottom:t.pageY-pi(e)+1};return je(i.right)&&!je(i.width)?(i.right=i.left+i.width,i.bottom=i.top+i.height):je(i.width)&&(i={width:i.right-i.left,height:i.bottom-i.top,right:i.right,left:i.left,bottom:i.bottom,top:i.top}),i},Si=function(t,e,i){var n,r=t.vars,s=r[i],o=t._listeners[e];return $e(s)&&(n=s.apply(r.callbackScope||t,r[i+\"Params\"]||[t.pointerEvent])),o&&!1===t.dispatchEvent(e)&&(n=!1),n},Li=function(t,e){var i,n,r,s=Ce(t)[0];return s.nodeType||s===fe?ki(s,e):je(t.left)?{left:n=t.min||t.minX||t.minRotation||0,top:i=t.min||t.minY||0,width:(t.max||t.maxX||t.maxRotation||0)-n,height:(t.max||t.maxY||0)-i}:(r={x:0,y:0},{left:t.left-r.x,top:t.top-r.y,width:t.width,height:t.height})},Ei={},ki=function(t,e){e=Ce(e)[0];var i,n,r,s,o,a,l,u,d,c,h,p,m,f,g=t.getBBox&&t.ownerSVGElement,v=t.ownerDocument||ge;if(t===fe)r=pi(v),n=(i=mi(v))+(v.documentElement.clientWidth||t.innerWidth||v.body.clientWidth||0),s=r+((t.innerHeight||0)-20<v.documentElement.clientHeight?v.documentElement.clientHeight:t.innerHeight||v.body.clientHeight||0);else{if(e===fe||je(e))return t.getBoundingClientRect();i=r=0,g?(h=(c=t.getBBox()).width,p=c.height):(t.viewBox&&(c=t.viewBox.baseVal)&&(i=c.x||0,r=c.y||0,h=c.width,p=c.height),h||(c=\"border-box\"===(m=xi(t)).boxSizing,h=(parseFloat(m.width)||t.clientWidth||0)+(c?0:parseFloat(m.borderLeftWidth)+parseFloat(m.borderRightWidth)),p=(parseFloat(m.height)||t.clientHeight||0)+(c?0:parseFloat(m.borderTopWidth)+parseFloat(m.borderBottomWidth)))),n=h,s=p}return t===e?{left:i,top:r,width:n-i,height:s-r}:(a=(o=pe(e,!0).multiply(pe(t))).apply({x:i,y:r}),l=o.apply({x:n,y:r}),u=o.apply({x:n,y:s}),d=o.apply({x:i,y:s}),i=Math.min(a.x,l.x,u.x,d.x),r=Math.min(a.y,l.y,u.y,d.y),{left:i+((f=e.parentNode||{}).scrollLeft||0),top:r+(f.scrollTop||0),width:Math.max(a.x,l.x,u.x,d.x)-i,height:Math.max(a.y,l.y,u.y,d.y)-r})},Ti=function(t,e,i,n,r,s){var o,a,l,u={};if(e)if(1!==r&&e instanceof Array){if(u.end=o=[],l=e.length,Ne(e[0]))for(a=0;a<l;a++)o[a]=ni(e[a],r);else for(a=0;a<l;a++)o[a]=e[a]*r;i+=1.1,n-=1.1}else $e(e)?u.end=function(i){var n,s,o=e.call(t,i);if(1!==r)if(Ne(o)){for(s in n={},o)n[s]=o[s]*r;o=n}else o*=r;return o}:u.end=e;return(i||0===i)&&(u.max=i),(n||0===n)&&(u.min=n),s&&(u.velocity=0),u},Ii=function t(e){var i;return!(!e||!e.getAttribute||e===ye)&&(!(\"true\"!==(i=e.getAttribute(\"data-clickable\"))&&(\"false\"===i||!e.onclick&&!Ze.test(e.nodeName+\"\")&&\"true\"!==e.getAttribute(\"contentEditable\")))||t(e.parentNode))},Mi=function(t,e){for(var i,n=t.length;n--;)(i=t[n]).ondragstart=i.onselectstart=e?null:Fe,me.set(i,{lazy:!0,userSelect:e?\"text\":\"none\"})},Bi=function(t,e){t=me.utils.toArray(t)[0],e=e||{};var i,n,r,s,o,a,l=document.createElement(\"div\"),u=l.style,d=t.firstChild,c=0,h=0,p=t.scrollTop,m=t.scrollLeft,f=t.scrollWidth,g=t.scrollHeight,v=0,y=0,b=0;Pe&&!1!==e.force3D?(o=\"translate3d(\",a=\"px,0px)\"):He&&(o=\"translate(\",a=\"px)\"),this.scrollTop=function(t,e){if(!arguments.length)return-this.top();this.top(-t,e)},this.scrollLeft=function(t,e){if(!arguments.length)return-this.left();this.left(-t,e)},this.left=function(i,n){if(!arguments.length)return-(t.scrollLeft+h);var r=t.scrollLeft-m,s=h;if((r>2||r<-2)&&!n)return m=t.scrollLeft,me.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-m),void(e.onKill&&e.onKill());(i=-i)<0?(h=i-.5|0,i=0):i>y?(h=i-y|0,i=y):h=0,(h||s)&&(this._skip||(u[He]=o+-h+\"px,\"+-c+a),h+v>=0&&(u.paddingRight=h+v+\"px\")),t.scrollLeft=0|i,m=t.scrollLeft},this.top=function(i,n){if(!arguments.length)return-(t.scrollTop+c);var r=t.scrollTop-p,s=c;if((r>2||r<-2)&&!n)return p=t.scrollTop,me.killTweensOf(this,{top:1,scrollTop:1}),this.top(-p),void(e.onKill&&e.onKill());(i=-i)<0?(c=i-.5|0,i=0):i>b?(c=i-b|0,i=b):c=0,(c||s)&&(this._skip||(u[He]=o+-h+\"px,\"+-c+a)),t.scrollTop=0|i,p=t.scrollTop},this.maxScrollTop=function(){return b},this.maxScrollLeft=function(){return y},this.disable=function(){for(d=l.firstChild;d;)s=d.nextSibling,t.appendChild(d),d=s;t===l.parentNode&&t.removeChild(l)},this.enable=function(){if((d=t.firstChild)!==l){for(;d;)s=d.nextSibling,l.appendChild(d),d=s;t.appendChild(l),this.calibrate()}},this.calibrate=function(e){var s,o,a,d=t.clientWidth===i;p=t.scrollTop,m=t.scrollLeft,d&&t.clientHeight===n&&l.offsetHeight===r&&f===t.scrollWidth&&g===t.scrollHeight&&!e||((c||h)&&(o=this.left(),a=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),s=xi(t),d&&!e||(u.display=\"block\",u.width=\"auto\",u.paddingRight=\"0px\",(v=Math.max(0,t.scrollWidth-t.clientWidth))&&(v+=parseFloat(s.paddingLeft)+(Oe?parseFloat(s.paddingRight):0))),u.display=\"inline-block\",u.position=\"relative\",u.overflow=\"visible\",u.verticalAlign=\"top\",u.boxSizing=\"content-box\",u.width=\"100%\",u.paddingRight=v+\"px\",Oe&&(u.paddingBottom=s.paddingBottom),i=t.clientWidth,n=t.clientHeight,f=t.scrollWidth,g=t.scrollHeight,y=t.scrollWidth-i,b=t.scrollHeight-n,r=l.offsetHeight,u.display=\"block\",(o||a)&&(this.left(o),this.top(a)))},this.content=l,this.element=t,this._skip=!1,this.enable()},Ai=function(t){if(De()&&document.body){var e=window&&window.navigator;fe=window,ge=document,ve=ge.documentElement,ye=ge.body,be=Ve(\"div\"),Ae=!!window.PointerEvent,(we=Ve(\"div\")).style.cssText=\"visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab\",Be=\"grab\"===we.style.cursor?\"grab\":\"move\",Ie=e&&-1!==e.userAgent.toLowerCase().indexOf(\"android\"),Le=\"ontouchstart\"in ve&&\"orientation\"in fe||e&&(e.MaxTouchPoints>0||e.msMaxTouchPoints>0),n=Ve(\"div\"),r=Ve(\"div\"),s=r.style,o=ye,s.display=\"inline-block\",s.position=\"relative\",n.style.cssText=r.innerHTML=\"width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden\",n.appendChild(r),o.appendChild(n),i=r.offsetHeight+18>n.scrollHeight,o.removeChild(n),Oe=i,Ee=function(t){for(var e=t.split(\",\"),i=((\"onpointerdown\"in be?\"pointerdown,pointermove,pointerup,pointercancel\":\"onmspointerdown\"in be?\"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel\":t).split(\",\")),n={},r=4;--r>-1;)n[e[r]]=i[r],n[i[r]]=e[r];try{ve.addEventListener(\"test\",null,Object.defineProperty({},\"passive\",{get:function(){Se=1}}))}catch(t){}return n}(\"touchstart,touchmove,touchend,touchcancel\"),li(ge,\"touchcancel\",Fe),li(fe,\"touchmove\",Fe),ye&&ye.addEventListener(\"touchstart\",Fe),li(ge,\"contextmenu\",(function(){for(var t in Ke)Ke[t].isPressed&&Ke[t].endDrag()})),me=xe=Re()}var i,n,r,s,o;me?(Me=me.plugins.inertia,_e=me.utils.checkPrefix,He=_e(He),qe=_e(qe),Ce=me.utils.toArray,Pe=!!_e(\"perspective\")):t&&console.warn(\"Please gsap.registerPlugin(Draggable)\")},Pi=function(t){var e,i;function n(e,i){var r;r=t.call(this)||this,xe||Ai(1),e=Ce(e)[0],Me||(Me=me.plugins.inertia),r.vars=i=ni(i||{}),r.target=e,r.x=r.y=r.rotation=0,r.dragResistance=parseFloat(i.dragResistance)||0,r.edgeResistance=isNaN(i.edgeResistance)?1:parseFloat(i.edgeResistance)||0,r.lockAxis=i.lockAxis,r.autoScroll=i.autoScroll||0,r.lockedAxis=null,r.allowEventDefault=!!i.allowEventDefault,me.getProperty(e,\"x\");var s,o,a,l,u,d,c,h,p,m,f,g,v,y,b,w,x,_,C,S,L,E,k,T,I,M,B,A,P,O,D,R=(i.type||\"x,y\").toLowerCase(),$=~R.indexOf(\"x\")||~R.indexOf(\"y\"),N=-1!==R.indexOf(\"rotation\"),j=N?\"rotation\":$?\"x\":\"left\",F=$?\"y\":\"top\",H=!(!~R.indexOf(\"x\")&&!~R.indexOf(\"left\")&&\"scroll\"!==R),q=!(!~R.indexOf(\"y\")&&!~R.indexOf(\"top\")&&\"scroll\"!==R),z=i.minimumMovement||2,W=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(r),V=Ce(i.trigger||i.handle||e),U={},G=0,Y=!1,X=i.autoScrollMarginTop||40,J=i.autoScrollMarginRight||40,K=i.autoScrollMarginBottom||40,Q=i.autoScrollMarginLeft||40,Z=i.clickableTest||Ii,tt=0,et=e._gsap||me.core.getCache(e),it=function t(e){return\"fixed\"===xi(e).position||((e=e.parentNode)&&1===e.nodeType?t(e):void 0)}(e),nt=function(t,i){return parseFloat(et.get(e,t,i))},rt=e.ownerDocument||ge,st=function(t){return di(t),t.stopImmediatePropagation&&t.stopImmediatePropagation(),!1},ot=function t(i){if(W.autoScroll&&W.isDragging&&(Y||x)){var n,r,s,a,l,u,d,c,p=e,m=15*W.autoScroll;for(Y=!1,ii.scrollTop=null!=fe.pageYOffset?fe.pageYOffset:null!=rt.documentElement.scrollTop?rt.documentElement.scrollTop:rt.body.scrollTop,ii.scrollLeft=null!=fe.pageXOffset?fe.pageXOffset:null!=rt.documentElement.scrollLeft?rt.documentElement.scrollLeft:rt.body.scrollLeft,a=W.pointerX-ii.scrollLeft,l=W.pointerY-ii.scrollTop;p&&!r;)n=(r=vi(p.parentNode))?ii:p.parentNode,s=r?{bottom:Math.max(ve.clientHeight,fe.innerHeight||0),right:Math.max(ve.clientWidth,fe.innerWidth||0),left:0,top:0}:n.getBoundingClientRect(),u=d=0,q&&((c=n._gsMaxScrollY-n.scrollTop)<0?d=c:l>s.bottom-K&&c?(Y=!0,d=Math.min(c,m*(1-Math.max(0,s.bottom-l)/K)|0)):l<s.top+X&&n.scrollTop&&(Y=!0,d=-Math.min(n.scrollTop,m*(1-Math.max(0,l-s.top)/X)|0)),d&&(n.scrollTop+=d)),H&&((c=n._gsMaxScrollX-n.scrollLeft)<0?u=c:a>s.right-J&&c?(Y=!0,u=Math.min(c,m*(1-Math.max(0,s.right-a)/J)|0)):a<s.left+Q&&n.scrollLeft&&(Y=!0,u=-Math.min(n.scrollLeft,m*(1-Math.max(0,a-s.left)/Q)|0)),u&&(n.scrollLeft+=u)),r&&(u||d)&&(fe.scrollTo(n.scrollLeft,n.scrollTop),bt(W.pointerX+u,W.pointerY+d)),p=n}if(x){var f=W.x,g=W.y;N?(W.deltaX=f-parseFloat(et.rotation),W.rotation=f,et.rotation=f+\"deg\",et.renderTransform(1,et)):o?(q&&(W.deltaY=g-o.top(),o.top(g)),H&&(W.deltaX=f-o.left(),o.left(f))):$?(q&&(W.deltaY=g-parseFloat(et.y),et.y=g+\"px\"),H&&(W.deltaX=f-parseFloat(et.x),et.x=f+\"px\"),et.renderTransform(1,et)):(q&&(W.deltaY=g-parseFloat(e.style.top||0),e.style.top=g+\"px\"),H&&(W.deltaX=f-parseFloat(e.style.left||0),e.style.left=f+\"px\")),!h||i||A||(A=!0,!1===Si(W,\"drag\",\"onDrag\")&&(H&&(W.x-=W.deltaX),q&&(W.y-=W.deltaY),t(!0)),A=!1)}x=!1},at=function(t,i){var n,r,s=W.x,a=W.y;e._gsap||(et=me.core.getCache(e)),et.uncache&&me.getProperty(e,\"x\"),$?(W.x=parseFloat(et.x),W.y=parseFloat(et.y)):N?W.x=W.rotation=parseFloat(et.rotation):o?(W.y=o.top(),W.x=o.left()):(W.y=parseFloat(e.style.top||(r=xi(e))&&r.top)||0,W.x=parseFloat(e.style.left||(r||{}).left)||0),(C||S||L)&&!i&&(W.isDragging||W.isThrowing)&&(L&&(ei.x=W.x,ei.y=W.y,(n=L(ei)).x!==W.x&&(W.x=n.x,x=!0),n.y!==W.y&&(W.y=n.y,x=!0)),C&&(n=C(W.x))!==W.x&&(W.x=n,N&&(W.rotation=n),x=!0),S&&((n=S(W.y))!==W.y&&(W.y=n),x=!0)),x&&ot(!0),t||(W.deltaX=W.x-s,W.deltaY=W.y-a,Si(W,\"throwupdate\",\"onThrowUpdate\"))},lt=function(t,e,i,n){return null==e&&(e=-Ge),null==i&&(i=Ge),$e(t)?function(r){var s=W.isPressed?1-W.edgeResistance:1;return t.call(W,r>i?i+(r-i)*s:r<e?e+(r-e)*s:r)*n}:We(t)?function(n){for(var r,s,o=t.length,a=0,l=Ge;--o>-1;)(s=(r=t[o])-n)<0&&(s=-s),s<l&&r>=e&&r<=i&&(a=o,l=s);return t[a]}:isNaN(t)?function(t){return t}:function(){return t*n}},ut=function(){var t,n,r,s;c=!1,o?(o.calibrate(),W.minX=f=-o.maxScrollLeft(),W.minY=v=-o.maxScrollTop(),W.maxX=m=W.maxY=g=0,c=!0):i.bounds&&(t=Li(i.bounds,e.parentNode),N?(W.minX=f=t.left,W.maxX=m=t.left+t.width,W.minY=v=W.maxY=g=0):je(i.bounds.maxX)&&je(i.bounds.maxY)?(n=Li(e,e.parentNode),W.minX=f=Math.round(nt(j,\"px\")+t.left-n.left-.5),W.minY=v=Math.round(nt(F,\"px\")+t.top-n.top-.5),W.maxX=m=Math.round(f+(t.width-n.width)),W.maxY=g=Math.round(v+(t.height-n.height))):(t=i.bounds,W.minX=f=t.minX,W.minY=v=t.minY,W.maxX=m=t.maxX,W.maxY=g=t.maxY),f>m&&(W.minX=m,W.maxX=m=f,f=W.minX),v>g&&(W.minY=g,W.maxY=g=v,v=W.minY),N&&(W.minRotation=f,W.maxRotation=m),c=!0),i.liveSnap&&(r=!0===i.liveSnap?i.snap||{}:i.liveSnap,s=We(r)||$e(r),N?(C=lt(s?r:r.rotation,f,m,1),S=null):r.points?L=function(t,e,i,n,r,s,o){return s=s&&s<Ge?s*s:Ge,$e(t)?function(a){var l,u,d,c=W.isPressed?1-W.edgeResistance:1,h=a.x,p=a.y;return a.x=h=h>i?i+(h-i)*c:h<e?e+(h-e)*c:h,a.y=p=p>r?r+(p-r)*c:p<n?n+(p-n)*c:p,(l=t.call(W,a))!==a&&(a.x=l.x,a.y=l.y),1!==o&&(a.x*=o,a.y*=o),s<Ge&&(u=a.x-h)*u+(d=a.y-p)*d>s&&(a.x=h,a.y=p),a}:We(t)?function(e){for(var i,n,r,o,a=t.length,l=0,u=Ge;--a>-1;)(o=(i=(r=t[a]).x-e.x)*i+(n=r.y-e.y)*n)<u&&(l=a,u=o);return u<=s?t[l]:e}:function(t){return t}}(s?r:r.points,f,m,v,g,r.radius,o?-1:1):(H&&(C=lt(s?r:r.x||r.left||r.scrollLeft,f,m,o?-1:1)),q&&(S=lt(s?r:r.y||r.top||r.scrollTop,v,g,o?-1:1))))},dt=function(){W.isThrowing=!1,Si(W,\"throwcomplete\",\"onThrowComplete\")},ct=function(){W.isThrowing=!1},ht=function(t,n){var r,s,a,l;t&&Me?(!0===t&&(r=i.snap||i.liveSnap||{},s=We(r)||$e(r),t={resistance:(i.throwResistance||i.resistance||1e3)/(N?10:1)},N?t.rotation=Ti(W,s?r:r.rotation,m,f,1,n):(H&&(t[j]=Ti(W,s?r:r.points||r.x||r.left,m,f,o?-1:1,n||\"x\"===W.lockedAxis)),q&&(t[F]=Ti(W,s?r:r.points||r.y||r.top,g,v,o?-1:1,n||\"y\"===W.lockedAxis)),(r.points||We(r)&&Ne(r[0]))&&(t.linkedProps=j+\",\"+F,t.radius=r.radius))),W.isThrowing=!0,l=isNaN(i.overshootTolerance)?1===i.edgeResistance?0:1-W.edgeResistance+.2:i.overshootTolerance,t.duration||(t.duration={max:Math.max(i.minDuration||0,\"maxDuration\"in i?i.maxDuration:2),min:isNaN(i.minDuration)?0===l||Ne(t)&&t.resistance>1e3?0:.5:i.minDuration,overshoot:l}),W.tween=a=me.to(o||e,{inertia:t,data:\"_draggable\",onComplete:dt,onInterrupt:ct,onUpdate:i.fastMode?Si:at,onUpdateParams:i.fastMode?[W,\"onthrowupdate\",\"onThrowUpdate\"]:r&&r.radius?[!1,!0]:[]}),i.fastMode||(o&&(o._skip=!0),a.render(1e9,!0,!0),at(!0,!0),W.endX=W.x,W.endY=W.y,N&&(W.endRotation=W.x),a.play(0),at(!0,!0),o&&(o._skip=!1))):c&&W.applyBounds()},pt=function(t){var i,n=T;T=pe(e.parentNode,!0),t&&W.isPressed&&!T.equals(n||new he)&&(i=n.inverse().apply({x:a,y:l}),T.apply(i,i),a=i.x,l=i.y),T.equals(Ye)&&(T=null)},mt=function(){var t,i,n,r=1-W.edgeResistance,s=it?mi(rt):0,h=it?pi(rt):0;pt(!1),Ei.x=W.pointerX-s,Ei.y=W.pointerY-h,T&&T.apply(Ei,Ei),a=Ei.x,l=Ei.y,x&&(bt(W.pointerX,W.pointerY),ot(!0)),o?(ut(),d=o.top(),u=o.left()):(ft()?(at(!0,!0),ut()):W.applyBounds(),N?(t=e.ownerSVGElement?[et.xOrigin-e.getBBox().x,et.yOrigin-e.getBBox().y]:(xi(e)[qe]||\"0 0\").split(\" \"),w=W.rotationOrigin=pe(e).apply({x:parseFloat(t[0])||0,y:parseFloat(t[1])||0}),at(!0,!0),i=W.pointerX-w.x-s,n=w.y-W.pointerY+h,u=W.x,d=W.y=Math.atan2(n,i)*Ue):(d=nt(F,\"px\"),u=nt(j,\"px\"))),c&&r&&(u>m?u=m+(u-m)/r:u<f&&(u=f-(f-u)/r),N||(d>g?d=g+(d-g)/r:d<v&&(d=v-(v-d)/r))),W.startX=u=ze(u),W.startY=d=ze(d)},ft=function(){return W.tween&&W.tween.isActive()},gt=function(){!we.parentNode||ft()||W.isDragging||we.parentNode.removeChild(we)},vt=function(t,r){var u;if(!s||W.isPressed||!t||!(\"mousedown\"!==t.type&&\"pointerdown\"!==t.type||r)&&Xe()-tt<30&&Ee[W.pointerEvent.type])D&&t&&s&&di(t);else{if(I=ft(),W.pointerEvent=t,Ee[t.type]?(k=~t.type.indexOf(\"touch\")?t.currentTarget||t.target:rt,li(k,\"touchend\",wt),li(k,\"touchmove\",yt),li(k,\"touchcancel\",wt),li(rt,\"touchstart\",hi)):(k=null,li(rt,\"mousemove\",yt)),B=null,Ae&&k||(li(rt,\"mouseup\",wt),t&&t.target&&li(t.target,\"mouseup\",wt)),E=Z.call(W,t.target)&&!1===i.dragClickables&&!r)return li(t.target,\"change\",wt),Si(W,\"pressInit\",\"onPressInit\"),Si(W,\"press\",\"onPress\"),Mi(V,!0),void(D=!1);var d;if(M=!(!k||H===q||!1===W.vars.allowNativeTouchScrolling||W.vars.allowContextMenu&&t&&(t.ctrlKey||t.which>2))&&(H?\"y\":\"x\"),(D=!M&&!W.allowEventDefault)&&(di(t),li(fe,\"touchforcechange\",di)),t.changedTouches?(t=y=t.changedTouches[0],b=t.identifier):t.pointerId?b=t.pointerId:y=b=null,ke++,d=ot,Je.push(d),1===Je.length&&me.ticker.add(si),l=W.pointerY=t.pageY,a=W.pointerX=t.pageX,Si(W,\"pressInit\",\"onPressInit\"),(M||W.autoScroll)&&bi(e.parentNode),!e.parentNode||!W.autoScroll||o||N||!e.parentNode._gsMaxScrollX||we.parentNode||e.getBBox||(we.style.width=e.parentNode.scrollWidth+\"px\",e.parentNode.appendChild(we)),mt(),W.tween&&W.tween.kill(),W.isThrowing=!1,me.killTweensOf(o||e,U,!0),o&&me.killTweensOf(e,{scrollTo:1},!0),W.tween=W.lockedAxis=null,(i.zIndexBoost||!N&&!o&&!1!==i.zIndexBoost)&&(e.style.zIndex=n.zIndex++),W.isPressed=!0,h=!(!i.onDrag&&!W._listeners.drag),p=!(!i.onMove&&!W._listeners.move),!N&&(!1!==i.cursor||i.activeCursor))for(u=V.length;--u>-1;)me.set(V[u],{cursor:i.activeCursor||i.cursor||(\"grab\"===Be?\"grabbing\":Be)});Si(W,\"press\",\"onPress\")}},yt=function(t){var i,n,r,o,u,d,c=t;if(s&&!Te&&W.isPressed&&t){if(W.pointerEvent=t,i=t.changedTouches){if((t=i[0])!==y&&t.identifier!==b){for(o=i.length;--o>-1&&(t=i[o]).identifier!==b&&t.target!==e;);if(o<0)return}}else if(t.pointerId&&b&&t.pointerId!==b)return;k&&M&&!B&&(Ei.x=t.pageX,Ei.y=t.pageY,T&&T.apply(Ei,Ei),n=Ei.x,r=Ei.y,((u=Math.abs(n-a))!==(d=Math.abs(r-l))&&(u>z||d>z)||Ie&&M===B)&&(B=u>d&&H?\"x\":\"y\",M&&B!==M&&li(fe,\"touchforcechange\",di),!1!==W.vars.lockAxisOnTouchScroll&&H&&q&&(W.lockedAxis=\"x\"===B?\"y\":\"x\",$e(W.vars.onLockAxis)&&W.vars.onLockAxis.call(W,c)),Ie&&M===B))?wt(c):(W.allowEventDefault||M&&(!B||M===B)||!1===c.cancelable?D&&(D=!1):(di(c),D=!0),W.autoScroll&&(Y=!0),bt(t.pageX,t.pageY,p))}else D&&t&&s&&di(t)},bt=function(t,e,i){var n,r,s,o,h,p,y=1-W.dragResistance,b=1-W.edgeResistance,_=W.pointerX,E=W.pointerY,k=d,I=W.x,M=W.y,B=W.endX,A=W.endY,P=W.endRotation,O=x;W.pointerX=t,W.pointerY=e,it&&(t-=mi(rt),e-=pi(rt)),N?(o=Math.atan2(w.y-e,t-w.x)*Ue,(h=W.y-o)>180?(d-=360,W.y=o):h<-180&&(d+=360,W.y=o),W.x!==u||Math.abs(d-o)>z?(W.y=o,s=u+(d-o)*y):s=u):(T&&(p=t*T.a+e*T.c+T.e,e=t*T.b+e*T.d+T.f,t=p),(r=e-l)<z&&r>-z&&(r=0),(n=t-a)<z&&n>-z&&(n=0),(W.lockAxis||W.lockedAxis)&&(n||r)&&((p=W.lockedAxis)||(W.lockedAxis=p=H&&Math.abs(n)>Math.abs(r)?\"y\":q?\"x\":null,p&&$e(W.vars.onLockAxis)&&W.vars.onLockAxis.call(W,W.pointerEvent)),\"y\"===p?r=0:\"x\"===p&&(n=0)),s=ze(u+n*y),o=ze(d+r*y)),(C||S||L)&&(W.x!==s||W.y!==o&&!N)?(L&&(ei.x=s,ei.y=o,p=L(ei),s=ze(p.x),o=ze(p.y)),C&&(s=ze(C(s))),S&&(o=ze(S(o)))):c&&(s>m?s=m+Math.round((s-m)*b):s<f&&(s=f+Math.round((s-f)*b)),N||(o>g?o=Math.round(g+(o-g)*b):o<v&&(o=Math.round(v+(o-v)*b)))),(W.x!==s||W.y!==o&&!N)&&(N?(W.endRotation=W.x=W.endX=s,x=!0):(q&&(W.y=W.endY=o,x=!0),H&&(W.x=W.endX=s,x=!0)),i&&!1===Si(W,\"move\",\"onMove\")?(W.pointerX=_,W.pointerY=E,d=k,W.x=I,W.y=M,W.endX=B,W.endY=A,W.endRotation=P,x=O):!W.isDragging&&W.isPressed&&(W.isDragging=!0,Si(W,\"dragstart\",\"onDragStart\")))},wt=function t(n,r){if(s&&W.isPressed&&(!n||null==b||r||!(n.pointerId&&n.pointerId!==b&&n.target!==e||n.changedTouches&&!function(t,e){for(var i=t.length;i--;)if(t[i].identifier===e)return!0}(n.changedTouches,b)))){W.isPressed=!1;var o,a,l,u,d,c=n,h=W.isDragging,p=W.vars.allowContextMenu&&n&&(n.ctrlKey||n.which>2),m=me.delayedCall(.001,gt);if(k?(ui(k,\"touchend\",t),ui(k,\"touchmove\",yt),ui(k,\"touchcancel\",t),ui(rt,\"touchstart\",hi)):ui(rt,\"mousemove\",yt),ui(fe,\"touchforcechange\",di),Ae&&k||(ui(rt,\"mouseup\",t),n&&n.target&&ui(n.target,\"mouseup\",t)),x=!1,h&&(G=ti=Xe(),W.isDragging=!1),E&&!p)return n&&(ui(n.target,\"change\",t),W.pointerEvent=c),Mi(V,!1),Si(W,\"release\",\"onRelease\"),Si(W,\"click\",\"onClick\"),void(E=!1);if(ai(ot),!N)for(a=V.length;--a>-1;)wi(V[a],\"cursor\",i.cursor||(!1!==i.cursor?Be:null));if(ke--,n){if((o=n.changedTouches)&&(n=o[0])!==y&&n.identifier!==b){for(a=o.length;--a>-1&&(n=o[a]).identifier!==b&&n.target!==e;);if(a<0)return}W.pointerEvent=c,W.pointerX=n.pageX,W.pointerY=n.pageY}return p&&c?(di(c),D=!0,Si(W,\"release\",\"onRelease\")):c&&!h?(D=!1,I&&(i.snap||i.bounds)&&ht(i.inertia||i.throwProps),Si(W,\"release\",\"onRelease\"),Ie&&\"touchmove\"===c.type||-1!==c.type.indexOf(\"cancel\")||(Si(W,\"click\",\"onClick\"),Xe()-tt<300&&Si(W,\"doubleclick\",\"onDoubleClick\"),u=c.target||e,tt=Xe(),d=function(){tt===P||!W.enabled()||W.isPressed||c.defaultPrevented||(u.click?u.click():rt.createEvent&&((l=rt.createEvent(\"MouseEvents\")).initMouseEvent(\"click\",!0,!0,fe,1,W.pointerEvent.screenX,W.pointerEvent.screenY,W.pointerX,W.pointerY,!1,!1,!1,!1,0,null),u.dispatchEvent(l)))},Ie||c.defaultPrevented||me.delayedCall(.05,d))):(ht(i.inertia||i.throwProps),W.allowEventDefault||!c||!1===i.dragClickables&&Z.call(W,c.target)||!h||M&&(!B||M!==B)||!1===c.cancelable?D=!1:(D=!0,di(c)),Si(W,\"release\",\"onRelease\")),ft()&&m.duration(W.tween.duration()),h&&Si(W,\"dragend\",\"onDragEnd\"),!0}D&&n&&s&&di(n)},xt=function(t){if(t&&W.isDragging&&!o){var i=t.target||e.parentNode,n=i.scrollLeft-i._gsScrollX,r=i.scrollTop-i._gsScrollY;(n||r)&&(T?(a-=n*T.a+r*T.c,l-=r*T.d+n*T.b):(a-=n,l-=r),i._gsScrollX+=n,i._gsScrollY+=r,bt(W.pointerX,W.pointerY))}},_t=function(t){var e=Xe(),i=e-tt<40,n=e-G<40,r=i&&P===tt,s=W.pointerEvent&&W.pointerEvent.defaultPrevented,o=i&&O===tt,a=t.isTrusted||null==t.isTrusted&&i&&r;if((r||n&&!1!==W.vars.suppressClickOnDrag)&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),i&&(!W.pointerEvent||!W.pointerEvent.defaultPrevented)&&(!r||a&&!o))return a&&r&&(O=tt),void(P=tt);(W.isPressed||n||i)&&(a&&t.detail&&i&&!s||di(t)),i||n||(t&&t.target&&(W.pointerEvent=t),Si(W,\"click\",\"onClick\"))},Ct=function(t){return T?{x:t.x*T.a+t.y*T.c+T.e,y:t.x*T.b+t.y*T.d+T.f}:{x:t.x,y:t.y}};return(_=n.get(e))&&_.kill(),r.startDrag=function(t,i){var n,r,s,o;vt(t||W.pointerEvent,!0),i&&!W.hitTest(t||W.pointerEvent)&&(n=Ci(t||W.pointerEvent),r=Ci(e),s=Ct({x:n.left+n.width/2,y:n.top+n.height/2}),o=Ct({x:r.left+r.width/2,y:r.top+r.height/2}),a-=s.x-o.x,l-=s.y-o.y),W.isDragging||(W.isDragging=!0,Si(W,\"dragstart\",\"onDragStart\"))},r.drag=yt,r.endDrag=function(t){return wt(t||W.pointerEvent,!0)},r.timeSinceDrag=function(){return W.isDragging?0:(Xe()-G)/1e3},r.timeSinceClick=function(){return(Xe()-tt)/1e3},r.hitTest=function(t,e){return n.hitTest(W.target,t,e)},r.getDirection=function(t,i){var n,r,s,o,a,l,c=\"velocity\"===t&&Me?t:Ne(t)&&!N?\"element\":\"start\";return\"element\"===c&&(a=Ci(W.target),l=Ci(t)),n=\"start\"===c?W.x-u:\"velocity\"===c?Me.getVelocity(e,j):a.left+a.width/2-(l.left+l.width/2),N?n<0?\"counter-clockwise\":\"clockwise\":(i=i||2,r=\"start\"===c?W.y-d:\"velocity\"===c?Me.getVelocity(e,F):a.top+a.height/2-(l.top+l.height/2),o=(s=Math.abs(n/r))<1/i?\"\":n<0?\"left\":\"right\",s<i&&(\"\"!==o&&(o+=\"-\"),o+=r<0?\"up\":\"down\"),o)},r.applyBounds=function(t,n){var r,s,o,a,l,u;if(t&&i.bounds!==t)return i.bounds=t,W.update(!0,n);if(at(!0),ut(),c&&!ft()){if(r=W.x,s=W.y,r>m?r=m:r<f&&(r=f),s>g?s=g:s<v&&(s=v),(W.x!==r||W.y!==s)&&(o=!0,W.x=W.endX=r,N?W.endRotation=r:W.y=W.endY=s,x=!0,ot(!0),W.autoScroll&&!W.isDragging))for(bi(e.parentNode),a=e,ii.scrollTop=null!=fe.pageYOffset?fe.pageYOffset:null!=rt.documentElement.scrollTop?rt.documentElement.scrollTop:rt.body.scrollTop,ii.scrollLeft=null!=fe.pageXOffset?fe.pageXOffset:null!=rt.documentElement.scrollLeft?rt.documentElement.scrollLeft:rt.body.scrollLeft;a&&!u;)l=(u=vi(a.parentNode))?ii:a.parentNode,q&&l.scrollTop>l._gsMaxScrollY&&(l.scrollTop=l._gsMaxScrollY),H&&l.scrollLeft>l._gsMaxScrollX&&(l.scrollLeft=l._gsMaxScrollX),a=l;W.isThrowing&&(o||W.endX>m||W.endX<f||W.endY>g||W.endY<v)&&ht(i.inertia||i.throwProps,o)}return W},r.update=function(t,i,n){var r=W.x,s=W.y;return pt(!i),t?W.applyBounds():(x&&n&&ot(!0),at(!0)),i&&(bt(W.pointerX,W.pointerY),x&&ot(!0)),W.isPressed&&!i&&(H&&Math.abs(r-W.x)>.01||q&&Math.abs(s-W.y)>.01&&!N)&&mt(),W.autoScroll&&(bi(e.parentNode,W.isDragging),Y=W.isDragging,ot(!0),gi(e,xt),fi(e,xt)),W},r.enable=function(t){var n,r,a,l={lazy:!0};if(N||!1===i.cursor||(l.cursor=i.cursor||Be),me.utils.checkPrefix(\"touchCallout\")&&(l.touchCallout=\"none\"),\"soft\"!==t){for(ri(V,H===q?\"none\":i.allowNativeTouchScrolling&&e.scrollHeight===e.clientHeight==(e.scrollWidth===e.clientHeight)||i.allowEventDefault?\"manipulation\":H?\"pan-y\":\"pan-x\"),r=V.length;--r>-1;)a=V[r],Ae||li(a,\"mousedown\",vt),li(a,\"touchstart\",vt),li(a,\"click\",_t,!0),me.set(a,l),a.getBBox&&a.ownerSVGElement&&me.set(a.ownerSVGElement,{touchAction:H===q?\"none\":i.allowNativeTouchScrolling||i.allowEventDefault?\"manipulation\":H?\"pan-y\":\"pan-x\"}),i.allowContextMenu||li(a,\"contextmenu\",st);Mi(V,!1)}return fi(e,xt),s=!0,Me&&\"soft\"!==t&&Me.track(o||e,$?\"x,y\":N?\"rotation\":\"top,left\"),e._gsDragID=n=\"d\"+Qe++,Ke[n]=W,o&&(o.enable(),o.element._gsDragID=n),(i.bounds||N)&&mt(),i.bounds&&W.applyBounds(),W},r.disable=function(t){var i,n,r=W.isDragging;if(!N)for(i=V.length;--i>-1;)wi(V[i],\"cursor\",null);if(\"soft\"!==t){for(ri(V,null),i=V.length;--i>-1;)n=V[i],wi(n,\"touchCallout\",null),ui(n,\"mousedown\",vt),ui(n,\"touchstart\",vt),ui(n,\"click\",_t),ui(n,\"contextmenu\",st);Mi(V,!0),k&&(ui(k,\"touchcancel\",wt),ui(k,\"touchend\",wt),ui(k,\"touchmove\",yt)),ui(rt,\"mouseup\",wt),ui(rt,\"mousemove\",yt)}return gi(e,xt),s=!1,Me&&\"soft\"!==t&&Me.untrack(o||e,$?\"x,y\":N?\"rotation\":\"top,left\"),o&&o.disable(),ai(ot),W.isDragging=W.isPressed=E=!1,r&&Si(W,\"dragend\",\"onDragEnd\"),W},r.enabled=function(t,e){return arguments.length?t?W.enable(e):W.disable(e):s},r.kill=function(){return W.isThrowing=!1,W.tween&&W.tween.kill(),W.disable(),me.set(V,{clearProps:\"userSelect\"}),delete Ke[e._gsDragID],W},~R.indexOf(\"scroll\")&&(o=r.scrollProxy=new Bi(e,function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t}({onKill:function(){W.isPressed&&wt(null)}},i)),e.style.overflowY=q&&!Le?\"auto\":\"hidden\",e.style.overflowX=H&&!Le?\"auto\":\"hidden\",e=o.content),N?U.rotation=1:(H&&(U[j]=1),q&&(U[F]=1)),et.force3D=!(\"force3D\"in i)||i.force3D,r.enable(),r}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n.register=function(t){me=t,Ai()},n.create=function(t,e){return xe||Ai(!0),Ce(t).map((function(t){return new n(t,e)}))},n.get=function(t){return Ke[(Ce(t)[0]||{})._gsDragID]},n.timeSinceDrag=function(){return(Xe()-ti)/1e3},n.hitTest=function(t,e,i){if(t===e)return!1;var n,r,s,o=Ci(t),a=Ci(e),l=o.top,u=o.left,d=o.right,c=o.bottom,h=o.width,p=o.height,m=a.left>d||a.right<u||a.top>c||a.bottom<l;return m||!i?!m:(s=-1!==(i+\"\").indexOf(\"%\"),i=parseFloat(i)||0,(n={left:Math.max(u,a.left),top:Math.max(l,a.top)}).width=Math.min(d,a.right)-n.left,n.height=Math.min(c,a.bottom)-n.top,!(n.width<0||n.height<0)&&(s?(i*=.01,(r=n.width*n.height)>=h*p*i||r>=a.width*a.height*i):n.width>i&&n.height>i))},n}(function(){function t(t){this._listeners={},this.target=t||this}var e=t.prototype;return e.addEventListener=function(t,e){var i=this._listeners[t]||(this._listeners[t]=[]);~i.indexOf(e)||i.push(e)},e.removeEventListener=function(t,e){var i=this._listeners[t],n=i&&i.indexOf(e)||-1;n>-1&&i.splice(n,1)},e.dispatchEvent=function(t){var e,i=this;return(this._listeners[t]||[]).forEach((function(n){return!1===n.call(i,{type:t,target:i.target})&&(e=!1)})),e},t}());!function(t,e){for(var i in e)i in t||(t[i]=e[i])}(Pi.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1}),Pi.zIndex=1e3,Pi.version=\"3.6.1\",Re()&&me.registerPlugin(Pi);class Oi{constructor(t,e){this.handleChangeOption=t=>{this.gridSelectedOption=t,this.renderLines(this.numberArrayBySelectedOption)},this.chartElement=t,this.addEventListener=e,this.gridSelectedOption=\"linear_0\",this.gridContainer=null,this.gridDraggable=null;const{TweenLite:n,gsap:r}=i(53);this.tweenLite=n,this.gsap=r}addManipulationAbilities(){const t=document.createElement(\"div\");t.id=\"\"+Oi.ids.gridDragResizer,this.gridDraggable.appendChild(t);const e=this.gridDraggable.getBoundingClientRect();this.tweenLite.set(t,{x:e.width,y:0});const i=(t,i)=>{this.tweenLite.set(this.gridDraggable,{width:t+0,height:e.height-i}),this.renderLines(this.numberArrayBySelectedOption)};Pi.create(t,{bounds:this.gridContainer,autoScroll:1,onPress(t){t.stopPropagation()},onDrag(){i(this.x,this.y)}})}renderOptionsForm(){const t=document.querySelector(Oi.jiraSelectors.chartOptionsColumn),{fibonacci:e,linear:i}=Oi.gridOptions,n=document.createElement(\"div\");n.innerHTML=`\\n    <form class=\"aui\">\\n        <div class=\"field-group\">\\n            <label>Grid</label>\\n            <div style=\"display: flex; align-items: center\">\\n                <input type=\"checkbox\" style=\"margin-right: 8px\" id=\"${Oi.ids.gridFormCheckbox}\" alt=\"Toggle Grid Visibility\"/>\\n                <select class=\"select\" id=\"${Oi.ids.gridFormSelect}\">\\n                    ${e.map((t,e)=>`<option value=\"fibonacci_${e}\">Fibonacci - ${t.join()}</option>`)}\\n                    ${i.map((t,e)=>`<option value=\"linear_${e}\">Linear - ${t.join()}</option>`)}\\n                </select>\\n            </div>\\n        </div>\\n    </form>\\n  `,t.appendChild(n);const r=document.getElementById(Oi.ids.gridFormSelect);r.value=\"linear_0\",this.addEventListener(r,\"change\",t=>this.handleChangeOption(t.target.value));const s=document.getElementById(Oi.ids.gridFormCheckbox);this.addEventListener(s,\"change\",t=>{this.gridContainer?(this.gridContainer.style.display=t.target.checked?\"block\":\"none\",t.target.checked&&this.renderLines(this.numberArrayBySelectedOption)):this.renderGrid()})}renderLines(t){const e=document.getElementById(Oi.ids.gridLines);e&&e.remove();const i=qt(this.chartElement),n=Math.max(...t),r=this.gridContainer.getBoundingClientRect().height,s=this.gridDraggable.getBoundingClientRect().height,o=((t,e)=>{let i=t[t.length-1];for(let n=0;n<t.length;n++)if(t[n].position<=e){i=t[n];break}if(t[t.length-1].value>=30){const n=t[0];return n&&i?((n.position-e)/((n.position-i.position)/i.value**(1/3)))**3:0}let n=t[0];for(let i=t.length-1;i>=0;i--)if(t[i].position>=e){n=t[i];break}const r=i.position===n.position?0:(n.position-e)/(n.position-i.position);return n.value+r*(i.value-n.value)})(i,r-s),a=t=>t/n*o,l=document.createElement(\"div\");l.id=Oi.ids.gridLines,l.innerHTML=t.map(t=>{return`<div style=\"bottom: ${e=t,r-zt(i,a(e))}px\">${t} SP, ${Math.round(10*a(t))/10} days</div>`;var e}).join(\"\"),this.gridDraggable.append(l)}renderContainer(){const t=document.querySelector(Oi.jiraSelectors.layerGrid),e=document.querySelector(Oi.jiraSelectors.controlChart),i=t.getBoundingClientRect(),n=document.createElement(\"div\");n.id=Oi.ids.gridContainer;const r=document.createElement(\"div\");r.id=Oi.ids.gridDraggable;const s=document.createElement(\"style\");s.innerHTML=`\\n      #${Oi.ids.gridContainer} {\\n        width: ${i.width}px;\\n        height: ${i.height}px;\\n        top: 11px;\\n        left: 62px;\\n        position: absolute;\\n      }\\n\\n      #${Oi.ids.gridDragResizer} {\\n        position: absolute;\\n        bottom: 110px;\\n        width: 0px;\\n        height: 0px;\\n        margin-left: -17px;\\n        border-style: solid;\\n        border-width: 16px 0 0 16px;\\n        border-color: #aaa transparent transparent transparent;\\n        cursor: ne-resize !important;\\n        pointer-events: all !important;\\n      }\\n\\n      #${Oi.ids.gridDraggable} {\\n        position: absolute;\\n        border: 1px solid #aaa;\\n        bottom: 0;\\n        left: 0;\\n        width: 300px;\\n        height: 125px;\\n        pointer-events: all !important;\\n        transform: translate3d(0px, 0px, 0px);\\n      }\\n\\n      #${Oi.ids.gridDraggable} svg {\\n        width: 100%; height: 100%;\\n      }\\n\\n      #${Oi.ids.gridLines} > div {\\n        position: absolute;\\n        bottom: 0;\\n        height: 1px;\\n        background: gray;\\n        width: 100%;\\n        pointer-events: none;\\n      }\\n\\n      #${Oi.ids.gridLines} > div:last-child {\\n        background: none;\\n      }\\n\\n      #${Oi.ids.gridLines} {\\n        width: 100%;\\n        height:100%;\\n        pointer-events: none;\\n      }\\n`,n.append(r,s),e.append(n),this.gridContainer=n,this.gridDraggable=r}renderGrid(){this.renderContainer(),this.addManipulationAbilities(),this.renderLines(this.numberArrayBySelectedOption)}init(){this.gsap.registerPlugin(Pi),this.renderOptionsForm()}get numberArrayBySelectedOption(){const[t,e]=this.gridSelectedOption.split(\"_\");return Oi.gridOptions[t][e]}}Oi.gridOptions={fibonacci:[[1,2,3,5],[1,2,3,5,8],[1,2,3,5,8,13]],linear:function(t,e){const i=[];for(let n=t;n<=e;n++){i[n-t]=[];for(let e=1;e<=n;e++)i[n-t][e-1]=e}return i}(2,10)},Oi.ids={gridContainer:\"jira-helper-grid-container\",gridDraggable:\"jira-helper-grid-draggable\",gridDragResizer:\"jira-helper-grid-drag-resizer\",gridFormSelect:\"jira-helper-grid-select\",gridFormCheckbox:\"jira-helper-grid-checkbox-visibility\",gridLines:\"jira-helper-grid-lines-wrp\"},Oi.jiraSelectors={layerGrid:\".layer.grid\",controlChart:\"#control-chart\",chartOptionsColumn:\"#ghx-chart-options-view\"};var Di=class extends Bt{shouldApply(){return\"controlChart\"===this.getSearchParam(\"chart\")||\"control-chart\"===this.getReportNameFromURL()}getModificationId(){return\"add-sla-\"+this.getBoardId()}waitForLoading(){return this.waitForElement(\"#control-chart svg\")}loadData(){return Promise.all([])}async apply(t,e){if(await this.waitForElement(\".tick\",this.chartElement),o.a.isFirefox())return void console.warn(\"jira-helper: AddChartGrid is not supported in Firefox\");new Oi(e,this.addEventListener).init()}};const Ri=new Map;let $i;const Ni=async(t,e)=>{const i=e.getModificationId();Ri.set(t,{id:i,instance:e});try{await e.preloadData()}catch(t){window.console.error(\"jira-helper: Preload Data Filed:\",t)}const n=e.appendStyles();n&&document.body.insertAdjacentHTML(\"beforeend\",n);const r=e.waitForLoading();try{const t=e.loadData(),[i,n]=await Promise.all([r,t]);e.apply(n,i)}catch(t){r.then(()=>{e.apply()})}},ji=t=>{const e=f();$i!==e&&($i=e);const i=new Set(t[h].concat(t[$i]||[]));for(const t of Ri.keys())i.has(t)||(Ri.get(t).instance.clear(),Ri.delete(t));for(const t of i){const e=new t;Promise.resolve(e.shouldApply()).then(i=>{if(Ri.has(t)){const{id:n,instance:r}=Ri.get(t);if(!i)return r.clear(),void Ri.delete(t);if(n===e.getModificationId())return;r.clear(),Ri.delete(t)}i&&Ni(t,e)})}};var Fi=t=>{var e;ji(t),e=()=>ji(t),o.a.onMessage((t,i,r)=>{i.tab||t.type!==n.a.TAB_URL_CHANGE||(e(t.url),r({message:\"change event received\"}))})},Hi=i(5),qi=i.n(Hi),zi=class extends Bt{constructor(...t){super(...t),this.calcSwimlaneStatsAndRender=()=>{const t=ct()(t=>t.innerText,document.querySelectorAll(\".ghx-column-title, #ghx-column-headers .ghx-column h2\")),e={};K()(i=>{const n=i.getElementsByClassName(\"ghx-swimlane-header\")[0];if(!n)return;const r=i.getElementsByClassName(\"ghx-columns\")[0].childNodes;let s=0;const o=[];r.forEach(t=>{const e=t.querySelectorAll(this.cssSelectorOfIssues);o.push(e.length),s+=e.length}),e[i.getAttribute(\"swimlane-id\")]={numberIssues:s,arrNumberIssues:o},this.renderSwimlaneStats(n,t,s,o)},document.querySelectorAll(\".ghx-swimlane\"));const i=document.querySelector(\"#ghx-swimlane-header-stalker\");if(i&&i.firstElementChild){const n=i.firstElementChild.getAttribute(\"data-swimlane-id\");if(!n||!e[n])return;const r=i.querySelector(\".ghx-swimlane-header\"),{numberIssues:s,arrNumberIssues:o}=e[n];this.renderSwimlaneStats(r,t,s,o)}}}shouldApply(){const t=this.getSearchParam(\"view\");return!t||\"detail\"===t}getModificationId(){return\"add-swimlane-stats-\"+this.getBoardId()}waitForLoading(){return this.waitForElement(\".ghx-swimlane\")}loadData(){return this.getBoardEditData()}apply(t){this.cssSelectorOfIssues=this.getCssSelectorOfIssues(t),this.calcSwimlaneStatsAndRender(),this.onDOMChange(\"#ghx-pool\",this.calcSwimlaneStatsAndRender)}renderSwimlaneStats(t,e,i,n){const r=`\\n    <div class=\"${qi.a.wrapper}\">\\n      ${n.map((t,n)=>{const r=`${e[n]}: ${t}`;return`\\n        <div title=\"${r}\" class=\"${qi.a.column}\" style=\"background: ${t?\"#999\":\"#eee\"}\">\\n          <div title=\"${r}\" class=\"${qi.a.bar}\" style=\"height: ${function(...t){return t.reduce((t,e)=>t+e,0)+\"px\"}((20*t/i).toFixed(2))}\"></div>\\n        </div>\\n      `}).join(\"\")}\\n    </div>\\n    `;t.classList.add(qi.a.header),this.insertHTML(t,\"afterbegin\",r)}};const Wi=\".ghx-swimlane\",Vi=\".ghx-swimlane-header\",Ui=\".ghx-heading\",Gi=([t,e])=>{if(t)return t;const i={};return e&&Object.keys(e).forEach(t=>{i[t]={limit:e[t]}}),i};var Yi=class extends Bt{shouldApply(){const t=this.getSearchParam(\"view\");return!t||\"detail\"===t}getModificationId(){return\"add-swimlane-limits-\"+this.getBoardId()}appendStyles(){return\"\\n    <style>\\n      #js-swimlane-header-stalker .ghx-description {\\n        color: inherit !important;\\n      }\\n    </style>\\n  \"}waitForLoading(){return this.waitForElement(Wi)}loadData(){return Promise.all([this.getBoardProperty(Pt),this.getBoardProperty(Ot)]).then(Gi)}apply(t){t&&(this.renderLimits(t),this.onDOMChange(\"#ghx-pool\",()=>this.renderLimits(t)))}renderLimits(t){const e={};K()(i=>{const n=i.getAttribute(\"swimlane-id\");if(!t[n]||!t[n].limit)return;const{limit:r}=t[n],s=i.querySelector(Ui),o=Array.from(i.getElementsByClassName(\"ghx-columns\")[0].childNodes||[]).reduce((t,e)=>t+pt()(t=>!t.classList.contains(\"ghx-done\")&&!t.classList.contains(\"ghx-issue-subtask\"),e.querySelectorAll(\".ghx-issue\")).length,0);e[n]=o;const a=i.querySelector(\".ghx-description\"),l=i.querySelector(\".ghx-swimlane-header\");o>r&&(i.style.backgroundColor=\"#ff5630\",a.style.color=\"#ffd700\",l.style.backgroundColor=\"#ff5630\"),this.renderSwimlaneHeaderLimit(o,r,s)},document.querySelectorAll(Wi));const i=document.querySelector(\"#ghx-swimlane-header-stalker\");if(i&&i.firstElementChild){const n=i.firstElementChild.getAttribute(\"data-swimlane-id\");if(!n||!e[n])return;const r=i.querySelector(Ui);this.renderSwimlaneHeaderLimit(e[n],t[n].limit,r)}}renderSwimlaneHeaderLimit(t,e,i){const n=i.querySelector(\"*:nth-child(2)\");if(n.classList.contains(qi.a.limitBadge))return;const r=`\\n      <span class=\"${qi.a.limitBadge}\">${t}/${e}<span class=\"${qi.a.limitBadge__hint}\">Issues / Max. issues</span></span>\\n    `;this.insertHTML(n,\"beforebegin\",r)}};const Xi=t=>t();class Ji{constructor({title:t=\"\",initialContentInnerHTML:e=\"\",onCancel:i=Xi,onConfirm:n=Xi,okButtonText:r=\"Ok\",size:s=\"medium\"}){this.onClose=()=>{this.initialProps.onCancel(this.unmount)},this.onOk=()=>{this.initialProps.onConfirm(this.unmount)},this.unmount=()=>{this.htmlElement&&(this.isOpened=!1,this.deattachButtonHandlers(),this.removeDarkBackground(),this.htmlElement.remove())},this.isOpened=!1,this.initialProps={title:t,initialContentInnerHTML:e,onCancel:i,onConfirm:n,okButtonText:r,size:s},this.popupIdentifiers={wrapperId:\"jh-popup-wrapper\",contentWrapperId:\"jh-popup-content\",confirmBtnId:\"jh-popup-confirm-btn\",cancelBtnId:\"jh-popup-cancel-btn\"},this.htmlElement=null,this.contentBlock=null,this.confirmBtn=null,this.cancelBtn=null}html(){return`<section open id=\"${this.popupIdentifiers.wrapperId}\" class=\"aui-dialog2 aui-dialog2-${this.initialProps.size} aui-layer\" role=\"dialog\" data-aui-focus=\"false\" data-aui-blanketed=\"true\" aria-hidden=\"false\" style=\"z-index: 3000;\">\\n      <header class=\"aui-dialog2-header\">\\n          <h2 class=\"aui-dialog2-header-main\">${this.initialProps.title}</h2>\\n      </header>\\n      <div class=\"aui-dialog2-content\" id=\"${this.popupIdentifiers.contentWrapperId}\"></div>\\n      <footer class=\"aui-dialog2-footer\">\\n          <div class=\"aui-dialog2-footer-actions\">\\n                <button id=\"${this.popupIdentifiers.confirmBtnId}\" class=\"aui-button aui-button-primary\">${this.initialProps.okButtonText}</button>\\n                <button id=\"${this.popupIdentifiers.cancelBtnId}\" class=\"aui-button\">Cancel</button>\\n            </div>\\n      </footer>\\n    </section>\\n    `}attachButtonHandlers(){this.confirmBtn&&this.cancelBtn&&(this.confirmBtn.addEventListener(\"click\",this.onOk),this.cancelBtn.addEventListener(\"click\",this.onClose))}deattachButtonHandlers(){this.confirmBtn&&this.cancelBtn&&(this.confirmBtn.removeEventListener(\"click\",this.onOk),this.cancelBtn.removeEventListener(\"click\",this.onClose))}renderDarkBackground(){document.querySelector(\".aui-blanket\")?(document.querySelector(\".aui-blanket\").setAttribute(\"aria-hidden\",\"false\"),document.querySelector(\".aui-blanket\").removeAttribute(\"hidden\")):document.body.insertAdjacentHTML(\"beforeend\",'<div class=\"aui-blanket\" tabindex=\"0\" aria-hidden=\"false\"></div>')}removeDarkBackground(){document.querySelector(\".aui-blanket\").setAttribute(\"aria-hidden\",\"true\"),document.querySelector(\".aui-blanket\").setAttribute(\"hidden\",!0)}render(){this.isOpened=!0,document.body.insertAdjacentHTML(\"beforeend\",this.html()),this.htmlElement=document.getElementById(this.popupIdentifiers.wrapperId),this.contentBlock=document.getElementById(this.popupIdentifiers.contentWrapperId),this.confirmBtn=document.getElementById(this.popupIdentifiers.confirmBtnId),this.cancelBtn=document.getElementById(this.popupIdentifiers.cancelBtnId),this.renderDarkBackground(),this.attachButtonHandlers()}appendToContent(t=\"\"){this.contentBlock.insertAdjacentHTML(\"beforeend\",t)}clearContent(){for(;this.contentBlock.lastElementChild;)this.contentBlock.removeChild(this.contentBlock.lastElementChild)}toggleConfirmAvailability(t){this.confirmBtn&&(t?this.confirmBtn.removeAttribute(\"disabled\"):this.confirmBtn.disabled=\"true\")}}class Ki extends Bt{constructor(...t){super(...t),this.handleEditClick=()=>{var t,e;this.popup.render(),this.popup.appendToContent((t=Ki.ids.editTable,e=this.boardData.swimlanesConfig.swimlanes.map(t=>(({id:t,name:e,limit:i,isIgnored:n,rowClass:r})=>`<tr class=\"${r}\" data-swimlane-id=\"${t}\">\\n      <td>${e}</td>\\n      <td>\\n        <input class=\"text\" type=\"number\" value=\"${i}\"/>\\n      </td>\\n      <td>\\n        <input type=\"checkbox\" ${n?\"checked\":\"\"} /> \\n      </td>\\n  </tr>`)({id:t.id,name:t.name,limit:this.settings[t.id]?this.settings[t.id].limit:0,isIgnored:!!this.settings[t.id]&&this.settings[t.id].ignoreWipInColumns,rowClass:Ki.classes.editSwimlaneRow})).join(\"\"),`\\n   <form class=\"aui\">\\n     <table id=\"${t}\">\\n        <thead>\\n          <tr>\\n            <th>Swimlane</th>\\n            <th>WIP limits</th>\\n            <th>\\n               Is expedite\\n               <i title=\"Issues from this swimlane will be ignored from column WIP limits\" style=\"font-style: normal; cursor: pointer;\">&#9432;</i>\\n            </th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          ${e}\\n        </tbody>\\n      </table>\\n  </form>\\n`))},this.handleConfirmEditing=t=>{const e=document.querySelectorAll(`#${Ki.ids.editTable} .${Ki.classes.editSwimlaneRow}`),i={};e.forEach(t=>{const{value:e}=t.querySelector('input[type=\"number\"]'),{checked:n}=t.querySelector('input[type=\"checkbox\"]'),r=t.getAttribute(\"data-swimlane-id\"),s=Number.parseInt(e,10);i[r]={limit:s<1?void 0:s,ignoreWipInColumns:n}}),this.settings=i,this.updateBoardProperty(Pt,i),t()}}async shouldApply(){return\"swimlanes\"===await g()}getModificationId(){return\"add-swimlane-settings-\"+this.getBoardId()}waitForLoading(){return Promise.all([this.waitForElement(Ki.jiraSelectors.swimlanes),this.waitForElement(Ki.jiraSelectors.swimlaneSelect)])}loadData(){return Promise.all([this.getBoardEditData(),Promise.all([this.getBoardProperty(Pt),this.getBoardProperty(Ot)]).then(Gi)])}apply(t){if(!t)return;const[e,i]=t;this.settings=i,this.boardData=e,e&&e.canEdit&&(this.swimlaneSelect=document.querySelector(Ki.jiraSelectors.swimlaneSelect),\"custom\"===this.swimlaneSelect.value&&this.renderEditButton(),this.addEventListener(this.swimlaneSelect,\"change\",t=>{\"custom\"===t.target.value?this.renderEditButton():this.removeEditBtn()}))}renderEditButton(){this.insertHTML(document.querySelector(Ki.jiraSelectors.swimlaneConfig),\"beforebegin\",`<div style=\"margin-top: 1rem\">\\n            <button id=\"${Ki.ids.editLimitsBtn}\" class=\"aui-button\" type=\"button\">Edit swimlane limits</button>\\n        </div>`),this.popup=new Ji({title:\"Edit swimlane limits\",onConfirm:this.handleConfirmEditing,okButtonText:\"Save\"}),this.editBtn=document.getElementById(Ki.ids.editLimitsBtn),this.addEventListener(this.editBtn,\"click\",this.handleEditClick)}removeEditBtn(){this.editBtn.remove()}}Ki.ids={editLimitsBtn:\"edit-limits-btn-jh\",editTable:\"edit-table-jh\"},Ki.classes={editSwimlaneRow:\"edit-swimlane-row-jh\"},Ki.jiraSelectors={swimlanes:\"#swimlanes\",swimlaneConfig:\"#ghx-swimlane-strategy-config\",swimlaneSelect:\"#ghx-swimlanestrategy-select\"};var Qi=i(13),Zi=i.n(Qi),tn=i(14),en=i.n(tn);function nn(t,e){let i={};return Object.entries(e||{}).forEach(([e,n])=>{n.columns&&n.columns.indexOf(t)>-1&&(i={name:e,value:n.columns})}),i}const rn=[\"#70cde0\",\"#d3d1ff\",\"#f9aa9b\",\"#90bfb7\",\"#fff9b8\",\"#c3ceed\",\"#76ad75\",\"#94bcdb\",\"#dfca98\",\"#c8afd4\",\"#fddcea\",\"#aacde1\",\"#fedfb6\",\"#ce9ef1\",\"#ec8ba0\",\"#74af84\",\"#ffc1b8\",\"#a391bd\",\"#dd9294\",\"#69c58f\",\"#40aca4\",\"#f192b4\"],sn=t=>{const e=t.replace(/[^а-яёА-ЯЁA-Za-z0-9]/gi,\"\").split(\"\").slice(0,5).map(t=>t.charCodeAt(0)).reduce((t,e)=>t+e,0);return rn[e%rn.length]},on=({columnsHtmlNodes:t=[],wipLimits:e={},withoutGroupId:i=\"Without group\"})=>{const n={allGroupIds:[...en()(e),i],byGroupId:{}};return t.forEach(t=>{const{columnId:r}=t.dataset;let{name:s}=nn(r,e);s||(s=i),n.byGroupId[s]||(n.byGroupId[s]={allColumnIds:[],byColumnId:{}}),n.byGroupId[s].allColumnIds.push(r),n.byGroupId[s].byColumnId[r]={column:t,id:r}}),n};var an=i(3),ln=i.n(an);const un=({id:t=\"jh-groups-template\",children:e=\"\"})=>`<div id=\"${t}\">${e}</div>`,dn=({dropzoneId:t=\"\",dropzoneClass:e=\"\"})=>`<div  class=\"${ln.a.addGroupDropzoneJH} ${e}\" id=\"${t}\">Drag column over here to create group</div>`;function cn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hn(t,e,i){return e&&cn(t.prototype,e),i&&cn(t,i),t}function pn(t){return\"number\"==typeof t&&!isNaN(t)}function mn(t,e,i){return Math.min(Math.max(t,e),i)}function fn(t){if(0===t.type.indexOf(\"touch\")){var e=t.touches[0];return{x:e.clientX,y:e.clientY}}return{x:t.clientX,y:t.clientY}}function gn(t){return 1==t.length?\"0\"+t:\"\"+t}var vn=function(){function t(t){this._rgba={r:0,g:0,b:0,a:1},this._hsva={h:0,s:0,v:0,a:1},this.fromHex(t)}var e=t.prototype;return e.fromHex=function(t){t||(t=0),pn(t)?(this._hexNumber=t,this._hexString=function(t){return\"#\"+(\"00000\"+(0|t).toString(16)).substr(-6).toUpperCase()}(this._hexNumber)):(this._hexString=t.toUpperCase(),this._hexNumber=yn(this._hexString));var e=function(t){return{r:(t>>16&255)/255,g:(t>>8&255)/255,b:(255&t)/255}}(this._hexNumber),i=e.g,n=e.b;this._rgba.r=e.r,this._rgba.g=i,this._rgba.b=n;var r=function(t){var e,i=t.r,n=t.g,r=t.b,s=Math.max(i,n,r),o=Math.min(i,n,r),a=s-o,l=0===s?0:a/s,u=s;if(s==o)e=0;else{switch(s){case i:e=(n-r)/a+(n<r?6:0);break;case n:e=(r-i)/a+2;break;case r:e=(i-n)/a+4}e/=6}return{h:e,s:l,v:u}}(this._rgba),s=r.s,o=r.v;this._hsva.h=r.h,this._hsva.s=s,this._hsva.v=o,this._updateBrightness()},e.fromHsv=function(t){var e=t.s,i=t.v;this._hsva.h=t.h,this._hsva.s=e,this._hsva.v=i;var n=function(t){var e=t.h,i=t.s,n=t.v;e*=6;var r=Math.floor(e),s=e-r,o=n*(1-i),a=n*(1-s*i),l=n*(1-(1-s)*i),u=r%6;return{r:[n,a,o,o,l,n][u],g:[l,n,n,a,o,o][u],b:[o,o,l,n,n,a][u]}}(this._hsva),r=n.g,s=n.b;this._rgba.r=n.r,this._rgba.g=r,this._rgba.b=s,this._hexString=function(t){var e=t.g,i=t.b;return[\"#\",gn(Math.round(255*t.r).toString(16)),gn(Math.round(255*e).toString(16)),gn(Math.round(255*i).toString(16))].join(\"\").toUpperCase()}(this._rgba),this._hexNumber=yn(this._hexString),this._updateBrightness()},e._updateBrightness=function(){var t=this._rgba;this._brightness=(299*t.r+587*t.g+114*t.b)/1e3,this._isDark=this._brightness<.5,this._isLight=!this._isDark},hn(t,[{key:\"rgb\",get:function(){return this._rgba}},{key:\"hsv\",get:function(){return this._hsva}},{key:\"hex\",get:function(){return this._hexNumber}},{key:\"hexString\",get:function(){return this._hexString}},{key:\"brightness\",get:function(){return this._brightness}},{key:\"isDark\",get:function(){return this._isDark}},{key:\"isLight\",get:function(){return this._isLight}}]),t}();function yn(t){return parseInt(t.replace(\"#\",\"\"),16)}var bn=function(){function t(t){var e=this;void 0===t&&(t={}),this._widthUnits=\"px\",this._heightUnits=\"px\",this._huePosition=0,this._hueHeight=0,this._maxHue=0,this._inputIsNumber=!1,this._saturationWidth=0,this._isChoosing=!1,this._callbacks=[],this.width=0,this.height=0,this.hue=0,this.position={x:0,y:0},this.color=new vn(0),this.backgroundColor=new vn(0),this.hueColor=new vn(0),this._onSaturationMouseDown=function(t){var i=e.$saturation.getBoundingClientRect(),n=fn(t),r=n.x,s=n.y;e._isChoosing=!0,e._moveSelectorTo(r-i.left,s-i.top),e._updateColorFromPosition(),e._window.addEventListener(\"mouseup\",e._onSaturationMouseUp),e._window.addEventListener(\"touchend\",e._onSaturationMouseUp),e._window.addEventListener(\"mousemove\",e._onSaturationMouseMove),e._window.addEventListener(\"touchmove\",e._onSaturationMouseMove),t.preventDefault()},this._onSaturationMouseMove=function(t){var i=e.$saturation.getBoundingClientRect(),n=fn(t);e._moveSelectorTo(n.x-i.left,n.y-i.top),e._updateColorFromPosition()},this._onSaturationMouseUp=function(){e._isChoosing=!1,e._window.removeEventListener(\"mouseup\",e._onSaturationMouseUp),e._window.removeEventListener(\"touchend\",e._onSaturationMouseUp),e._window.removeEventListener(\"mousemove\",e._onSaturationMouseMove),e._window.removeEventListener(\"touchmove\",e._onSaturationMouseMove)},this._onHueMouseDown=function(t){var i=e.$hue.getBoundingClientRect(),n=fn(t).y;e._isChoosing=!0,e._moveHueTo(n-i.top),e._updateHueFromPosition(),e._window.addEventListener(\"mouseup\",e._onHueMouseUp),e._window.addEventListener(\"touchend\",e._onHueMouseUp),e._window.addEventListener(\"mousemove\",e._onHueMouseMove),e._window.addEventListener(\"touchmove\",e._onHueMouseMove),t.preventDefault()},this._onHueMouseMove=function(t){var i=e.$hue.getBoundingClientRect(),n=fn(t);e._moveHueTo(n.y-i.top),e._updateHueFromPosition()},this._onHueMouseUp=function(){e._isChoosing=!1,e._window.removeEventListener(\"mouseup\",e._onHueMouseUp),e._window.removeEventListener(\"touchend\",e._onHueMouseUp),e._window.removeEventListener(\"mousemove\",e._onHueMouseMove),e._window.removeEventListener(\"touchmove\",e._onHueMouseMove)},this._window=t.window||window,this._document=this._window.document,this.$el=this._document.createElement(\"div\"),this.$el.className=\"Scp\",this.$el.innerHTML='\\n      <div class=\"Scp-saturation\">\\n        <div class=\"Scp-brightness\"></div>\\n        <div class=\"Scp-sbSelector\"></div>\\n      </div>\\n      <div class=\"Scp-hue\">\\n        <div class=\"Scp-hSelector\"></div>\\n      </div>\\n    ',this.$saturation=this.$el.querySelector(\".Scp-saturation\"),this.$hue=this.$el.querySelector(\".Scp-hue\"),this.$sbSelector=this.$el.querySelector(\".Scp-sbSelector\"),this.$hSelector=this.$el.querySelector(\".Scp-hSelector\"),this.$saturation.addEventListener(\"mousedown\",this._onSaturationMouseDown),this.$saturation.addEventListener(\"touchstart\",this._onSaturationMouseDown),this.$hue.addEventListener(\"mousedown\",this._onHueMouseDown),this.$hue.addEventListener(\"touchstart\",this._onHueMouseDown),t.el&&this.appendTo(t.el),t.background&&this.setBackgroundColor(t.background),t.widthUnits&&(this._widthUnits=t.widthUnits),t.heightUnits&&(this._heightUnits=t.heightUnits),this.setSize(t.width||175,t.height||150),this.setColor(t.color)}var e=t.prototype;return e.appendTo=function(t){return\"string\"==typeof t?document.querySelector(t).appendChild(this.$el):t.appendChild(this.$el),this},e.remove=function(){this._callbacks=[],this._onSaturationMouseUp(),this._onHueMouseUp(),this.$saturation.removeEventListener(\"mousedown\",this._onSaturationMouseDown),this.$saturation.removeEventListener(\"touchstart\",this._onSaturationMouseDown),this.$hue.removeEventListener(\"mousedown\",this._onHueMouseDown),this.$hue.removeEventListener(\"touchstart\",this._onHueMouseDown),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},e.setColor=function(t){this._inputIsNumber=pn(t),this.color.fromHex(t);var e=this.color.hsv,i=e.h,n=e.s,r=e.v;return isNaN(i)||(this.hue=i),this._moveSelectorTo(this._saturationWidth*n,(1-r)*this._hueHeight),this._moveHueTo((1-this.hue)*this._hueHeight),this._updateHue(),this},e.setSize=function(t,e){return this.width=t,this.height=e,this.$el.style.width=this.width+this._widthUnits,this.$el.style.height=this.height+this._heightUnits,this._saturationWidth=this.width-25,this.$saturation.style.width=this._saturationWidth+\"px\",this._hueHeight=this.height,this._maxHue=this._hueHeight-2,this},e.setBackgroundColor=function(t){return this.backgroundColor.fromHex(t),this.$el.style.padding=\"5px\",this.$el.style.background=this.backgroundColor.hexString,this},e.setNoBackground=function(){return this.$el.style.padding=\"0px\",this.$el.style.background=\"none\",this},e.onChange=function(t){return this._callbacks.indexOf(t)<0&&(this._callbacks.push(t),t(this.getHexString())),this},e.getColor=function(){return this._inputIsNumber?this.getHexNumber():this.getHexString()},e.getHexString=function(){return this.color.hexString.toUpperCase()},e.getHexNumber=function(){return this.color.hex},e.getRGB=function(){return this.color.rgb},e.getHSV=function(){return this.color.hsv},e.isDark=function(){return this.color.isDark},e.isLight=function(){return this.color.isLight},e._moveSelectorTo=function(t,e){this.position.x=mn(t,0,this._saturationWidth),this.position.y=mn(e,0,this._hueHeight),this.$sbSelector.style.transform=\"translate(\"+this.position.x+\"px, \"+this.position.y+\"px)\"},e._updateColorFromPosition=function(){this.color.fromHsv({h:this.hue,s:this.position.x/this._saturationWidth,v:1-this.position.y/this._hueHeight}),this._updateColor()},e._moveHueTo=function(t){this._huePosition=mn(t,0,this._maxHue),this.$hSelector.style.transform=\"translateY(\"+this._huePosition+\"px)\"},e._updateHueFromPosition=function(){var t=this.getHSV();this.hue=1-this._huePosition/this._maxHue,this.color.fromHsv({h:this.hue,s:t.s,v:t.v}),this._updateHue()},e._updateHue=function(){this.hueColor.fromHsv({h:this.hue,s:1,v:1}),this.$saturation.style.background=\"linear-gradient(to right, #fff, \"+this.hueColor.hexString+\")\",this._updateColor()},e._updateColor=function(){this.$sbSelector.style.background=this.getHexString(),this.$sbSelector.style.borderColor=this.isDark()?\"#fff\":\"#000\",this._triggerChange()},e._triggerChange=function(){var t=this;this._callbacks.forEach((function(e){return e(t.getHexString())}))},hn(t,[{key:\"isChoosing\",get:function(){return this._isChoosing}}]),t}();!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(\"undefined\"!=typeof document){var n=document.head||document.getElementsByTagName(\"head\")[0],r=document.createElement(\"style\");r.type=\"text/css\",\"top\"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}(\".Scp{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.Scp-saturation{position:relative;height:100%;background:linear-gradient(90deg,#fff,red);float:left;margin-right:5px}.Scp-brightness{width:100%;height:100%;background:linear-gradient(hsla(0,0%,100%,0),#000)}.Scp-sbSelector{border:2px solid #fff;position:absolute;width:14px;height:14px;background:#fff;border-radius:10px;top:-7px;left:-7px;box-sizing:border-box;z-index:10}.Scp-hue{width:20px;height:100%;position:relative;float:left;background:linear-gradient(red,#f0f 17%,#00f 34%,#0ff 50%,#0f0 67%,#ff0 84%,red)}.Scp-hSelector{position:absolute;background:#fff;border-bottom:1px solid #000;right:-3px;width:10px;height:2px}\",{insertAt:\"top\"});var wn=bn,xn=i(36),_n=i.n(xn);var Cn=i(18),Sn=i.n(Cn);class Ln{constructor({onClose:t=_n.a,onOk:e=(()=>{}),addEventListener:i}){this._save=()=>{this.onOk(this.colorPicker.getColor(),this.dataId),this.hideTooltip()},this._cancel=()=>{this.hideTooltip()},this.colorPicker=new wn({color:\"#FF0000\",background:\"#454545\",width:200,height:200}),this.onClose=t,this.onOk=e,this.addEventListener=i,this.dataId=null,this.attrNameOfDataId=null}html(){return(({tooltipClass:t,id:e,colorPickerId:i,colorPickerResultId:n,okBtnId:r,closeBtnId:s,btnWrpClass:o,colorPickerResultClass:a})=>`\\n  <div id=\"${e}\" class=\"${t}\">\\n    <div class=\"${o}\">\\n      <div class=\"${a}\" id=\"${n}\"></div>\\n      <div>\\n        <button id=\"${r}\" class=\"aui-button aui-button-primary\" type=\"button\">Ok</button>\\n        <button id=\"${s}\" class=\"aui-button\" type=\"button\">Close</button>\\n      </div>\\n    </div>\\n    <div id=\"${i}\"></div>\\n  </div>`)({tooltipClass:Sn.a.tooltip,id:Ln.ids.colorPickerTooltip,colorPickerId:Ln.ids.colorPicker,colorPickerResultId:Ln.ids.colorPickerResult,btnWrpClass:Sn.a.tooltipButtonsWrp,colorPickerResultClass:Sn.a.tooltipResult,okBtnId:Ln.ids.okBtn,closeBtnId:Ln.ids.closeBtn})}init(t,e){if(this.hostElement=t,this.attrNameOfDataId=e,!(this.hostElement instanceof HTMLElement))throw new Error(\"host element for colorpicker is not DOM element\");if(!this.attrNameOfDataId)throw new Error(\"attribute name of data id for colorpicker is empty\");this.hostElement.insertAdjacentHTML(\"beforeend\",this.html()),this.addEventListener(t,\"scroll\",()=>{this.hideTooltip()}),this.tooltip=document.getElementById(Ln.ids.colorPickerTooltip),this.pickerResultElem=document.getElementById(Ln.ids.colorPickerResult),this.colorPicker.appendTo(\"#\"+Ln.ids.colorPicker),this.colorPicker.onChange(t=>{this.pickerResultElem.style.background=t}),this._initBtnHandlers()}get isVisible(){return\"hidden\"!==this.tooltip.style.visibility}hideTooltip(){this.isVisible&&(this.tooltip.style.visibility=\"hidden\",this.colorPickerGroupId=null),this.onClose()}showTooltip({target:t}){if(!t.hasAttribute(this.attrNameOfDataId))return;if(!this.tooltip)return;this.dataId=t.getAttribute(this.attrNameOfDataId);const e=this.getTooltipPosition(t);this.tooltip.style.visibility=\"visible\",this.tooltip.style.top=e+\"px\"}getTooltipPosition(t){const e=t.getBoundingClientRect(),i=this.hostElement.getBoundingClientRect();return e.top-i.top}_initBtnHandlers(){const t=document.getElementById(Ln.ids.okBtn),e=document.getElementById(Ln.ids.closeBtn);this.addEventListener(t,\"click\",this._save),this.addEventListener(e,\"click\",this._cancel)}}Ln.ids={colorPickerTooltip:\"jh-wip-limits-color-picker-tooltip\",colorPicker:\"jh-color-picker-inner-tooltip\",colorPickerResult:\"jh-color-picker-inner-tooltip-result\",okBtn:\"jh-color-picker-ok-btn\",closeBtn:\"jh-color-picker-cancel-btn\"};class En extends Bt{constructor(...t){super(...t),this.draggingElement=null,this.editorFormListeners={dragstart:t=>{t.target.classList.contains(En.classes.draggable)&&(this.draggingElement=t.target)},dragend:t=>{t.target.classList.contains(En.classes.draggable)&&(this.draggingElement=null)},dragleave:t=>{t.target.classList.contains(En.classes.dropzone)&&t.target.classList.remove(ln.a.addGroupDropzoneActiveJH)},drop:t=>{var e;if(!t.target.classList.contains(En.classes.dropzone))return;t.target.classList.remove(ln.a.addGroupDropzoneActiveJH);const i=this.draggingElement.getAttribute(\"data-column-id\"),n=this.draggingElement.getAttribute(\"data-group-id\"),r=null!==(e=t.target.getAttribute(\"data-group-id\"))&&void 0!==e?e:(s=7,Math.random().toString(36).substring(s));var s;const o=this.mappedColumnsToGroups.byGroupId[n].byColumnId[i];this.moveColumn(o,n,r),this.draggingElement.remove()},dragover:t=>{t.target.classList.contains(En.classes.dropzone)&&(t.preventDefault(),t.stopPropagation(),t.target.classList.add(ln.a.addGroupDropzoneActiveJH))},input:t=>{if(!t.target.classList.contains(En.classes.groupLimitsInput))return;const e=t.target.getAttribute(\"data-group-id\");this.wipLimits[e]&&(this.wipLimits[e]={...this.wipLimits[e],max:t.target.value})}},this.openGroupSettingsPopup=()=>{this.popup=new Ji({title:\"Limits for groups\",okButtonText:\"Save\",onConfirm:this.handleSubmit,onCancel:this.handleClose}),this.popup.render(),this.mappedColumnsToGroups=on({columnsHtmlNodes:this.getColumns(),wipLimits:this.wipLimits,withoutGroupId:\"Without Group\"}),this.renderGroupsEditor()},this.showColorPicker=()=>{const t=document.getElementById(En.ids.allGroups);this.colorPickerTooltip.init(this.popup.contentBlock,\"data-group-id\"),this.addEventListener(t,\"click\",t=>{this.colorPickerTooltip.showTooltip(t)})},this.handleSubmit=async t=>{await this.updateBoardProperty(At,this.getWipLimitsForOnlyExistsColumns()),t()}}async shouldApply(){return\"columns\"===await g()}getModificationId(){return\"add-wip-settings-\"+this.getBoardId()}waitForLoading(){return this.waitForElement(\"#columns\")}loadData(){return Promise.all([this.getBoardEditData(),this.getBoardProperty(At)])}apply(t){if(!t)return;const[e={},i={}]=t;e.canEdit&&(this.wipLimits=i,this.colorPickerTooltip=new Ln({onOk:(t,e)=>{this.wipLimits[e].customHexColor=t,this.popup.clearContent(),this.renderGroupsEditor()},addEventListener:(t,e,i)=>this.addEventListener(t,e,i)}),this.renderSettingsButton())}getColumns(){let t=document.querySelector(En.jiraSelectors.ulColumnsWrapper)?document.querySelectorAll(En.jiraSelectors.allColumns):document.querySelectorAll(En.jiraSelectors.allColumnsInner);return t&&0!==t.length||(t=document.querySelectorAll(En.jiraSelectors.allColumnsJira7)),t}renderSettingsButton(){this.insertHTML(document.querySelector(En.jiraSelectors.columnsConfigLastChild),\"beforebegin\",(({groupOfBtnsId:t=\"\",openEditorBtn:e=\"\"})=>`<div id=\"${t}\" class=\"aui-buttons ${ln.a.jhGroupOfBtns}\"><button id=\"${e}\" class=\"aui-button\">Group Settings</button></div>`)({openEditorBtn:En.ids.openEditorButton,groupOfBtnsId:\"jh-group-of-btns-setting-page\"}));const t=document.querySelector(\"#\"+En.ids.openEditorButton);this.addEventListener(t,\"click\",this.openGroupSettingsPopup)}groupHtml(t){const{max:e,customHexColor:i}=this.wipLimits[t]||{},n=this.mappedColumnsToGroups.byGroupId[t];return(({dropzoneClass:t=\"\",groupLimitsClass:e=\"\",withoutGroupId:i=\"\",groupId:n=\"\",customGroupColor:r,groupMax:s=\"\",columnsHtml:o=\"\"})=>`\\n        <div\\n          class=\"${ln.a.columnGroupJH} \"\\n          style=\"${n!==i?\"background-color: \"+(r||sn(n)):\"\"}\"\\n        >\\n            ${n===i?\"\":`<section class=\"${ln.a.columnGroupLimitsJH}\">\\n                  <span>Limit for group:</span>\\n                  <input data-group-id=\"${n}\" class=\"${e}\" value=\"${s}\"/>\\n                </section>`}\\n          <div class=\"${ln.a.columnListJH} ${t}\" data-group-id=\"${n}\">${o}</div>\\n      </div>\\n    `)({dropzoneClass:En.classes.dropzone,groupLimitsClass:En.classes.groupLimitsInput,withoutGroupId:\"Without Group\",groupId:t,customGroupColor:i,groupMax:e,columnsHtml:n?n.allColumnIds.map(e=>{const{column:i,id:r}=n.byColumnId[e];return this.columnHtml(r,i,t)}).join(\"\"):\"\"})}columnHtml(t,e,i){return(({columnId:t=\"\",dataGroupId:e=\"\",columnTitle:i=\"\",draggableClass:n})=>`<div data-column-id=\"${t}\" data-group-id=\"${e}\" class=\"${ln.a.columnDraggableJH} ${n}\" draggable=\"true\">${i}</div>`)({columnTitle:e.querySelector(En.jiraSelectors.columnHeaderName).getAttribute(\"title\"),columnId:t,dataGroupId:i,draggableClass:En.classes.draggable})}renderGroupsEditor(){this.popup.appendToContent((({leftBlock:t=\"\",rightBlock:e=\"\",id:i=\"jh-wip-limits-id\"})=>`<form class=\"aui ${ln.a.form}\" id=\"${i}\">\\n    <div class=\"${ln.a.formLeftBlock}\">${t}</div>\\n    <div class=\"${ln.a.formRightBlock}\">${e}</div>\\n    </form>`)({id:En.ids.formId,leftBlock:this.groupHtml(\"Without Group\"),rightBlock:`\\n          ${un({id:En.ids.allGroups,children:this.mappedColumnsToGroups.allGroupIds.map(t=>\"Without Group\"!==t?this.groupHtml(t):\"\").join(\"\")})}\\n          ${dn({dropzoneId:En.ids.createGroupDropzone,dropzoneClass:En.classes.dropzone})}\\n        `})),this.showColorPicker(),this.initEditorListeners()}initEditorListeners(){const t=document.getElementById(En.ids.formId);en()(this.editorFormListeners).forEach(e=>{this.addEventListener(t,e,this.editorFormListeners[e])})}moveColumn(t,e,i){this.wipLimits[e]&&(this.wipLimits[e].columns=this.wipLimits[e].columns.filter(e=>e!==t.id),Zi()(this.wipLimits[e].columns)&&delete this.wipLimits[e]);switch(!0){case en()(this.wipLimits).includes(i):this.wipLimits[i]={columns:[...this.wipLimits[i].columns,t.id],max:this.wipLimits[i].max};break;case\"Without Group\"!==i:this.wipLimits[i]={columns:[t.id],max:100}}this.mappedColumnsToGroups=on({columnsHtmlNodes:this.getColumns(),wipLimits:this.wipLimits,withoutGroupId:\"Without Group\"}),this.popup.clearContent(),this.renderGroupsEditor()}getWipLimitsForOnlyExistsColumns(){const t=Array.from(this.getColumns()).map(t=>t.getAttribute(\"data-column-id\")),e={};return Object.keys(this.wipLimits).forEach(i=>{const n=this.wipLimits[i];let r=n.columns.length-1;for(;r>=0;)t.includes(n.columns[r])||n.columns.splice(r,1),r-=1;n.columns.length>0&&(e[i]=n)}),e}}En.ids={openEditorButton:\"jh-add-group-btn\",formId:\"jh-wip-limits-form\",createGroupDropzone:\"jh-column-dropzone\",allGroups:\"jh-all-groups\"},En.classes={draggable:\"draggable-jh\",dropzone:\"dropzone-jh\",groupLimitsInput:\"group-limits-input-jh\"},En.jiraSelectors={ulColumnsWrapper:\"ul.ghx-column-wrapper:not(.ghx-fixed-column)\",allColumns:\".ghx-column-wrapper:not(.ghx-fixed-column).ghx-mapped\",allColumnsInner:\".ghx-column-wrapper:not(.ghx-fixed-column) > .ghx-mapped\",allColumnsJira7:\".ghx-mapped.ui-droppable[data-column-id]\",columnsConfigLastChild:\"#ghx-config-columns > *:last-child\",columnHeaderName:\".ghx-header-name\"};var kn=i(26),Tn=i.n(kn),In=class extends Bt{shouldApply(){const t=this.getSearchParam(\"view\");return!t||\"detail\"===t}getModificationId(){return\"add-wip-limits-\"+this.getBoardId()}waitForLoading(){return this.waitForElement(\".ghx-column-header-group\")}loadData(){return Promise.all([this.getBoardEditData(),this.getBoardProperty(At),Promise.all([this.getBoardProperty(Pt),this.getBoardProperty(Ot)]).then(Gi)])}apply(t){if(!t)return;const[e={},i={},n={}]=t;this.boardGroups=i,this.swimlanesSettings=n,this.mappedColumns=e.rapidListConfig.mappedColumns.filter(({isKanPlanColumn:t})=>!t),this.cssNotIssueSubTask=this.getCssSelectorNotIssueSubTask(e),this.styleColumnHeaders(),this.styleColumnsWithLimitations(),this.onDOMChange(\"#ghx-pool\",()=>{this.styleColumnHeaders(),this.styleColumnsWithLimitations()})}styleColumnHeaders(){const t=this.getOrderedColumns(),e=document.querySelector(\"#ghx-pool-wrapper\");null!=e&&(e.style.paddingTop=\"10px\"),t.forEach((e,i)=>{const{name:n,value:r}=nn(e,this.boardGroups);if(!n||!r)return;const s=nn(t[i-1],this.boardGroups),o=nn(t[i+1],this.boardGroups),a=s.name!==n,l=o.name!==n;a&&(document.querySelector(`.ghx-column[data-id=\"${e}\"]`).style.borderTopLeftRadius=\"10px\"),l&&(document.querySelector(`.ghx-column[data-id=\"${e}\"]`).style.borderTopRightRadius=\"10px\");const u=this.boardGroups[n].customHexColor||sn(n);Object.assign(document.querySelector(`.ghx-column[data-id=\"${e}\"]`).style,{backgroundColor:\"#deebff\",borderTop:\"4px solid \"+u})})}getIssuesInColumn(t,e){const i=e.map(t=>`:not([swimlane-id=\"${t}\"])`).join(\"\");return document.querySelectorAll(`.ghx-swimlane${i} .ghx-column[data-column-id=\"${t}\"] .ghx-issue:not(.ghx-done)${this.cssNotIssueSubTask}`).length}styleColumnsWithLimitations(){const t=this.getOrderedColumns();if(!t.length)return;const e=Object.keys(this.swimlanesSettings).filter(t=>this.swimlanesSettings[t].ignoreWipInColumns),i=e.map(t=>`:not([swimlane-id=\"${t}\"])`).join(\"\");Object.values(this.boardGroups).forEach(n=>{const{columns:r,max:s}=n;if(!r||!s)return;const o=r.reduce((t,i)=>t+this.getIssuesInColumn(i,e),0);s<o&&r.forEach(t=>{document.querySelectorAll(`.ghx-swimlane${i} .ghx-column[data-column-id=\"${t}\"]`).forEach(t=>{t.style.backgroundColor=\"#ff5630\"})});const a=Math.min(...r.map(e=>t.indexOf(e)).filter(t=>null!=t)),l=t[a];l&&this.insertHTML(document.querySelector(`.ghx-column[data-id=\"${l}\"]`),\"beforeend\",`\\n          <span class=\"${Tn.a.limitColumnBadge}\">\\n              ${o}/${s}\\n              <span class=\"${Tn.a.limitColumnBadge__hint}\">Issues per group / Max number of issues per group</span>\\n          </span>`)}),this.mappedColumns.filter(t=>t.max).forEach(t=>{const i=this.getIssuesInColumn(t.id,[]),n=this.getIssuesInColumn(t.id,e);if(t.max&&i>Number(t.max)&&n<=Number(t.max)){document.querySelector(`.ghx-column[data-id=\"${t.id}\"]`).classList.remove(\"ghx-busted\",\"ghx-busted-max\"),document.querySelectorAll(`.ghx-column[data-column-id=\"${t.id}\"]`).forEach(t=>{t.classList.remove(\"ghx-busted\",\"ghx-busted-max\")})}})}getOrderedColumns(){return ct()(t=>t.dataset.columnId,document.querySelectorAll(\".ghx-first ul.ghx-columns > li.ghx-column\"))}},Mn=i(27),Bn=i.n(Mn),An=i(28),Pn=i.n(An);const On=Pn.a.replace(/<br \\/>/g,\"\\n\"),Dn=[\"#create-issue-dialog\",\"#issue-create\",\"#create-subtask-dialog\"],Rn=Bn.a.buttonJiraAddTemplateForBug,$n=Bn.a.buttonJiraSaveTemplateForBug;var Nn=class extends Bt{constructor(...t){super(...t),this.applyTemplate=()=>{if(!this.getTextareaContainer())return;document.querySelectorAll(`.${Rn}, .${$n}`).length>0||(this.makeButton({text:\"&#9998;\",title:\"Add template\",handleClick:this.addTemplate,cls:Rn}),this.makeButton({text:\"&#128190;\",title:\"Save template\",handleClick:this.saveTemplate,cls:$n}))},this.addTemplate=()=>{const t=Dn.reduce((t,e)=>t||document.querySelector(e+\" .jira-wikifield iframe\"),null),e=Dn.reduce((t,e)=>t||document.querySelector(e+\" .jira-wikifield textarea#description\"),null),i=localStorage.getItem(\"jira_helper_textarea_bug_template\"),n=i?i.replace(/\\n/g,\"<br />\"):Pn.a;const r=i||On;if(t){const e=t.contentDocument.getElementById(\"tinymce\").firstChild;e.innerHTML=e.innerHTML.length>0?`${e.innerHTML}<br />${n}`:n}e&&(e.value=e.value.length>0?`${e.value}\\n${r}`:r)},this.saveTemplate=()=>{const t=Dn.reduce((t,e)=>t||document.querySelector(e+\" .jira-wikifield textarea#description\"),null);window.confirm(`Are you sure you want to save the text \"${t.value}\" in the template?`)&&localStorage.setItem(\"jira_helper_textarea_bug_template\",t.value)}}getModificationId(){return\"bug-template\"}getTextareaContainer(){for(const t of Dn){const e=document.querySelector(t+\" .jira-wikifield\");if(e)return e}}apply(){this.applyTemplate();const t=Dn.map(t=>this.waitForElement(t,document.body));Promise.race(t).then(t=>{this.onDOMChange(\"#\"+t.id,this.applyTemplate,{childList:!0,subtree:!0})}),this.onDOMChange(\"body\",t=>{t.forEach(t=>{t.removedNodes.forEach(t=>{Dn.includes(\"#\"+t.id)&&(this.clear(),this.apply())})})})}makeButton({text:t,title:e,handleClick:i,cls:n}){const r=this.insertHTML(this.getTextareaContainer(),\"beforeend\",`<button class=\"${n}\" title=\"${e}\">${t}</button>`);this.addEventListener(r,\"click\",i)}onCloseDialog(){}};const jn=\"#details-module\",Fn=\"#linkingmodule .link-content\",Hn=\"#view-subtasks .issuerow\",qn=\"#greenhopper-epics-issue-web-panel .issuerow\",zn='[data-test-id=\"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-issue\"]',Wn='[data-test-id=\"issue.issue-view.views.common.issue-line-card.issue-line-card-view.key\"]',Vn='[data-test-id=\"issue.issue-view.views.common.issue-line-card.issue-line-card-view.summary\"]',Un=\"#viewissuesidebar\",Gn='[id=\"opsbar-jira.issue.tools\"]',Yn=\"LINKED\",Xn=\"EPIC_ISSUE\",Jn=\"SUB_TASK\",Kn=\"LINKED_NEW\",Qn=t=>{const e=document.createElement(\"img\");return e.src=o.a.getUrl(t?\"/img/flagNew.svg\":\"/img/flag.png\"),e.style.width=\"16px\",e.style.height=\"16px\",e};var Zn=class extends Bt{shouldApply(){return null!=v()}getModificationId(){return\"mark-flagged-issues-\"+v()}preloadData(){return(this.getSearchParam(\"oldIssueView\")?Promise.resolve(!1):((t={})=>Lt({url:\"greenhopper/1.0/profile/labs-panel/issue-details-popup\",type:\"json\",...t}).then(t=>t.isEnabled,()=>!1))()).then(t=>{this.newIssueView=t})}waitForLoading(){return this.newIssueView?this.waitForElement(zn):this.waitForElement(f()===a?`[data-issuekey='${v()}'] ${jn}`:f()===u?`[data-issue-key='${v()}']`:jn)}async apply(){const t={},e=(e,i,n)=>{e&&(t[e]||(t[e]=[]),t[e].push({type:n,element:i}))};this.newIssueView?K()(t=>{const i=t.textContent;e(i,t.parentElement.parentElement,Kn)},document.querySelectorAll(Wn)):(K()(t=>{const i=t.querySelector(\"a\").dataset.issueKey;e(i,t.parentElement,Yn)},document.querySelectorAll(Fn)),K()(t=>{const i=t.dataset.issuekey;e(i,t,Jn)},document.querySelectorAll(Hn)),K()(t=>{const i=t.dataset.issuekey;e(i,t,Xn)},document.querySelectorAll(qn)));const i=v();(await Mt([...Object.keys(t),i])).forEach(e=>{if((t[e]||[]).forEach(({type:t,element:e})=>{e.style.backgroundColor=this.newIssueView?\"#fffae6\":\"#ffe9a8\";const i=Qn(this.newIssueView);switch(t){case Yn:{const t=e.querySelector(\".link-snapshot\");t.insertBefore(i,t.children[0]);break}case Jn:case Xn:i.style.verticalAlign=\"top\";e.querySelector(\".status\").insertBefore(i,null);break;case Kn:{const t=e.querySelector(Vn);i.style.marginRight=\"4px\",t.parentElement.insertBefore(i,t.nextElementSibling);break}}}),!this.newIssueView&&e===i){(document.querySelector(\"#priority-val\")||document.querySelector(\"#type-val\")).insertBefore(Qn(this.newIssueView),null)}})}};const tr={false:{text:\" >> \",title:\"Collapse sidebar\"},true:{text:\" << \",title:\"Expand sidebar\"}};const er=t=>{const e=document.createElement(\"button\");return e.textContent=tr[t].text,e.title=tr[t].title,e.setAttribute(\"class\",\"aui-button\"),e.addEventListener(\"click\",(function(){!function(t){const e=document.querySelector(Un);e&&(e.hidden=!e.hidden,t.textContent=tr[e.hidden].text,t.title=tr[e.hidden].title)}(e)})),e};var ir=class extends Bt{shouldApply(){return null!=v()}getModificationId(){return\"toggle-right-sidebar\"}waitForLoading(){return Promise.all([this.waitForElement(Un),this.waitForElement(Gn)])}async apply(){const t=document.querySelector(Gn),e=er(!1);t.appendChild(e)}},nr=i(6),rr=i.n(nr);var sr=i(37),or=i.n(sr),ar=i(38),lr=i.n(ar);const ur=(t,e)=>`${t}@@@${e}`,dr=t=>{const[e,i]=t.split(\"@@@\");return{fieldValue:e,fieldId:i}},cr=(t,e)=>({byId:or()(e=>e[t],e),allIds:lr()(t,e)});class hr extends Bt{constructor(...t){super(...t),this.handleEditClick=()=>{this.popup.render(),this.popup.appendToContent((({tableId:t,tableBodyId:e,addLimitBtnId:i,editLimitBtnId:n,fieldValueInputId:r,visualNameInputId:s,columnsSelectId:o,swimlanesSelectId:a,wipLimitInputId:l,applySwimlanesId:u,applyColumnsId:d,selectFieldId:c,selectFieldOptions:h=[],swimlaneOptions:p=[],columnOptions:m=[]})=>{var f;return`\\n   <form class=\"aui\" onsubmit=\"return false;\">\\n      <fieldset>\\n        <table>\\n          <tr>\\n            <td>\\n               <div class=\"field-group\">\\n                <label for=\"field-name\" title=\"two related fields as one key\" style=\"cursor: help;\"><b>Field<sup>*</sup></b></label>\\n                <select id=\"${c}\" class=\"select\" name=\"field-name\" defaultValue=\"${null===(f=h[0])||void 0===f?void 0:f.value}\">\\n                    ${h.map((t,e)=>`<option ${0===e?'selected=\"selected\"':\"\"} value=\"${t.value}\">${t.text}</option>`)}\\n                </select>\\n              </div>\\n              <div class=\"field-group\">\\n                <label for=\"field-value\" title=\"two related fields as one key\" style=\"cursor: help;\"><b>Field Value<sup>*</sup></b></label>\\n                <input id=\"${r}\" class=\"text medium-field\" type=\"text\" name=\"field-value\" placeholder=\"Field Value\">\\n              </div>\\n              <div class=\"field-group\">\\n                <label for=\"field-value\">Visual Name</label>\\n                <input id=\"${s}\" class=\"text medium-field\" type=\"text\" name=\"visual-name\" placeholder=\"Visual Name\">\\n              </div>\\n              <div class=\"field-group\">\\n                <label for=\"field-limit\">WIP Limit</label>\\n                <input id=\"${l}\" class=\"text medium-field\" type=\"number\" name=\"field-limit\" placeholder=\"0\">\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"field-group\" style=\"display: flex\">\\n                <label>Columns</label>\\n                <select id=\"${o}\" class=\"select2\" multiple style=\"margin: 0 12px; width: 195px;\" size=\"4\">\\n                  ${m.map(t=>`<option selected value=\"${t.value}\">${t.text}</option>`)}\\n                </select>\\n                <button type=\"button\" id=\"${d}\" class=\"aui-button aui-button-link\">Apply columns<br/>for selected users</button>\\n              </div>\\n              <div class=\"field-group\" style=\"display: flex\">\\n                <label>Swimlanes</label>\\n                <select id=\"${a}\" class=\"select2\" multiple style=\"margin: 0 12px; width: 195px;\" size=\"5\">\\n                  ${p.map(t=>`<option selected value=\"${t.value}\">${t.text}</option>`)}\\n                </select>\\n                <button type=\"button\" id=\"${u}\" class=\"aui-button aui-button-link\">Apply swimlanes<br/>for selected users</button>\\n              </div>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>&nbsp;</td>\\n            <td>\\n              <div class=\"buttons-container\">\\n                <div class=\"buttons\">\\n                  <button class=\"aui-button aui-button-primary ${rr.a.addFieldLimitBtn}\" type=\"button\" id=\"${i}\">Add limit</button>\\n                  <button class=\"aui-button aui-button-primary ${rr.a.editFieldLimitBtn}\" type=\"submit\" disabled id=\"${n}\">Edit limit</button>\\n                </div>\\n              </div>\\n            </td>\\n          </tr>\\n        </table>\\n      </fieldset>\\n     </div>\\n     <table id=\"${t}\" class=\"aui ${rr.a.addFieldLimitTable}\">\\n        <thead>\\n          <tr>\\n            <th></th>\\n            <th>Field Name</th>\\n            <th>Field Value</th>\\n            <th>Visual Name</th>\\n            <th>Limit</th>\\n            <th>Columns</th>\\n            <th>Swimlanes</th>\\n            <th></th>\\n          </tr>\\n        </thead>\\n        <tbody id=\"${e}\">\\n        </tbody>\\n      </table>\\n  </form>\\n`})({tableId:hr.ids.popupTable,tableBodyId:hr.ids.popupTableBody,addLimitBtnId:hr.ids.popupTableAddLimitRow,editLimitBtnId:hr.ids.popupTableEditLimitRow,fieldValueInputId:hr.ids.inputFieldValue,visualNameInputId:hr.ids.visualNameInput,columnsSelectId:hr.ids.columnsSelectId,swimlanesSelectId:hr.ids.swimlanesSelectId,wipLimitInputId:hr.ids.wipLimitInputId,applyColumnsId:hr.ids.applyColumns,applySwimlanesId:hr.ids.applySwimlanes,selectFieldId:hr.ids.fieldSelectId,selectFieldOptions:this.normalizedFields.allIds.map(t=>({text:this.normalizedFields.byId[t].name,value:t})),swimlaneOptions:this.normalizedSwimlanes.allIds.map(t=>({text:this.normalizedSwimlanes.byId[t].name,value:t})),columnOptions:this.normalizedColumns.allIds.map(t=>({text:this.normalizedColumns.byId[t].name,value:t}))})),this.renderRows(),this.renderColorPicker()},this.handleConfirmEditing=t=>{this.updateBoardProperty($t,this.settings),t()},this.renderColorPicker=()=>{const t=document.getElementById(hr.ids.popupTable);this.colorPickerTooltip.init(this.popup.contentBlock,\"colorpicker-data-id\"),this.addEventListener(t,\"click\",t=>{this.colorPickerTooltip.showTooltip(t)})}}async shouldApply(){return\"cardLayout\"===await g()}getModificationId(){return\"add-field-settings-\"+this.getBoardId()}waitForLoading(){return this.waitForElement(hr.jiraSelectors.cardLayout)}loadData(){return Promise.all([this.getBoardEditData(),this.getBoardProperty($t)])}apply(t){var e,i,n,r,s;if(!t)return;const[o={},a={limits:{}}]=t;o.canEdit&&(this.boardData=o,this.columns=null===(e=this.boardData)||void 0===e||null===(i=e.rapidListConfig)||void 0===i||null===(n=i.mappedColumns)||void 0===n?void 0:n.filter(t=>!t.isKanPlanColumn),this.swimlanes=null===(r=this.boardData)||void 0===r||null===(s=r.swimlanesConfig)||void 0===s?void 0:s.swimlanes,this.normalizedFields=cr(\"fieldId\",this.getCurrentFields()),this.normalizedSwimlanes=cr(\"id\",this.swimlanes),this.normalizedColumns=cr(\"id\",this.columns),this.settings={limits:a.limits||{}},this.onDOMChange(hr.jiraSelectors.cardLayoutConfig,()=>{this.normalizedFields=cr(\"fieldId\",this.getCurrentFields())},{childList:!0,subtree:!0}),this.colorPickerTooltip=new Ln({onOk:(t,e)=>{this.settings.limits[e].bkgColor=t,this.renderRows()},addEventListener:(t,e,i)=>this.addEventListener(t,e,i)}),this.renderEditButton())}getCurrentFields(){const t=document.querySelectorAll(hr.jiraSelectors.cardLayoutCurrentFields),e=[];return t.forEach(t=>{var i;const n=t.getAttribute(\"data-fieldid\");e.push({fieldId:n,name:null===(i=t.children[1])||void 0===i?void 0:i.innerText})}),e}renderEditButton(){var t;this.insertHTML(document.querySelector(hr.jiraSelectors.cardLayoutDesc),\"afterend\",(t=hr.ids.settingsBtn,`<div class=\"${rr.a.settingsEditBtn}\">\\n            <button id=\"${t}\" class=\"aui-button\" type=\"button\">Edit WIP limits by field</button>\\n        </div>`)),this.popup=new Ji({title:\"Edit WIP Limits by field\",onConfirm:this.handleConfirmEditing,okButtonText:\"Save\",size:\"large\"}),this.editBtn=document.getElementById(hr.ids.settingsBtn),this.addEventListener(this.editBtn,\"click\",this.handleEditClick)}handleAppliesLimitsToRows(){const t=t=>{document.querySelectorAll(`#${hr.ids.popupTableBody} > tr`).forEach(e=>{if(!e.querySelector('input[type=\"checkbox\"]:checked'))return;const i=e.getAttribute(\"data-field-project-row\");this.settings.limits[i]={...this.settings.limits[i],...t}}),this.renderRows()};this.addEventListener(document.getElementById(hr.ids.applyColumns),\"click\",()=>{const{columns:e}=this.getSelectedSwimlanesAndColumnsOptions();t({columns:e})}),this.addEventListener(document.getElementById(hr.ids.applySwimlanes),\"click\",()=>{const{swimlanes:e}=this.getSelectedSwimlanesAndColumnsOptions();t({swimlanes:e})})}handleButtonsFieldLimitRowClick(){const t=document.getElementById(hr.ids.popupTableAddLimitRow),e=document.getElementById(hr.ids.popupTableEditLimitRow),i=t=>{const{fieldId:i,fieldValue:n,visualValue:r,limit:s}=this.getInputValues(),{columns:o,swimlanes:a}=this.getSelectedSwimlanesAndColumnsOptions(),l=null!=t;l||(t=ur(n,i)),this.settings.limits[t]&&!l||(this.settings.limits[t]={...this.settings.limits[t],visualValue:r,fieldValue:n,fieldId:i,limit:+s,columns:o,swimlanes:a}),this.renderRows(),e.disabled=!0,this.limitKeyOfEditable=void 0};this.addEventListener(t,\"click\",()=>{i(null)}),this.addEventListener(e,\"click\",()=>{null!=this.limitKeyOfEditable?i(this.limitKeyOfEditable):e.disabled=!0})}renderRows(){document.getElementById(hr.ids.popupTableBody).innerHTML=\"\",Object.keys(this.settings.limits).forEach(t=>{const{limit:e,columns:i,swimlanes:n,fieldId:r,fieldValue:s,visualValue:o,bkgColor:a}=this.settings.limits[t];this.renderLimitRow({limitKey:t,fieldValue:s,visualValue:o,bkgColor:a,fieldId:r,limit:e,columns:i,swimlanes:n})}),this.handleButtonsFieldLimitRowClick(),this.handleAppliesLimitsToRows()}renderLimitRow({limitKey:t,fieldValue:e,visualValue:i,bkgColor:n,fieldId:r,limit:s,columns:o,swimlanes:a}){const l=this.normalizedFields.byId[r],u=l?l.name:`[${r}]`,d=this.insertHTML(document.getElementById(hr.ids.popupTableBody),\"beforeend\",(({limitKey:t,fieldId:e,fieldName:i,fieldValue:n,visualValue:r,bkgColor:s,limit:o,columns:a=[],swimlanes:l=[],editClassBtn:u,deleteClassBtn:d})=>`\\n    <tr data-field-project-row=\"${t}\">\\n      <td><input type=\"checkbox\" class=\"checkbox\" data-id=\"${t}\"></td>\\n      <td data-type=\"field-name\" data-value=\"${e}\">${i}</td>\\n      <td data-type=\"field-value\">${n}</td>\\n      <td data-type=\"visual-name\"><div colorpicker-data-id=\"${t}\"\\n          class=\"${rr.a.visualName}\" style=\"background-color:${s||\"none\"}\">${r}</div></td>\\n      <td data-type=\"field-limit\">${o}</td>\\n      <td data-type=\"field-columns\">${a.map(t=>t.name).join(\", \")}</td>\\n      <td data-type=\"field-swimlanes\">${l.map(t=>t.name).join(\", \")}</td>\\n      <td>\\n        <button class=\"aui-button ${u} ${rr.a.jhControlRowBtn}\">Edit</button></br>\\n        <button class=\"aui-button ${d} ${rr.a.jhControlRowBtn}\">Delete</button>\\n      </td>\\n    </tr>\\n  `)({limitKey:t,fieldValue:e,visualValue:i,bkgColor:n,fieldId:r,fieldName:u,limit:s,columns:o.map(t=>this.normalizedColumns.byId[t]||`column [${r}]`),swimlanes:a.map(t=>this.normalizedSwimlanes.byId[t]||`swimlane [${r}]`),editClassBtn:hr.classes.editRowBtn,deleteClassBtn:hr.classes.deleteRowBtn}));this.addEventListener(d.querySelector(\".\"+hr.classes.editRowBtn),\"click\",e=>{this.setInputValues(t),e.stopPropagation(),e.stopPropagation()}),this.addEventListener(d.querySelector(\".\"+hr.classes.deleteRowBtn),\"click\",e=>{delete this.settings.limits[t],d.remove(),e.stopPropagation(),e.stopPropagation()})}getInputValues(){var t;const e=document.getElementById(hr.ids.inputFieldValue).value,i=document.getElementById(hr.ids.visualNameInput).value,n=document.getElementById(hr.ids.wipLimitInputId).value;return{visualValue:i,fieldValue:e,fieldId:(null===(t=document.getElementById(hr.ids.fieldSelectId))||void 0===t?void 0:t.selectedOptions[0]).value,limit:n}}setInputValues(t){const{fieldValue:e,visualValue:i,limit:n,fieldId:r,columns:s,swimlanes:o}=this.settings.limits[t];this.limitKeyOfEditable=t,document.getElementById(hr.ids.popupTableEditLimitRow).disabled=!1,document.getElementById(hr.ids.inputFieldValue).value=e,document.getElementById(hr.ids.visualNameInput).value=i,document.getElementById(hr.ids.wipLimitInputId).value=n,document.getElementById(hr.ids.fieldSelectId).value=r,this.setSelectedSwimlanesAndColumnsOptions(s,o)}setSelectedSwimlanesAndColumnsOptions(t,e){const i=document.getElementById(hr.ids.columnsSelectId).options,n=document.getElementById(hr.ids.swimlanesSelectId).options;i.forEach(e=>{e.selected=t.includes(e.value)}),n.forEach(t=>{t.selected=e.includes(t.value)})}getSelectedSwimlanesAndColumnsOptions(){const t=document.getElementById(hr.ids.columnsSelectId).selectedOptions,e=document.getElementById(hr.ids.swimlanesSelectId).selectedOptions;return{columns:[...t].map(t=>t.value),swimlanes:[...e].map(t=>t.value)}}}hr.jiraSelectors={cardLayout:\"#ghx-config-cardLayout\",cardLayoutDesc:\"#ghx-config-cardLayout > p\",cardLayoutConfig:\"#ghx-card-layout-config-work\",cardLayoutCurrentFields:\"#ghx-card-layout-config-work .ui-sortable > tr\"},hr.ids={settingsBtn:\"jh-edit-wip-field-limits-btn\",popupTable:\"jh-field-limits-table\",popupTableBody:\"jh-field-limits-tbody\",popupTableAddLimitRow:\"jh-field-limits-add-btn\",popupTableEditLimitRow:\"jh-field-limits-edit-btn\",inputFieldValue:\"jh-input-field-value\",visualNameInput:\"jh-input-visual-name\",columnsSelectId:\"jh-columns-select\",swimlanesSelectId:\"jh-swimlanes-select\",wipLimitInputId:\"jh-wip-limit-input\",fieldSelectId:\"jh-select-field\",applyColumns:\"jh-apply-columns-limits\",applySwimlanes:\"jh-apply-swimlanes-limits\"},hr.classes={editRowBtn:\"jh-edit-row-btn\",deleteRowBtn:\"jh-delete-row-btn\"},hr.limitKeyOfEditable=void 0;var pr=i(39),mr=i.n(pr),fr=i(19),gr=i.n(fr);const vr=0,yr=1,br=2;class wr extends Bt{shouldApply(){const t=this.getSearchParam(\"view\");return!t||\"detail\"===t}getModificationId(){return\"board-page-field-limits-\"+this.getBoardId()}waitForLoading(){return this.waitForElement(wr.jiraSelectors.swimlane)}async loadData(){return[await this.getBoardEditData(),await this.getBoardProperty($t)||{limits:{}}]}apply(t){if(!t)return;const[e={},i]=t;Zi()(i)||Zi()(i.limits)||(this.fieldLimits=i,this.cssSelectorOfIssues=this.getCssSelectorOfIssues(e),this.normalizedExtraFields=cr(\"fieldId\",e.cardLayoutConfig.currentFields),this.applyLimits(),this.onDOMChange(wr.jiraSelectors.ghxPool,()=>this.applyLimits(),{childList:!0,subtree:!0}),this.onDOMChange(wr.jiraSelectors.ghxViewSelector,()=>this.checkIfLimitsAreApplied(),{childList:!0,subtree:!0}))}applyLimits(){const t=this.getLimitsStats();this.doColorCardsIssue(t),this.applyLimitsList(t)}getSumValues(t){return t.issues.reduce((t,e)=>t+e.countValues,0)}doColorCardsIssue(t){Object.keys(t).forEach(e=>{const i=t[e];if(Zi()(i.issues))return;this.getSumValues(i)>i.limit&&i.issues.forEach(({issue:t,countValues:e})=>{0!==e&&(t.style.backgroundColor=jt)})})}checkIfLimitsAreApplied(){if(!document.body.contains(this.fieldLimitsList)){const t=this.getLimitsStats();this.applyLimitsList(t)}}applyLimitsList(t){if(!this.fieldLimitsList||!document.body.contains(this.fieldLimitsList)){if(!document.querySelector(wr.jiraSelectors.subnavTitle))return;this.fieldLimitsList=this.insertHTML(document.querySelector(wr.jiraSelectors.subnavTitle),\"beforeend\",(({listBody:t})=>`<div class=\"${gr.a.fieldLimitsList}\">${t}</div>`)({listBody:Object.keys(t).map(e=>{const{visualValue:i,bkgColor:n}=t[e];return(({blockClass:t,dataFieldLimitKey:e,innerText:i,bkgColor:n,issuesCountClass:r})=>`\\n                          <div class=\"${t} ${gr.a.fieldLimitsItem}\"\\n                          style=\"background-color:${n||\"none\"}\"\\n                          data-field-limit-key=\"${e}\">\\n                              <div><span>${i}</span></div>\\n                              <div class=\"${gr.a.limitStats} ${r}\"></div>\\n                          </div>`)({blockClass:wr.classes.fieldLimitsBlock,dataFieldLimitKey:e,bkgColor:n,innerText:i,limitValue:t[e].limit,issuesCountClass:wr.classes.issuesCount})}).join(\"\")}))}this.fieldLimitsList.getElementsByClassName(wr.classes.fieldLimitsBlock).forEach(e=>{const i=e.getAttribute(\"data-field-limit-key\"),{fieldValue:n,fieldId:r}=dr(i),s=t[i],o=e.querySelector(\".\"+wr.classes.issuesCount);if(!r||!n)return;const a=this.getSumValues(s),l=s.limit;switch(Math.sign(l-a)){case-1:o.style.backgroundColor=jt;break;case 0:o.style.backgroundColor=Ft;break;default:o.style.backgroundColor=Ht}o.innerHTML=`${a}/${l}`,e.setAttribute(\"title\",(({limit:t=0,current:e=0,fieldName:i,fieldValue:n})=>`current: ${e} \\nlimit: ${t} \\nfield name: ${i}\\nfield value: ${n}`)({limit:l,current:a,fieldValue:n,fieldName:this.normalizedExtraFields.byId[r].name}))})}hasCustomswimlanes(){const t=document.querySelector(Vi);return null!=t&&-1!==t.getAttribute(\"aria-label\").indexOf(\"custom:\")}getCountValuesFromExtraField(t,e){let i=0;return t.childNodes instanceof NodeList&&t.childNodes.forEach(t=>{t.innerText.split(\",\").forEach(t=>{const n=t.trim().split(\"^\"),r=n[0].trim(),s=(n[1]+\"\").trim(),o=/^[0-9]*$/.test(s)?Number(s):1;e===r&&(i+=o)})}),i}getHasValueFromExtraField(t,e){let i=!1;return t.childNodes instanceof NodeList&&t.childNodes.forEach(t=>{i=i||t.innerText.split(\",\").reduce((t,i)=>t||i.trim()===e,!1)}),i?1:0}getSumNumberValueFromExtraField(t){let e=0;return t.childNodes instanceof NodeList&&t.childNodes.forEach(t=>{const i=Number.parseFloat(t.innerText);e+=Number.isNaN(i)?0:i}),e}countAmountPersonalIssuesInColumn(t,e,i){const{columnId:n}=t.dataset;t.querySelectorAll(this.cssSelectorOfIssues).forEach(t=>{const r=t.querySelectorAll(wr.jiraSelectors.extraField);Object.keys(e).forEach(s=>{const o=e[s];if(!o.columns.includes(n))return;if(i&&!o.swimlanes.includes(i))return;const a=this.normalizedExtraFields.byId[o.fieldId].name,l=o.fieldValue.replace(/^∑/,\"\");let u=vr;window.console.info(\"countAmountPersonalIssuesInColumn:\",o.fieldValue),\"∑\"===o.fieldValue[0]&&(u=yr),/∑\\([A-Za-z0-9]]*\\)/gim.test(o.fieldValue)&&(u=br);for(const i of r){const n=i.getAttribute(\"data-tooltip\").split(\":\")[0];let r;switch(u){case yr:r=this.getCountValuesFromExtraField(i,l);break;case br:r=this.getSumNumberValueFromExtraField(i);break;default:r=this.getHasValueFromExtraField(i,l)}n===a&&(e[s].issues.push({countValues:r,issue:t}),e[s].typeCalc=u)}})})}getLimitsStats(){const t=mr()(t=>({...t,issues:[]}))(this.fieldLimits.limits);return this.hasCustomswimlanes()?(document.querySelectorAll(Wi).forEach(e=>{const i=e.getAttribute(\"swimlane-id\");e.querySelectorAll(wr.jiraSelectors.column).forEach(e=>{this.countAmountPersonalIssuesInColumn(e,t,i)})}),t):(document.querySelectorAll(wr.jiraSelectors.column).forEach(e=>{this.countAmountPersonalIssuesInColumn(e,t)}),t)}}wr.jiraSelectors={subnavTitle:\"#subnav-title\",extraField:\".ghx-extra-field\",swimlane:\".ghx-swimlane\",column:\".ghx-column\",ghxPool:\"#ghx-pool\",ghxViewSelector:\"#ghx-view-selector\"},wr.classes={fieldLimitsBlock:\"field-limit-block-stat-jh\",issuesCount:\"field-issues-count\"};const xr=t=>{const e=document.getElementsByTagName(\"html\")[0];t?e.classList.add(\"blur\"):e.classList.remove(\"blur\")},_r={openEditorBtn:\"edit-person-wip-limit-btn-jh\",idPersonName:\"edit-person-wip-limit-person-name\",idLimit:\"edit-person-wip-limit-person-limit\",idColumnSelect:\"edit-person-wip-limit-column-select\",idApplyColumnSelect:\"edit-person-wip-limit-apply-columns\",idSwimlaneSelect:\"edit-person-wip-limit-swimlane-select\",idApplySwimlaneSelect:\"edit-person-wip-limit-apply-swimlane\",idButtonAddLimit:\"edit-person-wip-limit-person-limit-save-button\",idButtonEditLimit:\"edit-person-wip-limit-person-limit-edit-button\",idTablePersonalWipLimit:\"edit-person-wip-limit-persons-limit-body\",idTableHeadPersons:\"edit-person-wip-limit-head-persons\",idTableHeadColumns:\"edit-person-wip-limit-head-columns\",idTableHeadSwimlanes:\"edit-person-wip-limit-head-swimlanes\",idTableHeadDelete:\"edit-person-wip-limit-head-delete\"};class Cr extends Bt{constructor(...t){super(...t),this.openPersonalSettingsPopup=async()=>{await this.popup.render(),await this.popup.appendToContent(`<form class=\"aui\">\\n    <fieldset>\\n      <table>\\n        <tr>\\n          <td>\\n            <div class=\"field-group\">\\n              <label for=\"${_r.idPersonName}\">Person JIRA name</label>\\n              <input class=\"text medium-field\" type=\"text\" id=\"${_r.idPersonName}\" name=\"${_r.idPersonName}\" placeholder=\"\">\\n            </div>\\n\\n            <div class=\"field-group\">\\n              <label for=\"${_r.idLimit}\">Max issues at work</label>\\n              <input class=\"text medium-field\" type=\"number\" id=\"${_r.idLimit}\" name=\"${_r.idLimit}\" placeholder=\"\">\\n            </div>\\n          </td>\\n          <td>\\n            <div class=\"field-group columns\" style=\"display: flex\">\\n              <label>Columns</label>\\n              <select id=\"${_r.idColumnSelect}\" class=\"select2\" multiple style=\"margin: 0 12px; width: 195px;\" size=\"4\"></select>\\n              <button id=\"${_r.idApplyColumnSelect}\" class=\"aui-button aui-button-link\">Apply columns<br/>for selected users</button>\\n            </div>\\n\\n            <div class=\"field-group swimlanes\" style=\"display: flex\">\\n              <label>Swimlanes</label>\\n              <select id=\"${_r.idSwimlaneSelect}\" class=\"select2\" multiple style=\"margin: 0 12px;  width: 195px;\" size=\"5\"></select>\\n              <button id=\"${_r.idApplySwimlaneSelect}\" class=\"aui-button aui-button-link\">Apply swimlanes<br/>for selected users</button>\\n            </div>\\n          </td>\\n        </tr>\\n        <tr>\\n          <td>&nbsp;</td>\\n          <td>\\n            <div class=\"buttons-container\">\\n              <div class=\"buttons\">\\n                <button class=\"aui-button aui-button-primary\" type=\"submit\" id=\"${_r.idButtonAddLimit}\">Add limit</button>\\n                <button class=\"aui-button aui-button-primary\" type=\"submit\" disabled id=\"${_r.idButtonEditLimit}\">Edit limit</button>\\n              </div>\\n            </div>\\n          </td>\\n        </tr>\\n      </table>\\n    </fieldset>\\n  </form>`),await this.popup.appendToContent(`<table class=\"aui\">\\n    <thead>\\n    <tr>\\n      <th></th>\\n      <th id=\"${_r.idTableHeadPersons}\">Person</th>\\n      <th id=\"${_r.idTableHeadLimits}\">Limit</th>\\n      <th id=\"${_r.idTableHeadColumns}\">Columns</th>\\n      <th id=\"${_r.idTableHeadSwimlanes}\">Swimlanes</th>\\n      <th id=\"${_r.idTableHeadDelete}\">Delete</th>\\n    </tr>\\n    </thead>\\n    <tbody id=\"${_r.idTablePersonalWipLimit}\"></tbody>\\n  </table>`),this.DOMselectColumns=document.getElementById(_r.idColumnSelect),this.DOMselectSwimlane=document.getElementById(_r.idSwimlaneSelect),this.DOMfieldLimit=document.getElementById(_r.idLimit),this.DOMfieldPersonName=document.getElementById(_r.idPersonName),this.DOMtablePersonalWipLimit=document.getElementById(_r.idTablePersonalWipLimit),this.DOMAddLimit=document.getElementById(_r.idButtonAddLimit),this.DOMEditLimit=document.getElementById(_r.idButtonEditLimit),this.addOptionsToSelect(this.DOMselectColumns,this.boardDataColumns),this.addOptionsToSelect(this.DOMselectSwimlane,this.boardDataSwimlanes),this.showRowsTable(),this.DOMAddLimit.addEventListener(\"click\",async t=>this.onAddLimit(t)),this.DOMEditLimit.addEventListener(\"click\",async t=>this.onEditLimit(t))},this.addOptionsToSelect=(t,e)=>{this.swimlanesOptions=e.forEach(({id:e,name:i,isKanPlanColumn:n})=>{if(n)return;const r=document.createElement(\"option\");r.text=i,r.value=e,r.selected=!0,t.appendChild(r)})},this.handleSubmit=async t=>{t()},this.onAddLimit=async t=>{var e;t.preventDefault();const i=this.getDataForm(),n=await(r=i.person.name,Promise.allSettled([Lt({url:\"api/2/user/search\",query:{query:r},type:\"json\"}),Lt({url:\"api/2/user/search\",query:{username:r},type:\"json\"})]).then(([t,e])=>\"fulfilled\"===t.status?t.value:\"fulfilled\"===e.status?e.value:void 0).then(t=>{if(!r)return t[0];const e=t.find(t=>t.name===r||t.displayName===r);if(e)return e;const i=t.find(t=>{var e,i;return(null===(e=t.name)||void 0===e?void 0:e.includes(r))||(null===(i=t.displayName)||void 0===i?void 0:i.includes(r))});return i||t[0]}));var r;const s={id:Date.now(),person:{name:null!==(e=n.name)&&void 0!==e?e:n.displayName,displayName:n.displayName,self:n.self,avatar:n.avatarUrls[\"32x32\"]},limit:i.limit,columns:i.columns,swimlanes:i.swimlanes};this.personLimits.limits.push(s),await this.updateBoardProperty(Rt,this.personLimits),this.renderRow(s)},this.onEditLimit=async t=>{t.preventDefault();const e=parseInt(this.idPersonalOfEdit,10);if(t.target.disabled=!0,!e)return;const i=this.personLimits.limits.findIndex(t=>t.id===e);if(-1===i)return;const n=this.getDataForm();this.personLimits.limits[i]={...this.personLimits.limits[i],...n,person:{...n.person,...this.personLimits.limits[i].person}},await this.updateBoardProperty(Rt,this.personLimits),this.renderAllRow(),this.DOMAddLimit.disabled=!1,this.DOMEditLimit.disabled=!0},this.onDeleteLimit=async t=>{this.personLimits.limits=this.personLimits.limits.filter(e=>e.id!==t),await this.updateBoardProperty(Rt,this.personLimits)},this.onEdit=async t=>{const e=this.personLimits.limits.find(e=>e.id===t);document.getElementById(_r.idLimit).value=e.limit,document.getElementById(_r.idPersonName).value=e.person.name,this.DOMAddLimit.disabled=!0,this.DOMEditLimit.disabled=!1,this.idPersonalOfEdit=t,document.getElementById(\"row-\"+t).style.background=\"#ffd989c2\";const i=e.columns.map(t=>t.id);this.DOMselectColumns.options.forEach(t=>{t.selected=i.indexOf(t.value)>-1});const n=e.swimlanes.map(t=>t.id);this.DOMselectSwimlane.options.forEach(t=>{t.selected=n.indexOf(t.value)>-1}),await this.updateBoardProperty(Rt,this.personLimits)}}async shouldApply(){return\"columns\"===await g()}getModificationId(){return\"add-person-settings-\"+this.getBoardId()}waitForLoading(){return Promise.all([this.waitForElement(Cr.jiraSelectors.panelConfig)])}loadData(){return Promise.all([this.getBoardEditData(),this.getBoardProperty(Rt)])}apply(t){if(!t)return;const[e={},i={limits:[]}]=t;e.canEdit&&(this.boardData=e,this.boardDataColumns=this.boardData.rapidListConfig.mappedColumns.filter(t=>!t.isKanPlanColumn),this.boardDataSwimlanes=this.boardData.swimlanesConfig.swimlanes,this.personLimits=i,this.renderEditButton(),this.onDOMChange(\"#columns\",()=>{this.renderEditButton()}))}renderEditButton(){this.DOMeditBtn=this.insertHTML(document.getElementById(\"jh-group-of-btns-setting-page\"),\"beforeend\",`<button id=\"${_r.openEditorBtn}\" class=\"aui-button\">Manage per-person WIP-limits</button>`),this.popup=new Ji({title:\"Personal WIP Limit\",okButtonText:\"Save\",size:\"large\",onConfirm:this.handleSubmit,onCancel:this.handleClose}),this.addEventListener(this.DOMeditBtn,\"click\",this.openPersonalSettingsPopup)}showRowsTable(){this.personLimits.limits.forEach(t=>this.renderRow(t))}renderAllRow(){this.popup.htmlElement.querySelectorAll(\".person-row\").forEach(t=>t.remove()),this.personLimits.limits.forEach(t=>this.renderRow(t))}renderRow(t){const{id:e}=t;this.DOMtablePersonalWipLimit.insertAdjacentHTML(\"beforeend\",(({id:t,person:e,limit:i,columns:n,swimlanes:r})=>`<tr id=\"row-${t}\" class=\"person-row\">\\n      <td><input type=\"checkbox\" class=\"checkbox select-user-chb\" data-id=\"${t}\"></td>\\n      <td>${e.displayName}</td>\\n      <td>${i}</td>\\n      <td>${n.map(t=>t.name).join(\", \")}</td>\\n      <td>${r.map(t=>t.name).join(\", \")}</td>\\n      <td><div><button class=\"aui-button\" id=\"delete-${t}\">Delete</button></div><hr><div><button class=\"aui-button\" id=\"edit-${t}\">Edit</button></div></td>\\n    </tr>\\n  `)(t)),document.getElementById(\"delete-\"+e).addEventListener(\"click\",async()=>{await this.onDeleteLimit(e),document.getElementById(\"row-\"+e).remove()}),document.getElementById(\"edit-\"+e).addEventListener(\"click\",async()=>{await this.onEdit(e)})}getDataForm(){return{person:{name:this.DOMfieldPersonName.value},limit:this.DOMfieldLimit.valueAsNumber,columns:[...this.DOMselectColumns.selectedOptions].map(t=>({id:t.value,name:t.text})),swimlanes:[...this.DOMselectSwimlane.selectedOptions].map(t=>({id:t.value,name:t.text}))}}}Cr.jiraSelectors={panelConfig:\"#jh-group-of-btns-setting-page\"};const Sr=t=>t.split(\":\")[1].split(\"[\")[0].trim();var Lr=class extends Bt{shouldApply(){const t=this.getSearchParam(\"view\");return!t||\"detail\"===t}getModificationId(){return\"add-person-limits-\"+this.getBoardId()}appendStyles(){return'\\n    <style type=\"text/css\">\\n        #avatars-limits {\\n            display: inline-flex;\\n            margin-left: 30px;\\n        }\\n\\n        #avatars-limits .person-avatar {\\n            cursor: pointer;\\n            position: relative;\\n            margin-right: 4px;\\n            width: 32px;\\n            height: 32px;\\n        }\\n\\n        #avatars-limits .person-avatar img {\\n            width: 32px;\\n            height: 32px;\\n            border-radius: 10px;\\n            border: none;\\n        }\\n\\n        #avatars-limits .person-avatar img[view-my-cards=\"block\"] {\\n            border: solid 1px red;\\n        }\\n\\n        #avatars-limits .person-avatar .limit-stats {\\n            position: absolute;\\n            top: -10px;\\n            right: -6px;\\n            border-radius: 50%;\\n            background: grey;\\n            color: white;\\n            padding: 5px 2px;\\n            font-size: 12px;\\n            line-height: 12px;\\n            font-weight: 400;\\n        }\\n\\n        .ghx-issue.no-visibility {\\n            display: none!important;\\n        }\\n\\n        .ghx-swimlane.no-visibility {\\n            display: none!important;\\n        }\\n\\n        .ghx-parent-group.no-visibility {\\n            display: none!important;\\n        }\\n    </style>\\n    '}waitForLoading(){return this.waitForElement(\".ghx-swimlane\")}loadData(){return Promise.all([this.getBoardEditData(),this.getBoardProperty(Rt)])}apply(t){if(!t)return;const[e={},i]=t;i&&i.limits.length&&(this.cssSelectorOfIssues=this.getCssSelectorOfIssues(e),this.applyLimits(i),this.onDOMChange(\"#ghx-pool\",()=>this.applyLimits(i),{childList:!0,subtree:!0}))}applyLimits(t){const e=this.getLimitsStats(t);if(e.forEach(t=>{t.issues.length>t.limit&&t.issues.forEach(t=>{t.style.backgroundColor=\"#ff5630\"})}),!this.avatarsList||!document.body.contains(this.avatarsList)){const t=e.map(t=>`\\n        <div class=\"person-avatar\">\\n            <img src=\"${t.person.avatar}\" title=\"${t.person.displayName}\" class=\"jira-tooltip\" />\\n            <div class=\"limit-stats\">\\n                <span class=\"stats-current\"></span>/<span>${t.limit}</span>\\n            </div>\\n        </div>`).join(\"\");this.avatarsList=document.createElement(\"div\"),this.avatarsList.id=\"avatars-limits\",this.avatarsList.innerHTML=t,this.addEventListener(this.avatarsList,\"click\",t=>this.onClickAvatar(t)),document.querySelector(\"#subnav-title\").insertBefore(this.avatarsList,null)}this.avatarsList.querySelectorAll(\".limit-stats\").forEach((t,i)=>{e[i].issues.length>e[i].limit?t.style.background=\"#ff5630\":e[i].issues.length===e[i].limit?t.style.background=\"#ffd700\":t.style.background=\"#1b855c\",t.querySelector(\".stats-current\").textContent=e[i].issues.length})}onClickAvatar(t){if(\"IMG\"!==t.target.nodeName)return;t.target.getAttribute(\"view-my-cards\")?t.target.removeAttribute(\"view-my-cards\"):t.target.setAttribute(\"view-my-cards\",\"block\"),this.showOnlyChosen()}showOnlyChosen(){const t=Array.from(document.querySelectorAll(\".ghx-issue\"));if(!(document.querySelectorAll('[view-my-cards=\"block\"]').length>0))return t.forEach(t=>{t.classList.remove(\"no-visibility\")}),void this.showOrHideTaskAggregations();const e=Array.from(document.querySelectorAll(\"[view-my-cards]\")).map(t=>t.title);t.forEach(t=>{const i=t.querySelector(\".ghx-avatar img\");if(!i)return void t.classList.add(\"no-visibility\");const n=Sr(i.getAttribute(\"data-tooltip\"));e.indexOf(n)>-1?t.classList.remove(\"no-visibility\"):t.classList.add(\"no-visibility\")}),this.showOrHideTaskAggregations()}showOrHideTaskAggregations(){this.showOrHideSubTaskParentGroup(),this.showOrHideEmptySwimlanes()}showOrHideSubTaskParentGroup(){Array.from(document.querySelectorAll(\".ghx-parent-group\")).forEach(t=>{this.showOrHideElementByVisibleIssueCards(t)})}showOrHideEmptySwimlanes(){Array.from(document.querySelectorAll(Wi)).forEach(t=>{this.showOrHideElementByVisibleIssueCards(t)})}showOrHideElementByVisibleIssueCards(t){t.querySelectorAll(\".ghx-issue.no-visibility\").length===t.querySelectorAll(\".ghx-issue\").length?t.classList.add(\"no-visibility\"):t.classList.remove(\"no-visibility\")}hasCustomswimlanes(){const t=document.querySelector(Vi);return null!=t&&-1!==t.getAttribute(\"aria-label\").indexOf(\"Swimlane for custom\")}countAmountPersonalIssuesInColumn(t,e,i){const{columnId:n}=t.dataset;t.querySelectorAll(this.cssSelectorOfIssues).forEach(t=>{const r=(t=>{var e;if(!t)return null;const i=null!==(e=t.alt)&&void 0!==e?e:t.dataset.tooltip;return i?Sr(i):null})(t.querySelector(\".ghx-avatar-img\"));r&&e.forEach(e=>{((t,e,i,n)=>null==n?(t.person.displayName===e||t.person.name===e)&&t.columns.some(t=>t.id===i):(t.person.displayName===e||t.person.name===e)&&t.columns.some(t=>t.id===i)&&t.swimlanes.some(t=>t.id===n))(e,r,n,i)&&e.issues.push(t)})})}getLimitsStats(t){const e=t.limits.map(t=>({...t,issues:[]}));return this.hasCustomswimlanes()?(document.querySelectorAll(Wi).forEach(t=>{const i=t.getAttribute(\"swimlane-id\");t.querySelectorAll(\".ghx-column\").forEach(t=>{this.countAmountPersonalIssuesInColumn(t,e,i)})}),e):(document.querySelectorAll(\".ghx-column\").forEach(t=>{this.countAmountPersonalIssuesInColumn(t,e)}),e)}},Er=class extends Bt{waitForLoading(){return this.waitForElement(\".ghx-swimlane\")}getModificationId(){return\"SLAIndicatorTitle-shows-\"+this.getBoardId()}shouldApply(){const t=this.getSearchParam(\"view\");return!t||\"detail\"===t}loadData(){return Promise.all([this.getBoardEditData(),this.getBoardProperty(Nt)])}async apply(t){if(!t)return;const[e,i]=t;i&&(this.wip=i,this.counterCssSelector=this.getCssSelectorOfIssues(e),this.renderWipLimitCells(),this.onDOMChange(\"#ghx-pool\",()=>this.renderWipLimitCells()))}renderWipLimitCells(){const t=this.getCells(),e=this.getEmptyMartix(t);for(const i of this.wip){let n=0;const r=this.arrayClone(e);for(const e of i.cells){const i=`[swimlane-id='${e.swimlane}'] [data-column-id='${e.column}']`,[s]=document.querySelectorAll(i);if(s){const{length:i}=s.querySelectorAll(this.counterCssSelector);n+=i,e.DOM=s;const o=this.excludeCells(t,r,s);e.x=o.s,e.y=o.c}else e.notFoundOnBoard=!0}let s;i.matrixRange=this.invertMatrix(t,r,e),n===i.wipLimit?s='#ffd700\"':n>i.wipLimit&&(s='#ff5630\"');for(const t of i.cells)t.notFoundOnBoard||(i.disable&&t.DOM.classList.add(\"WipLimitCells_disable\"),t.border=this.setBorderString(t,i.matrixRange),this.cellAddClasses(t,n,i.wipLimit),t.showBadge&&t.DOM.insertAdjacentHTML(\"afterbegin\",this.getGetRengeDOM(n,i.wipLimit,s)))}}setBorderString(t,e){let i=\"\";return 0!==t.x?0===e[t.x-1][t.y]&&(i+=\"T\"):i+=\"T\",t.x!==e.length-1?0===e[t.x+1][t.y]&&(i+=\"B\"):i+=\"B\",0!==t.y?0===e[t.x][t.y-1]&&(i+=\"L\"):i+=\"L\",t.y!==e[t.x].length-1?0===e[t.x][t.y+1]&&(i+=\"R\"):i+=\"R\",i}invertMatrix(t,e,i){const n=this.arrayClone(i);for(let i=0;i<e.length;i++)for(let r=0;r<e[i].length;r++)1===e[i][r]&&(n[i][r]=[t[i][r]]);return n}getEmptyMartix(t){const e=[];return t.forEach(t=>{const i=[];t.forEach(()=>i.push(0)),e.push(i)}),e}arrayClone(t){let e,i;if(Array.isArray(t)){for(i=t.slice(0),e=0;e<i.length;e++)i[e]=this.arrayClone(i[e]);return i}return t}excludeCells(t,e,i){const n={s:null,c:null};for(let r=0;r<t.length;r++)for(let s=0;s<t[r].length;s++)if(t[r][s]===i)return e[r][s]=1,n.s=r,n.c=s,n;return n}getCells(){const t=[],e=document.querySelectorAll(\".ghx-swimlane\");for(const i of e){const e=[],n=i.querySelectorAll(\".ghx-column\");for(const t of n)e.push(t);t.push(e)}return t}cellAddClasses(t,e,i){-1!==t.border.indexOf(\"L\")&&t.DOM.classList.add(\"WipLimitCellsRange_left\"),-1!==t.border.indexOf(\"R\")&&t.DOM.classList.add(\"WipLimitCellsRange_right\"),-1!==t.border.indexOf(\"T\")&&t.DOM.classList.add(\"WipLimitCellsRange_top\"),-1!==t.border.indexOf(\"B\")&&t.DOM.classList.add(\"WipLimitCellsRange_bottom\"),e>i?(t.DOM.style.backgroundColor=\"#ff563070\",t.DOM.classList.add(\"WipLimit_NotRespected\")):t.DOM.classList.add(\"WipLimit_Respected\")}setTimeout(t,e){const i=setTimeout(t,e);return this.sideEffects.push(()=>clearTimeout(i)),i}getGetRengeDOM(t,e,i=\"#1b855c\"){return`<div class=\"WipLimitCellsBadge field-issues-count \" style = \"background-color: ${i}\">${t}/${e}</div>`}appendStyles(){return'\\n    <style type=\"text/css\">\\n    .WipLimitCellsBadge{\\n      position: absolute;\\n      top: -2px;\\n      right: -6px;\\n      border-radius: 50%;\\n      background: grey;\\n      color: white;\\n      padding: 5px 2px;\\n      font-size: 12px;\\n      line-height: 12px;\\n      font-weight: 400;\\n      z-index:1;\\n    }\\n\\n    .WipLimitCellsRange_left{\\n      border-left: 0.15rem #1663e5 dashed;\\n    }\\n    .WipLimitCellsRange_right{\\n      border-right: 0.15rem #1663e5 dashed;\\n    }\\n    .WipLimitCellsRange_all{\\n      border: 0.15rem #1663e5 ;\\n    }\\n    .WipLimitCellsRange_top{\\n      border-top: 0.15rem #1663e5 dashed;\\n    }\\n    .WipLimitCellsRange_bottom{\\n      border-bottom: 0.15rem #1663e5 dashed;\\n    }\\n\\n    .WipLimitNotRespected{\\n        background-color: #ff563070;\\n      }\\n\\n      .WipLimitCells_disable{\\n        background: repeating-linear-gradient(\\n          45deg,\\n          rgb(160 160 160),\\n          rgb(180 180 180) 10px,\\n          rgb(200 200 200) 10px,\\n          rgb(220 220 220) 20px\\n        ) !important;\\n\\n      }\\n\\n    </style>'}};const kr=\"WIPLC_swimlane\",Tr=\"WIPLC_Column\",Ir=\"WIPLC_showBadge\",Mr=\"WIP_tableDiv\",Br=\"SLAClearData\",Ar=\"WIP_inputRange\",Pr=\"WIP_buttonRange\",Or=\"edit-WipLimitOnCells-btn-jh\";class Dr{constructor(t){this.tableDOM=t.dom,this.ids={tbody:\"WipLimitCells_tbody\",table:\"WipLimitCells_table\"},Array.isArray(t.data)?this.data=t.data:this.data=[],this.getNameLabel=t.handleGetNameLabel}clear(){for(;null!=this&&null!==(t=this.tbody)&&void 0!==t&&t.firstChild;){var t;this.tbody.removeChild(this.tbody.firstChild)}}setData(t){this.data!==t&&Array.isArray(t)&&(this.data=t,this.refresh())}refresh(){this.clear(),this.render()}setDiv(t){this.tableDOM!==t&&(this.tableDOM=t,this.clear(),this.createTable())}render(){Array.isArray(this.data)&&this.data.forEach(t=>{const e=t.name,i=document.createElement(\"tr\");i.id=e;let n=document.createElement(\"td\");const r=document.createElement(\"span\");r.id=`WIP_${e}_limitChoose`,r.addEventListener(\"click\",()=>{const t=document.getElementById(Ar);t.value=e,t.dataset.range=e}),r.insertAdjacentHTML(\"beforeend\",'<svg fill=\"#000000\" xmlns=\"http://www.w3.org/2000/svg\" class=\"WipLimitHover\" viewBox=\"0 0 24 24\" width=\"16px\" height=\"16px\"><path d=\"M18.414,4.414l1.172,1.172L6.172,19H5v-1.172L18.414,4.414 M18.414,2c-0.256,0-0.512,0.098-0.707,0.293L3,17v4h4L21.707,6.293c0.391-0.391,0.391-1.024,0-1.414l-2.586-2.586C18.926,2.098,18.67,2,18.414,2L18.414,2z\"/><path fill=\"none\" stroke=\"#000000\" stroke-miterlimit=\"10\" stroke-width=\"2\" d=\"M15 5L18.5 8.5\"/></svg>'),i.appendChild(n),n=document.createElement(\"td\");let s=document.createElement(\"input\");s.value=e,s.id=\"Input_\"+e,s.type=\"text\",s.style.maxWidth=\"150px\",s.addEventListener(\"blur\",()=>{const{value:i}=document.getElementById(\"Input_\"+e);this.changeField(t.name,\"name\",i)}),n.appendChild(s);const o=document.createElement(\"span\");o.insertAdjacentHTML(\"beforeend\",'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"WipLimitHover\" viewBox=\"0 0 16 16\"> <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/> <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/> </svg>'),o.addEventListener(\"click\",()=>{this.deleteRange(e)}),n.appendChild(r),n.appendChild(o),i.appendChild(n),n=document.createElement(\"td\"),s=document.createElement(\"input\"),s.id=`Input_${e}_WIPLIMIT`,s.type=\"number\",s.style.maxWidth=\"75px\",s.value=t.wipLimit,s.addEventListener(\"blur\",()=>{const{value:t}=document.getElementById(`Input_${e}_WIPLIMIT`);this.changeField(e,\"wipLimit\",t)}),n.appendChild(s),i.appendChild(n),n=document.createElement(\"td\"),s=document.createElement(\"input\"),s.id=`Input_${e}_Disable`,s.type=\"checkbox\",s.checked=t.disable,s.addEventListener(\"input\",()=>{const{checked:t}=document.getElementById(`Input_${e}_Disable`);this.changeField(e,\"disable\",t)}),n.appendChild(s),i.appendChild(n),n=document.createElement(\"td\"),Array.isArray(t.cells)&&(t.cells.forEach(t=>{const i=document.createElement(\"span\");i.innerText=this.getNameLabel(t.swimlane,t.column),i.style.minHeight=\"21px\",i.style.margin=\"2px\",i.classList.add(\"aui-badge\"),t.showBadge&&i.insertAdjacentHTML(\"beforeend\",'<span><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"WipLimitHover\" viewBox=\"0 0 16 16\"> <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/> <path d=\"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\"/> </svg></span>');const r=document.createElement(\"span\");r.classList.add(\"WipLimitHover\"),r.insertAdjacentHTML(\"beforeend\",'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"WipLimitHover\" viewBox=\"0 0 16 16\"> <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/> <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/> </svg>'),r.style.margin=\"1px\",r.addEventListener(\"click\",()=>{this.deleteCells(e,t.swimlane,t.column)}),i.appendChild(r),n.appendChild(i)}),i.appendChild(n)),this.tbody.appendChild(i)})}deleteRange(t){this.data=this.data.filter(e=>e.name!==t),this.refresh()}changeField(t,e,i){for(const n of this.data)n.name===t&&(n[e]=i);this.refresh()}findRange(t){return this.data.filter(e=>e.name.toLowerCase()===t.toLowerCase()).length>0}addRange(t){if(\"\"===t)return alert(\"Enter range name\"),!1;if(!(this.data.filter(e=>e.name===t).length>0))return this.data.push({name:t,wipLimit:0,cells:[]}),this.refresh(),!0;alert(\"Enter unique range name\")}deleteCells(t,e,i){this.data.forEach(n=>{if(n.name===t){const t=n.cells.filter(t=>!(t.swimlane===e.toString()&&t.column===i.toString()));n.cells=t}}),this.refresh()}getData(){const t=[...this.data];for(const e of t)e.wipLimit=parseInt(e.wipLimit,10),e.choose=void 0;return t}addCells(t,e){const i=this.data.filter(e=>e.name.toLowerCase()===t.toLowerCase());if(1!==i.length)return void alert(\"Error two or more ranges have this name. Please delete one range\");let n=!0;const r=i[0];for(const t of r.cells)e.swimlane===t.swimlane&&e.column===t.column&&(n=!1);n&&r.cells.push({...e}),this.refresh()}createTable(){const t=document.createElement(\"form\");t.classList.add(\"aui\");const e=document.createElement(\"table\");e.id=this.ids.table,e.classList.add(\"aui\"),e.classList.add(\"aui-table-list\");const i=document.createElement(\"thead\");i.insertAdjacentHTML(\"beforeend\",'<tr>\\n            <th style=\"width:2%\"></th>\\n            <th style=\"width:30%\" >Range name</th>\\n            <th style=\"width:10%\">WIP limit</th>\\n            <th style=\"width:3%\">Disable</th>\\n            <th style=\"width:50%\">Cells (swimelane/column)</th>\\n          </tr>');const n=document.createElement(\"tbody\");i.id=this.ids.tbody,e.appendChild(i),e.appendChild(n),t.appendChild(e),this.tableDOM.appendChild(t),this.tbody=n}}class Rr extends Bt{constructor(...t){super(...t),this.handleEditClick=async()=>{var t;await this.popup.render(),await this.popup.appendToContent(`\\n<form class=\"aui\">\\n  <div class=\"field-group\">\\n    <label for=\"${Ar}\">Add range </label>\\n    <input class=\"text\" id=\"${Ar}\" placeholder=\"name\" />\\n    <button id=\"${Pr}\" class=\"aui-button\" type=\"button\">Add range</button>\\n  </div>\\n</form>`),await this.popup.appendToContent(((t,e)=>{if(!Array.isArray(e)||!Array.isArray(t))return\"\";const i=[];t.forEach(t=>{i.push(`<option value=${t.id} >${t.name}</option>`)});const n=[];return e.forEach(t=>{n.push(`<option value=${t.id} >${t.name}</option>`)}),`\\n    <div style=\"margin-top: 1rem\">\\n              <form class=\"aui\">\\n              <div class=\"field-group\">\\n              <label for=\"${kr}\">swimlane </label>\\n    <select id=\"${kr}\" style=\"width:100%\">\\n        <option>-</option>\\n        ${i.join(\"\")}\\n    </select>\\n    </div>\\n\\n    <div class=\"field-group\">\\n    <label for=\"${Tr}\">Collumn </label>\\n    <select id=\"${Tr}\" style=\"width:100%\">\\n    <option>-</option>\\n        ${n.join(\"\")}\\n    </select>\\n    </div>\\n    <div class=\"field-group\">\\n    <label for=\"${Tr}\">show indicator</label>\\n    <input type=\"checkbox\" class=\"checkbox select-user-chb\" id=\"${Ir}\"></input>\\n    </div>\\n    </form>\\n    </div >\\n    <hr/>`})(this.swimlane,this.column)),await this.popup.appendToContent(`<div id=${Mr}></div>`),await this.popup.appendToContent((t=Br,`<div style=\"margin-top: 1rem\">\\n            <button id=\"${t}\" class=\"aui-button\" type=\"button\">Clear and save all data</button>\\n        </div>`)),this.editBtn=document.getElementById(Pr),this.addEventListener(this.editBtn,\"click\",this.handleOnClickAddRange);const e=document.getElementById(Br);this.addEventListener(e,\"click\",this.handleClearSettings),this.input=document.getElementById(Ar),this.addEventListener(this.input,\"input\",this.handleOnChangeRange),await this.table.setDiv(document.getElementById(Mr)),await this.table.render()},this.handleOnChangeRange=()=>{const{value:t}=document.getElementById(Ar);this.table.findRange(t)?(this.editBtn.innerText=\"Add cell\",this.input.dataset.range=t):(this.editBtn.innerText=\"Add range\",delete this.input.dataset.range)},this.handleOnClickAddRange=()=>{const{value:t,dataset:e}=document.getElementById(Ar),{value:i}=document.getElementById(\"\"+kr).selectedOptions[0],{value:n}=document.getElementById(\"\"+Tr).selectedOptions[0],{checked:r}=document.getElementById(\"\"+Ir);if(\"-\"!==i&&\"-\"!==n)if(e.range&&this.table.findRange(e.range)){const e={swimlane:i,column:n,showBadge:r};this.table.addCells(t,e)}else{if(this.table.addRange(t)){const e={swimlane:i,column:n,showBadge:r};this.table.addCells(t,e)}this.handleOnChangeRange()}else alert(\"need choose swimlane and column and try again.\")},this.handleClearSettings=()=>{this.table.setData([]),this.popup.unmount(),this.handleEditClick(),this.deleteBoardProperty(Nt)},this.handleConfirmEditing=t=>{const e=this.table.getData();this.updateBoardProperty(Nt,e),t()}}getModificationId(){return\"WipLimitByCells-settings-\"+this.getBoardId()}async shouldApply(){return\"columns\"===await g()}waitForLoading(){return Promise.all([this.waitForElement(Rr.jiraSelectors.panelConfig)])}loadData(){return Promise.all([this.getBoardEditData(),Promise.all([this.getBoardProperty(Nt)])])}apply(t){var e,i,n,r,s;if(!t)return;const o=t[0];let[a]=t[1];if(a=a||[],!o||!o.canEdit)return;this.boardData=o,this.swimlane=null===(e=this.boardData)||void 0===e||null===(i=e.swimlanesConfig)||void 0===i?void 0:i.swimlanes,this.column=null===(n=this.boardData)||void 0===n||null===(r=n.rapidListConfig)||void 0===r||null===(s=r.mappedColumns)||void 0===s?void 0:s.filter(t=>!t.isKanPlanColumn),a=a.map(t=>{const e=[];return t.cells.forEach(t=>{var i;e.push({column:t.column,showBadge:t.showBadge,swimlane:null!==(i=t.swimlane)&&void 0!==i?i:t.swimline})}),t.cells=e,t}),this.data=a;this.table=new Dr({data:this.data,handleGetNameLabel:(t,e)=>{const i=this.swimlane.find(e=>e.id.toString()===t.toString()),n=this.column.find(t=>t.id.toString()===e.toString());return`${null==i?void 0:i.name} / ${null==n?void 0:n.name}`}}),this.renderEditButton(),this.onDOMChange(\"#columns\",()=>{this.renderEditButton()})}appendStyles(){return'\\n    <style type=\"text/css\">\\n    .WipLimitHover:hover{\\n      transform: scale(1.2);\\n    }\\n    .WipLimitHover{\\n      margin-right:2px;\\n      margin-left:2px;\\n    }\\n    </style>'}renderEditButton(){const t=this.insertHTML(document.getElementById(\"jh-group-of-btns-setting-page\"),\"beforeend\",`\\n            <button id=\"${Or}\" class=\"aui-button\" type=\"button\">Edit Wip limits by cells</button>\\n        `);this.popup=new Ji({title:\"Edit WipLimit on cells\",onConfirm:this.handleConfirmEditing,size:\"large\",okButtonText:\"Save\"}),this.addEventListener(t,\"click\",this.handleEditClick)}removeEditBtn(){this.editBtn.remove()}}Rr.jiraSelectors={panelConfig:\"#jh-group-of-btns-setting-page\"};o.a.onMessage((t,e,i)=>{e.tab||\"boolean\"!=typeof t.blurSensitive||((t,e)=>{localStorage.setItem(\"blurSensitive\",t),xr(t),e({blurSensitive:t})})(t.blurSensitive,i)}),o.a.onMessage((t,e,i)=>{e.tab||\"boolean\"!=typeof t.getBlurSensitive||i({blurSensitive:\"true\"===localStorage.getItem(\"blurSensitive\")})}),async function(){if(!r)return;await new Promise(t=>{if(\"interactive\"===document.readyState||\"complete\"===document.readyState)return t();window.addEventListener(\"DOMContentLoaded\",t)}),(()=>{const t=\"true\"===localStorage.getItem(\"blurSensitive\");xr(!!t)})(),Fi({[a]:[zi,Lr,In,Yi,Zn,wr,Er],[l]:[Ki,En,Cr,hr,Rr],[c]:[Zn,ir],[u]:[Zn,ir],[d]:[ie,Di],[h]:[Nn]})}()},function(t,e,i){\"use strict\";function n(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}i.r(e),i.d(e,\"gsap\",(function(){return Un})),i.d(e,\"default\",(function(){return Un})),i.d(e,\"CSSPlugin\",(function(){return Vn})),i.d(e,\"TweenMax\",(function(){return Gn})),i.d(e,\"TweenLite\",(function(){return Ke})),i.d(e,\"TimelineMax\",(function(){return qe})),i.d(e,\"TimelineLite\",(function(){return qe})),i.d(e,\"Power0\",(function(){return Ci})),i.d(e,\"Power1\",(function(){return Si})),i.d(e,\"Power2\",(function(){return Li})),i.d(e,\"Power3\",(function(){return Ei})),i.d(e,\"Power4\",(function(){return ki})),i.d(e,\"Linear\",(function(){return Ti})),i.d(e,\"Quad\",(function(){return Ii})),i.d(e,\"Cubic\",(function(){return Mi})),i.d(e,\"Quart\",(function(){return Bi})),i.d(e,\"Quint\",(function(){return Ai})),i.d(e,\"Strong\",(function(){return Pi})),i.d(e,\"Elastic\",(function(){return Oi})),i.d(e,\"Back\",(function(){return Di})),i.d(e,\"SteppedEase\",(function(){return Ri})),i.d(e,\"Bounce\",(function(){return $i})),i.d(e,\"Sine\",(function(){return Ni})),i.d(e,\"Expo\",(function(){return ji})),i.d(e,\"Circ\",(function(){return Fi}));var s,o,a,l,u,d,c,h,p,m,f,g,v,y,b,w,x,_,C,S,L,E,k,T,I,M,B,A,P={autoSleep:120,force3D:\"auto\",nullTargetWarn:1,units:{lineHeight:\"\"}},O={duration:.5,overwrite:!1,delay:0},D=1e8,R=2*Math.PI,$=R/4,N=0,j=Math.sqrt,F=Math.cos,H=Math.sin,q=function(t){return\"string\"==typeof t},z=function(t){return\"function\"==typeof t},W=function(t){return\"number\"==typeof t},V=function(t){return void 0===t},U=function(t){return\"object\"==typeof t},G=function(t){return!1!==t},Y=function(){return\"undefined\"!=typeof window},X=function(t){return z(t)||q(t)},J=\"function\"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},K=Array.isArray,Q=/(?:-?\\.?\\d|\\.)+/gi,Z=/[-+=.]*\\d+[.e\\-+]*\\d*[e\\-+]*\\d*/g,tt=/[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,et=/[-+=.]*\\d+\\.?\\d*(?:e-|e\\+)?\\d*/gi,it=/[+-]=-?[.\\d]+/,nt=/[#\\-+.]*\\b[a-z\\d-=+%.]+/gi,rt=/[\\d.+\\-=]+(?:e[-+]\\d*)*/i,st={},ot={},at=function(t){return(ot=Pt(t,st))&&fi},lt=function(t,e){return console.warn(\"Invalid property\",t,\"set to\",e,\"Missing plugin? gsap.registerPlugin()\")},ut=function(t,e){return!e&&console.warn(t)},dt=function(t,e){return t&&(st[t]=e)&&ot&&(ot[t]=e)||st},ct=function(){return 0},ht={},pt=[],mt={},ft={},gt={},vt=30,yt=[],bt=\"\",wt=function(t){var e,i,n=t[0];if(U(n)||z(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=yt.length;i--&&!yt[i].targetTest(n););e=yt[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Fe(t[i],e)))||t.splice(i,1);return t},xt=function(t){return t._gsap||wt(oe(t))[0]._gsap},_t=function(t,e,i){return(i=t[e])&&z(i)?t[e]():V(i)&&t.getAttribute&&t.getAttribute(e)||i},Ct=function(t,e){return(t=t.split(\",\")).forEach(e)||t},St=function(t){return Math.round(1e5*t)/1e5||0},Lt=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},Et=function(t,e,i){var n,r=W(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s];if(r&&(o.duration=t[1]),o.parent=i,e){for(n=o;i&&!(\"immediateRender\"in n);)n=i.vars.defaults||{},i=G(i.vars.inherit)&&i.parent;o.immediateRender=G(n.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return o},kt=function(){var t,e,i=pt.length,n=pt.slice(0);for(mt={},pt.length=0,t=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Tt=function(t,e,i,n){pt.length&&kt(),t.render(e,i,n),pt.length&&kt()},It=function(t){var e=parseFloat(t);return(e||0===e)&&(t+\"\").match(nt).length<2?e:q(t)?t.trim():t},Mt=function(t){return t},Bt=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},At=function(t,e){for(var i in e)i in t||\"duration\"===i||\"ease\"===i||(t[i]=e[i])},Pt=function(t,e){for(var i in e)t[i]=e[i];return t},Ot=function t(e,i){for(var n in i)\"__proto__\"!==n&&\"constructor\"!==n&&\"prototype\"!==n&&(e[n]=U(i[n])?t(e[n]||(e[n]={}),i[n]):i[n]);return e},Dt=function(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n},Rt=function(t){var e=t.parent||o,i=t.keyframes?At:Bt;if(G(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},$t=function(t,e,i,n){void 0===i&&(i=\"_first\"),void 0===n&&(n=\"_last\");var r=e._prev,s=e._next;r?r._next=s:t[i]===e&&(t[i]=s),s?s._prev=r:t[n]===e&&(t[n]=r),e._next=e._prev=e.parent=null},Nt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},jt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},Ft=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Ht=function(t){return t._repeat?qt(t._tTime,t=t.duration()+t._rDelay)*t:0},qt=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},zt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Wt=function(t){return t._end=St(t._start+(t._tDur/Math.abs(t._ts||t._rts||1e-8)||0))},Vt=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=St(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Wt(t),i._dirty||jt(i,t)),t},Ut=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=zt(t.rawTime(),e),(!e._dur||ee(0,e.totalDuration(),i)-e._tTime>1e-8)&&e.render(i,!0)),jt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-1e-8}},Gt=function(t,e,i,n){return e.parent&&Nt(e),e._start=St(i+e._delay),e._end=St(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,n,r){void 0===i&&(i=\"_first\"),void 0===n&&(n=\"_last\");var s,o=t[n];if(r)for(s=e[r];o&&o[r]>s;)o=o._prev;o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=o,e.parent=e._dp=t}(t,e,\"_first\",\"_last\",t._sort?\"_start\":0),t._recent=e,n||Ut(t,e),t},Yt=function(t,e){return(st.ScrollTrigger||lt(\"scrollTrigger\",e))&&st.ScrollTrigger.create(e,t)},Xt=function(t,e,i,n){return Ge(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&c!==ke.frame?(pt.push(t),t._lazy=[e,n],1):void 0:1},Jt=function(t,e,i,n){var r=t._repeat,s=St(e)||0,o=t._tTime/t._tDur;return o&&!n&&(t._time*=s/t._dur),t._dur=s,t._tDur=r?r<0?1e10:St(s*(r+1)+t._rDelay*r):s,o&&!n?Vt(t,t._tTime=t._tDur*o):t.parent&&Wt(t),i||jt(t.parent,t),t},Kt=function(t){return t instanceof qe?jt(t):Jt(t,t._dur)},Qt={_start:0,endTime:ct},Zt=function t(e,i){var n,r,s=e.labels,o=e._recent||Qt,a=e.duration()>=D?o.endTime(!1):e._dur;return q(i)&&(isNaN(i)||i in s)?\"<\"===(n=i.charAt(0))||\">\"===n?(\"<\"===n?o._start:o.endTime(o._repeat>=0))+(parseFloat(i.substr(1))||0):(n=i.indexOf(\"=\"))<0?(i in s||(s[i]=a),s[i]):(r=+(i.charAt(n-1)+i.substr(n+1)),n>1?t(e,i.substr(0,n-1))+r:a+r):null==i?a:+i},te=function(t,e){return t||0===t?e(t):e},ee=function(t,e,i){return i<t?t:i>e?e:i},ie=function(t){if(\"string\"!=typeof t)return\"\";var e=rt.exec(t);return e?t.substr(e.index+e[0].length):\"\"},ne=[].slice,re=function(t,e){return t&&U(t)&&\"length\"in t&&(!e&&!t.length||t.length-1 in t&&U(t[0]))&&!t.nodeType&&t!==a},se=function(t,e,i){return void 0===i&&(i=[]),t.forEach((function(t){var n;return q(t)&&!e||re(t,1)?(n=i).push.apply(n,oe(t)):i.push(t)}))||i},oe=function(t,e){return!q(t)||e||!l&&Te()?K(t)?se(t,e):re(t)?ne.call(t,0):t?[t]:[]:ne.call(u.querySelectorAll(t),0)},ae=function(t){return t.sort((function(){return.5-Math.random()}))},le=function(t){if(z(t))return t;var e=U(t)?t:{each:t},i=De(e.ease),n=e.from||0,r=parseFloat(e.base)||0,s={},o=n>0&&n<1,a=isNaN(n)||o,l=e.axis,u=n,d=n;return q(n)?u=d={center:.5,edges:.5,end:1}[n]||0:!o&&a&&(u=n[0],d=n[1]),function(t,o,c){var h,p,m,f,g,v,y,b,w,x=(c||e).length,_=s[x];if(!_){if(!(w=\"auto\"===e.grid?0:(e.grid||[1,D])[1])){for(y=-D;y<(y=c[w++].getBoundingClientRect().left)&&w<x;);w--}for(_=s[x]=[],h=a?Math.min(w,x)*u-.5:n%w,p=a?x*d/w-.5:n/w|0,y=0,b=D,v=0;v<x;v++)m=v%w-h,f=p-(v/w|0),_[v]=g=l?Math.abs(\"y\"===l?f:m):j(m*m+f*f),g>y&&(y=g),g<b&&(b=g);\"random\"===n&&ae(_),_.max=y-b,_.min=b,_.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(w>x?x-1:l?\"y\"===l?x/w:w:Math.max(w,x/w))||0)*(\"edges\"===n?-1:1),_.b=x<0?r-x:r,_.u=ie(e.amount||e.each)||0,i=i&&x<0?Pe(i):i}return x=(_[t]-_.min)/_.max||0,St(_.b+(i?i(x):x)*_.v)+_.u}},ue=function(t){var e=t<1?Math.pow(10,(t+\"\").length-2):1;return function(i){var n=Math.round(parseFloat(i)/t)*t*e;return(n-n%1)/e+(W(i)?0:ie(i))}},de=function(t,e){var i,n,r=K(t);return!r&&U(t)&&(i=r=t.radius||D,t.values?(t=oe(t.values),(n=!W(t[0]))&&(i*=i)):t=ue(t.increment)),te(e,r?z(t)?function(e){return n=t(e),Math.abs(n-e)<=i?n:e}:function(e){for(var r,s,o=parseFloat(n?e.x:e),a=parseFloat(n?e.y:0),l=D,u=0,d=t.length;d--;)(r=n?(r=t[d].x-o)*r+(s=t[d].y-a)*s:Math.abs(t[d]-o))<l&&(l=r,u=d);return u=!i||l<=i?t[u]:e,n||u===e||W(e)?u:u+ie(e)}:ue(t))},ce=function(t,e,i,n){return te(K(t)?!e:!0===i?!!(i=0):!n,(function(){return K(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+\"\").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*n)/n}))},he=function(t,e,i){return te(i,(function(i){return t[~~e(i)]}))},pe=function(t){for(var e,i,n,r,s=0,o=\"\";~(e=t.indexOf(\"random(\",s));)n=t.indexOf(\")\",e),r=\"[\"===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(r?nt:Q),o+=t.substr(s,e-s)+ce(r?i:+i[0],r?0:+i[1],+i[2]||1e-5),s=n+1;return o+t.substr(s,t.length-s)},me=function(t,e,i,n,r){var s=e-t,o=n-i;return te(r,(function(e){return i+((e-t)/s*o||0)}))},fe=function(t,e,i){var n,r,s,o=t.labels,a=D;for(n in o)(r=o[n]-e)<0==!!i&&r&&a>(r=Math.abs(r))&&(s=n,a=r);return s},ge=function(t,e,i){var n,r,s=t.vars,o=s[e];if(o)return n=s[e+\"Params\"],r=s.callbackScope||t,i&&pt.length&&kt(),n?o.apply(r,n):o.call(r)},ve=function(t){return Nt(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&ge(t,\"onInterrupt\"),t},ye=function(t){var e=(t=!t.name&&t.default||t).name,i=z(t),n=e&&!i&&t.init?function(){this._props=[]}:t,r={init:ct,render:oi,add:Ve,kill:li,modifier:ai,rawVars:0},s={targetTest:0,get:0,getSetter:ii,aliases:{},register:0};if(Te(),t!==n){if(ft[e])return;Bt(n,Bt(Dt(t,r),s)),Pt(n.prototype,Pt(r,Dt(t,s))),ft[n.prop=e]=n,t.targetTest&&(yt.push(n),ht[e]=1),e=(\"css\"===e?\"CSS\":e.charAt(0).toUpperCase()+e.substr(1))+\"Plugin\"}dt(e,n),t.register&&t.register(fi,n,ci)},be={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},we=function(t,e,i){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},xe=function(t,e,i){var n,r,s,o,a,l,u,d,c,h,p=t?W(t)?[t>>16,t>>8&255,255&t]:0:be.black;if(!p){if(\",\"===t.substr(-1)&&(t=t.substr(0,t.length-1)),be[t])p=be[t];else if(\"#\"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),r=t.charAt(2),s=t.charAt(3),t=\"#\"+n+n+r+r+s+s+(5===t.length?t.charAt(4)+t.charAt(4):\"\")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&255,255&p,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]}else if(\"hsl\"===t.substr(0,3))if(p=h=t.match(Q),e){if(~t.indexOf(\"=\"))return p=t.match(Z),i&&p.length<4&&(p[3]=1),p}else o=+p[0]%360/360,a=+p[1]/100,n=2*(l=+p[2]/100)-(r=l<=.5?l*(a+1):l+a-l*a),p.length>3&&(p[3]*=1),p[0]=we(o+1/3,n,r),p[1]=we(o,n,r),p[2]=we(o-1/3,n,r);else p=t.match(Q)||be.transparent;p=p.map(Number)}return e&&!h&&(n=p[0]/255,r=p[1]/255,s=p[2]/255,l=((u=Math.max(n,r,s))+(d=Math.min(n,r,s)))/2,u===d?o=a=0:(c=u-d,a=l>.5?c/(2-u-d):c/(u+d),o=u===n?(r-s)/c+(r<s?6:0):u===r?(s-n)/c+2:(n-r)/c+4,o*=60),p[0]=~~(o+.5),p[1]=~~(100*a+.5),p[2]=~~(100*l+.5)),i&&p.length<4&&(p[3]=1),p},_e=function(t){var e=[],i=[],n=-1;return t.split(Se).forEach((function(t){var r=t.match(tt)||[];e.push.apply(e,r),i.push(n+=r.length+1)})),e.c=i,e},Ce=function(t,e,i){var n,r,s,o,a=\"\",l=(t+a).match(Se),u=e?\"hsla(\":\"rgba(\",d=0;if(!l)return t;if(l=l.map((function(t){return(t=xe(t,e,1))&&u+(e?t[0]+\",\"+t[1]+\"%,\"+t[2]+\"%,\"+t[3]:t.join(\",\"))+\")\"})),i&&(s=_e(t),(n=i.c).join(a)!==s.c.join(a)))for(o=(r=t.replace(Se,\"1\").split(tt)).length-1;d<o;d++)a+=r[d]+(~n.indexOf(d)?l.shift()||u+\"0,0,0,0)\":(s.length?s:l.length?l:i).shift());if(!r)for(o=(r=t.split(Se)).length-1;d<o;d++)a+=r[d]+l[d];return a+r[o]},Se=function(){var t,e=\"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3,4}){1,2}\\\\b\";for(t in be)e+=\"|\"+t+\"\\\\b\";return new RegExp(e+\")\",\"gi\")}(),Le=/hsl[a]?\\(/,Ee=function(t){var e,i=t.join(\" \");if(Se.lastIndex=0,Se.test(i))return e=Le.test(i),t[1]=Ce(t[1],e),t[0]=Ce(t[0],e,_e(t[1])),!0},ke=(w=Date.now,x=500,_=33,C=w(),S=C,E=L=1e3/240,T=function t(e){var i,n,r,s,o=w()-S,a=!0===e;if(o>x&&(C+=o-_),((i=(r=(S+=o)-C)-E)>0||a)&&(s=++v.frame,y=r-1e3*v.time,v.time=r/=1e3,E+=i+(i>=L?4:L-i),n=1),a||(m=f(t)),n)for(b=0;b<k.length;b++)k[b](r,y,s,e)},v={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(t){return y/(1e3/(t||60))},wake:function(){d&&(!l&&Y()&&(a=l=window,u=a.document||{},st.gsap=fi,(a.gsapVersions||(a.gsapVersions=[])).push(fi.version),at(ot||a.GreenSockGlobals||!a.gsap&&a||{}),g=a.requestAnimationFrame),m&&v.sleep(),f=g||function(t){return setTimeout(t,E-1e3*v.time+1|0)},p=1,T(2))},sleep:function(){(g?a.cancelAnimationFrame:clearTimeout)(m),p=0,f=ct},lagSmoothing:function(t,e){x=t||1/1e-8,_=Math.min(e,x,0)},fps:function(t){L=1e3/(t||240),E=1e3*v.time+L},add:function(t){k.indexOf(t)<0&&k.push(t),Te()},remove:function(t){var e;~(e=k.indexOf(t))&&k.splice(e,1)&&b>=e&&b--},_listeners:k=[]}),Te=function(){return!p&&ke.wake()},Ie={},Me=/^[\\d.\\-M][\\d.\\-,\\s]/,Be=/[\"']/g,Ae=function(t){for(var e,i,n,r={},s=t.substr(1,t.length-3).split(\":\"),o=s[0],a=1,l=s.length;a<l;a++)i=s[a],e=a!==l-1?i.lastIndexOf(\",\"):i.length,n=i.substr(0,e),r[o]=isNaN(n)?n.replace(Be,\"\").trim():+n,o=i.substr(e+1).trim();return r},Pe=function(t){return function(e){return 1-t(1-e)}},Oe=function t(e,i){for(var n,r=e._first;r;)r instanceof qe?t(r,i):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===i||(r.timeline?t(r.timeline,i):(n=r._ease,r._ease=r._yEase,r._yEase=n,r._yoyo=i)),r=r._next},De=function(t,e){return t&&(z(t)?t:Ie[t]||function(t){var e,i,n,r,s=(t+\"\").split(\"(\"),o=Ie[s[0]];return o&&s.length>1&&o.config?o.config.apply(null,~t.indexOf(\"{\")?[Ae(s[1])]:(e=t,i=e.indexOf(\"(\")+1,n=e.indexOf(\")\"),r=e.indexOf(\"(\",i),e.substring(i,~r&&r<n?e.indexOf(\")\",n+1):n)).split(\",\").map(It)):Ie._CE&&Me.test(t)?Ie._CE(\"\",t):o}(t))||e},Re=function(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,s={easeIn:e,easeOut:i,easeInOut:n};return Ct(t,(function(t){for(var e in Ie[t]=st[t]=s,Ie[r=t.toLowerCase()]=i,s)Ie[r+(\"easeIn\"===e?\".in\":\"easeOut\"===e?\".out\":\".inOut\")]=Ie[t+\".\"+e]=s[e]})),s},$e=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Ne=function t(e,i,n){var r=i>=1?i:1,s=(n||(e?.3:.45))/(i<1?i:1),o=s/R*(Math.asin(1/r)||0),a=function(t){return 1===t?1:r*Math.pow(2,-10*t)*H((t-o)*s)+1},l=\"out\"===e?a:\"in\"===e?function(t){return 1-a(1-t)}:$e(a);return s=R/s,l.config=function(i,n){return t(e,i,n)},l},je=function t(e,i){void 0===i&&(i=1.70158);var n=function(t){return t?--t*t*((i+1)*t+i)+1:0},r=\"out\"===e?n:\"in\"===e?function(t){return 1-n(1-t)}:$e(n);return r.config=function(i){return t(e,i)},r};Ct(\"Linear,Quad,Cubic,Quart,Quint,Strong\",(function(t,e){var i=e<5?e+1:e;Re(t+\",Power\"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},(function(t){return 1-Math.pow(1-t,i)}),(function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2}))})),Ie.Linear.easeNone=Ie.none=Ie.Linear.easeIn,Re(\"Elastic\",Ne(\"in\"),Ne(\"out\"),Ne()),I=7.5625,B=1/(M=2.75),Re(\"Bounce\",(function(t){return 1-A(1-t)}),A=function(t){return t<B?I*t*t:t<.7272727272727273?I*Math.pow(t-1.5/M,2)+.75:t<.9090909090909092?I*(t-=2.25/M)*t+.9375:I*Math.pow(t-2.625/M,2)+.984375}),Re(\"Expo\",(function(t){return t?Math.pow(2,10*(t-1)):0})),Re(\"Circ\",(function(t){return-(j(1-t*t)-1)})),Re(\"Sine\",(function(t){return 1===t?1:1-F(t*$)})),Re(\"Back\",je(\"in\"),je(\"out\"),je()),Ie.SteppedEase=Ie.steps=st.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,n=t+(e?0:1),r=e?1:0;return function(t){return((n*ee(0,1-1e-8,t)|0)+r)*i}}},O.ease=Ie[\"quad.out\"],Ct(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\",(function(t){return bt+=t+\",\"+t+\"Params,\"}));var Fe=function(t,e){this.id=N++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:_t,this.set=e?e.getSetter:ii},He=function(){function t(t,e){var i=t.parent||o;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Jt(this,+t.duration,1,1),this.data=t.data,p||ke.wake(),i&&Gt(i,this,e||0===e?e:i._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Jt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Te(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Vt(this,t),!i._dp||i.parent||Ut(i,this);i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Gt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&1e-8===Math.abs(this._zTime)||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Tt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Ht(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Ht(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?qt(this._tTime,i)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?zt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,Ft(this.totalTime(ee(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Te(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8)&&1e-8!==Math.abs(this._zTime)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Gt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(G(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?zt(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(e._ts||1),e=e._dp;return i},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Kt(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,Kt(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Zt(this,t),G(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,G(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-1e-8))},e.eventCallback=function(t,e,i){var n=this.vars;return arguments.length>1?(e?(n[t]=e,i&&(n[t+\"Params\"]=i),\"onUpdate\"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(i){var n=z(t)?t:Mt,r=function(){var t=e.then;e.then=null,z(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),i(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r}))},e.kill=function(){ve(this)},t}();Bt(He.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var qe=function(t){function e(e,i){var r;return void 0===e&&(e={}),(r=t.call(this,e,i)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=G(e.sortChildren),r.parent&&Ut(r.parent,n(r)),e.scrollTrigger&&Yt(n(r),e.scrollTrigger),r}r(e,t);var i=e.prototype;return i.to=function(t,e,i){return new Ke(t,Et(arguments,0,this),Zt(this,W(e)?arguments[3]:i)),this},i.from=function(t,e,i){return new Ke(t,Et(arguments,1,this),Zt(this,W(e)?arguments[3]:i)),this},i.fromTo=function(t,e,i,n){return new Ke(t,Et(arguments,2,this),Zt(this,W(e)?arguments[4]:n)),this},i.set=function(t,e,i){return e.duration=0,e.parent=this,Rt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Ke(t,e,Zt(this,i),1),this},i.call=function(t,e,i){return Gt(this,Ke.delayedCall(0,t,e),Zt(this,i))},i.staggerTo=function(t,e,i,n,r,s,o){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=s,i.onCompleteParams=o,i.parent=this,new Ke(t,i,Zt(this,r)),this},i.staggerFrom=function(t,e,i,n,r,s,o){return i.runBackwards=1,Rt(i).immediateRender=G(i.immediateRender),this.staggerTo(t,e,i,n,r,s,o)},i.staggerFromTo=function(t,e,i,n,r,s,o,a){return n.startAt=i,Rt(n).immediateRender=G(n.immediateRender),this.staggerTo(t,e,n,r,s,o,a)},i.render=function(t,e,i){var n,r,s,a,l,u,d,c,h,p,m,f,g=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,b=this!==o&&t>v-1e-8&&t>=0?v:t<1e-8?0:t,w=this._zTime<0!=t<0&&(this._initted||!y);if(b!==this._tTime||i||w){if(g!==this._time&&y&&(b+=this._time-g,t+=this._time-g),n=b,h=this._start,u=!(c=this._ts),w&&(y||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(m=this._yoyo,l=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*l+t,e,i);if(n=St(b%l),b===v?(a=this._repeat,n=y):((a=~~(b/l))&&a===b/l&&(n=y,a--),n>y&&(n=y)),p=qt(this._tTime,l),!g&&this._tTime&&p!==a&&(p=a),m&&1&a&&(n=y-n,f=1),a!==p&&!this._lock){var x=m&&1&p,_=x===(m&&1&a);if(a<p&&(x=!x),g=x?0:y,this._lock=1,this.render(g||(f?0:St(a*l)),e,!y)._lock=0,!e&&this.parent&&ge(this,\"onRepeat\"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),g&&g!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,v=this._tDur,_&&(this._lock=2,g=x?y:-1e-4,this.render(g,!0)),this._lock=0,!this._ts&&!u)return this;Oe(this,f)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(d=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if(!n._dur&&\"isPause\"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if(!n._dur&&\"isPause\"===n.data&&n._start<e)return n;n=n._prev}}(this,St(g),St(n)))&&(b-=n-(n=d._start)),this._tTime=b,this._time=n,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&n&&!e&&ge(this,\"onStart\"),n>=g&&t>=0)for(r=this._first;r;){if(s=r._next,(r._act||n>=r._start)&&r._ts&&d!==r){if(r.parent!==this)return this.render(t,e,i);if(r.render(r._ts>0?(n-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(n-r._start)*r._ts,e,i),n!==this._time||!this._ts&&!u){d=0,s&&(b+=this._zTime=-1e-8);break}}r=s}else{r=this._last;for(var C=t<0?t:n;r;){if(s=r._prev,(r._act||C<=r._end)&&r._ts&&d!==r){if(r.parent!==this)return this.render(t,e,i);if(r.render(r._ts>0?(C-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(C-r._start)*r._ts,e,i),n!==this._time||!this._ts&&!u){d=0,s&&(b+=this._zTime=C?-1e-8:1e-8);break}}r=s}}if(d&&!e&&(this.pause(),d.render(n>=g?0:-1e-8)._zTime=n>=g?1:-1,this._ts))return this._start=h,Wt(this),this.render(t,e,i);this._onUpdate&&!e&&ge(this,\"onUpdate\",!0),(b===v&&v>=this.totalDuration()||!b&&g)&&(h!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((t||!y)&&(b===v&&this._ts>0||!b&&this._ts<0)&&Nt(this,1),e||t<0&&!g||!b&&!g||(ge(this,b===v?\"onComplete\":\"onReverseComplete\",!0),this._prom&&!(b<v&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(t,e){var i=this;if(W(e)||(e=Zt(this,e)),!(t instanceof He)){if(K(t))return t.forEach((function(t){return i.add(t,e)})),this;if(q(t))return this.addLabel(t,e);if(!z(t))return this;t=Ke.delayedCall(0,t)}return this!==t?Gt(this,t,e):this},i.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-D);for(var r=[],s=this._first;s;)s._start>=n&&(s instanceof Ke?e&&r.push(s):(i&&r.push(s),t&&r.push.apply(r,s.getChildren(!0,e,i)))),s=s._next;return r},i.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},i.remove=function(t){return q(t)?this.removeLabel(t):z(t)?this.killTweensOf(t):($t(this,t),t===this._recent&&(this._recent=this._last),jt(this))},i.totalTime=function(e,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=St(ke.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},i.addLabel=function(t,e){return this.labels[t]=Zt(this,e),this},i.removeLabel=function(t){return delete this.labels[t],this},i.addPause=function(t,e,i){var n=Ke.delayedCall(0,e||ct,i);return n.data=\"isPause\",this._hasPause=1,Gt(this,n,Zt(this,t))},i.removePause=function(t){var e=this._first;for(t=Zt(this,t);e;)e._start===t&&\"isPause\"===e.data&&Nt(e),e=e._next},i.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),r=n.length;r--;)ze!==n[r]&&n[r].kill(t,e);return this},i.getTweensOf=function(t,e){for(var i,n=[],r=oe(t),s=this._first,o=W(e);s;)s instanceof Ke?Lt(s._targets,r)&&(o?(!ze||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&n.push(s):(i=s.getTweensOf(r,e)).length&&n.push.apply(n,i),s=s._next;return n},i.tweenTo=function(t,e){e=e||{};var i=this,n=Zt(i,t),r=e,s=r.startAt,o=r.onStart,a=r.onStartParams,l=r.immediateRender,u=Ke.to(i,Bt({ease:e.ease||\"none\",lazy:!1,immediateRender:!1,time:n,overwrite:\"auto\",duration:e.duration||Math.abs((n-(s&&\"time\"in s?s.time:i._time))/i.timeScale())||1e-8,onStart:function(){i.pause();var t=e.duration||Math.abs((n-i._time)/i.timeScale());u._dur!==t&&Jt(u,t,0,1).render(u._time,!0,!0),o&&o.apply(u,a||[])}},e));return l?u.render(0):u},i.tweenFromTo=function(t,e,i){return this.tweenTo(e,Bt({startAt:{time:Zt(this,t)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(t){return void 0===t&&(t=this._time),fe(this,Zt(this,t))},i.previousLabel=function(t){return void 0===t&&(t=this._time),fe(this,Zt(this,t),1)},i.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+1e-8)},i.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,r=this._first,s=this.labels;r;)r._start>=i&&(r._start+=t,r._end+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return jt(this)},i.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},i.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),jt(this)},i.totalDuration=function(t){var e,i,n,r=0,s=this,a=s._last,l=D;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(n=s.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(i=a._start)>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,Gt(s,a,i-a._delay,1)._lock=0):l=i,i<0&&a._ts&&(r-=i,(!n&&!s._dp||n&&n.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-Infinity),l=0),a._end>r&&a._ts&&(r=a._end),a=e;Jt(s,s===o&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(t){if(o._ts&&(Tt(o,zt(t,o)),c=ke.frame),ke.frame>=vt){vt+=P.autoSleep||120;var e=o._first;if((!e||!e._ts)&&P.autoSleep&&ke._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||ke.sleep()}}},e}(He);Bt(qe.prototype,{_lock:0,_hasPause:0,_forcing:0});var ze,We=function(t,e,i,n,r,s,o){var a,l,u,d,c,h,p,m,f=new ci(this._pt,t,e,0,1,si,null,r),g=0,v=0;for(f.b=i,f.e=n,i+=\"\",(p=~(n+=\"\").indexOf(\"random(\"))&&(n=pe(n)),s&&(s(m=[i,n],t,e),i=m[0],n=m[1]),l=i.match(et)||[];a=et.exec(n);)d=a[0],c=n.substring(g,a.index),u?u=(u+1)%5:\"rgba(\"===c.substr(-5)&&(u=1),d!==l[v++]&&(h=parseFloat(l[v-1])||0,f._pt={_next:f._pt,p:c||1===v?c:\",\",s:h,c:\"=\"===d.charAt(1)?parseFloat(d.substr(2))*(\"-\"===d.charAt(0)?-1:1):parseFloat(d)-h,m:u&&u<4?Math.round:0},g=et.lastIndex);return f.c=g<n.length?n.substring(g,n.length):\"\",f.fp=o,(it.test(n)||p)&&(f.e=0),this._pt=f,f},Ve=function(t,e,i,n,r,s,o,a,l){z(n)&&(n=n(r||0,t,s));var u,d=t[e],c=\"get\"!==i?i:z(d)?l?t[e.indexOf(\"set\")||!z(t[\"get\"+e.substr(3)])?e:\"get\"+e.substr(3)](l):t[e]():d,h=z(d)?l?ti:Ze:Qe;if(q(n)&&(~n.indexOf(\"random(\")&&(n=pe(n)),\"=\"===n.charAt(1)&&(n=parseFloat(c)+parseFloat(n.substr(2))*(\"-\"===n.charAt(0)?-1:1)+(ie(c)||0))),c!==n)return isNaN(c*n)?(!d&&!(e in t)&&lt(e,n),We.call(this,t,e,c,n,h,a||P.stringFilter,l)):(u=new ci(this._pt,t,e,+c||0,n-(c||0),\"boolean\"==typeof d?ri:ni,0,h),l&&(u.fp=l),o&&u.modifier(o,this,t),this._pt=u)},Ue=function(t,e,i,n,r,s){var o,a,l,u;if(ft[t]&&!1!==(o=new ft[t]).init(r,o.rawVars?e[t]:function(t,e,i,n,r){if(z(t)&&(t=Ye(t,r,e,i,n)),!U(t)||t.style&&t.nodeType||K(t)||J(t))return q(t)?Ye(t,r,e,i,n):t;var s,o={};for(s in t)o[s]=Ye(t[s],r,e,i,n);return o}(e[t],n,r,s,i),i,n,s)&&(i._pt=a=new ci(i._pt,r,t,0,1,o.render,o,0,o.priority),i!==h))for(l=i._ptLookup[i._targets.indexOf(r)],u=o._props.length;u--;)l[o._props[u]]=a;return o},Ge=function t(e,i){var n,r,a,l,u,d,c,h,p,m,f,g,v,y=e.vars,b=y.ease,w=y.startAt,x=y.immediateRender,_=y.lazy,C=y.onUpdate,S=y.onUpdateParams,L=y.callbackScope,E=y.runBackwards,k=y.yoyoEase,T=y.keyframes,I=y.autoRevert,M=e._dur,B=e._startAt,A=e._targets,P=e.parent,D=P&&\"nested\"===P.data?P.parent._targets:A,R=\"auto\"===e._overwrite&&!s,$=e.timeline;if($&&(!T||!b)&&(b=\"none\"),e._ease=De(b,O.ease),e._yEase=k?Pe(De(!0===k?b:k,O.ease)):0,k&&e._yoyo&&!e._repeat&&(k=e._yEase,e._yEase=e._ease,e._ease=k),!$){if(g=(h=A[0]?xt(A[0]).harness:0)&&y[h.prop],n=Dt(y,ht),B&&B.render(-1,!0).kill(),w)if(Nt(e._startAt=Ke.set(A,Bt({data:\"isStart\",overwrite:!1,parent:P,immediateRender:!0,lazy:G(_),startAt:null,delay:0,onUpdate:C,onUpdateParams:S,callbackScope:L,stagger:0},w))),x){if(i>0)I||(e._startAt=0);else if(M&&!(i<0&&B))return void(i&&(e._zTime=i))}else!1===I&&(e._startAt=0);else if(E&&M)if(B)!I&&(e._startAt=0);else if(i&&(x=!1),a=Bt({overwrite:!1,data:\"isFromStart\",lazy:x&&G(_),immediateRender:x,stagger:0,parent:P},n),g&&(a[h.prop]=g),Nt(e._startAt=Ke.set(A,a)),x){if(!i)return}else t(e._startAt,1e-8);for(e._pt=0,_=M&&G(_)||_&&!M,r=0;r<A.length;r++){if(c=(u=A[r])._gsap||wt(A)[r]._gsap,e._ptLookup[r]=m={},mt[c.id]&&pt.length&&kt(),f=D===A?r:D.indexOf(u),h&&!1!==(p=new h).init(u,g||n,e,f,D)&&(e._pt=l=new ci(e._pt,u,p.name,0,1,p.render,p,0,p.priority),p._props.forEach((function(t){m[t]=l})),p.priority&&(d=1)),!h||g)for(a in n)ft[a]&&(p=Ue(a,n,e,f,u,D))?p.priority&&(d=1):m[a]=l=Ve.call(e,u,a,\"get\",n[a],f,D,0,y.stringFilter);e._op&&e._op[r]&&e.kill(u,e._op[r]),R&&e._pt&&(ze=e,o.killTweensOf(u,m,e.globalTime(0)),v=!e.parent,ze=0),e._pt&&_&&(mt[c.id]=1)}d&&di(e),e._onInit&&e._onInit(e)}e._from=!$&&!!y.runBackwards,e._onUpdate=C,e._initted=(!e._op||e._pt)&&!v},Ye=function(t,e,i,n,r){return z(t)?t.call(e,i,n,r):q(t)&&~t.indexOf(\"random(\")?pe(t):t},Xe=bt+\"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",Je=(Xe+\",id,stagger,delay,duration,paused,scrollTrigger\").split(\",\"),Ke=function(t){function e(e,i,r,a){var l;\"number\"==typeof i&&(r.duration=i,i=r,r=null);var u,d,c,h,p,m,f,g,v=(l=t.call(this,a?i:Rt(i),r)||this).vars,y=v.duration,b=v.delay,w=v.immediateRender,x=v.stagger,_=v.overwrite,C=v.keyframes,S=v.defaults,L=v.scrollTrigger,E=v.yoyoEase,k=l.parent,T=(K(e)||J(e)?W(e[0]):\"length\"in i)?[e]:oe(e);if(l._targets=T.length?wt(T):ut(\"GSAP target \"+e+\" not found. https://greensock.com\",!P.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=_,C||x||X(y)||X(b)){if(i=l.vars,(u=l.timeline=new qe({data:\"nested\",defaults:S||{}})).kill(),u.parent=u._dp=n(l),u._start=0,C)Bt(u.vars.defaults,{ease:\"none\"}),C.forEach((function(t){return u.to(T,t,\">\")}));else{if(h=T.length,f=x?le(x):ct,U(x))for(p in x)~Xe.indexOf(p)&&(g||(g={}),g[p]=x[p]);for(d=0;d<h;d++){for(p in c={},i)Je.indexOf(p)<0&&(c[p]=i[p]);c.stagger=0,E&&(c.yoyoEase=E),g&&Pt(c,g),m=T[d],c.duration=+Ye(y,n(l),d,m,T),c.delay=(+Ye(b,n(l),d,m,T)||0)-l._delay,!x&&1===h&&c.delay&&(l._delay=b=c.delay,l._start+=b,c.delay=0),u.to(m,c,f(d,m,T))}u.duration()?y=b=0:l.timeline=0}y||l.duration(y=u.duration())}else l.timeline=0;return!0!==_||s||(ze=n(l),o.killTweensOf(T),ze=0),k&&Ut(k,n(l)),(w||!y&&!C&&l._start===St(k._time)&&G(w)&&function t(e){return!e||e._ts&&t(e.parent)}(n(l))&&\"nested\"!==k.data)&&(l._tTime=-1e-8,l.render(Math.max(0,-b))),L&&Yt(n(l),L),l}r(e,t);var i=e.prototype;return i.render=function(t,e,i){var n,r,s,o,a,l,u,d,c,h=this._time,p=this._tDur,m=this._dur,f=t>p-1e-8&&t>=0?p:t<1e-8?0:t;if(m){if(f!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(n=f,d=this.timeline,this._repeat){if(o=m+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,i);if(n=St(f%o),f===p?(s=this._repeat,n=m):((s=~~(f/o))&&s===f/o&&(n=m,s--),n>m&&(n=m)),(l=this._yoyo&&1&s)&&(c=this._yEase,n=m-n),a=qt(this._tTime,o),n===h&&!i&&this._initted)return this;s!==a&&(d&&this._yEase&&Oe(d,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=i=1,this.render(St(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(Xt(this,t<0?t:n,i,e))return this._tTime=0,this;if(m!==this._dur)return this.render(t,e,i)}for(this._tTime=f,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(c||this._ease)(n/m),this._from&&(this.ratio=u=1-u),n&&!h&&!e&&ge(this,\"onStart\"),r=this._pt;r;)r.r(u,r.d),r=r._next;d&&d.render(t<0?t:!n&&l?-1e-8:d._dur*u,e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,i),ge(this,\"onUpdate\")),this._repeat&&s!==a&&this.vars.onRepeat&&!e&&this.parent&&ge(this,\"onRepeat\"),f!==this._tDur&&f||this._tTime!==f||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!m)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Nt(this,1),e||t<0&&!h||!f&&!h||(ge(this,f===p?\"onComplete\":\"onReverseComplete\",!0),this._prom&&!(f<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,n){var r,s,o,a=t.ratio,l=e<0||!e&&(!t._start&&function t(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||t(i))}(t)||(t._ts<0||t._dp._ts<0)&&\"isFromStart\"!==t.data&&\"isStart\"!==t.data)?0:1,u=t._rDelay,d=0;if(u&&t._repeat&&(d=ee(0,t._tDur,e),s=qt(d,u),o=qt(t._tTime,u),t._yoyo&&1&s&&(l=1-l),s!==o&&(a=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==a||n||1e-8===t._zTime||!e&&t._zTime){if(!t._initted&&Xt(t,e,n,i))return;for(o=t._zTime,t._zTime=e||(i?1e-8:0),i||(i=e&&!o),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=d,r=t._pt;r;)r.r(l,r.d),r=r._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&ge(t,\"onUpdate\"),d&&t._repeat&&!i&&t.parent&&ge(t,\"onRepeat\"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&Nt(t,1),i||(ge(t,l?\"onComplete\":\"onReverseComplete\",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},i.targets=function(){return this._targets},i.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},i.kill=function(t,e){if(void 0===e&&(e=\"all\"),!(t||e&&\"all\"!==e))return this._lazy=this._pt=0,this.parent?ve(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ze&&!0!==ze.vars.overwrite)._first||ve(this),this.parent&&i!==this.timeline.totalDuration()&&Jt(this,this._dur*this.timeline._tDur/i,0,1),this}var n,r,s,o,a,l,u,d=this._targets,c=t?oe(t):d,h=this._ptLookup,p=this._pt;if((!e||\"all\"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(d,c))return\"all\"===e&&(this._pt=0),ve(this);for(n=this._op=this._op||[],\"all\"!==e&&(q(e)&&(a={},Ct(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var i,n,r,s,o=t[0]?xt(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;for(n in i=Pt({},e),a)if(n in i)for(r=(s=a[n].split(\",\")).length;r--;)i[s[r]]=i[n];return i}(d,e)),u=d.length;u--;)if(~c.indexOf(d[u]))for(a in r=h[u],\"all\"===e?(n[u]=e,o=r,s={}):(s=n[u]=n[u]||{},o=e),o)(l=r&&r[a])&&(\"kill\"in l.d&&!0!==l.d.kill(a)||$t(this,l,\"_pt\"),delete r[a]),\"all\"!==s&&(s[a]=1);return this._initted&&!this._pt&&p&&ve(this),this},e.to=function(t,i){return new e(t,i,arguments[2])},e.from=function(t,i){return new e(t,Et(arguments,1))},e.delayedCall=function(t,i,n,r){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:i,onReverseComplete:i,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:r})},e.fromTo=function(t,i,n){return new e(t,Et(arguments,2))},e.set=function(t,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(t,i)},e.killTweensOf=function(t,e,i){return o.killTweensOf(t,e,i)},e}(He);Bt(Ke.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ct(\"staggerTo,staggerFrom,staggerFromTo\",(function(t){Ke[t]=function(){var e=new qe,i=ne.call(arguments,0);return i.splice(\"staggerFromTo\"===t?5:4,0,0),e[t].apply(e,i)}}));var Qe=function(t,e,i){return t[e]=i},Ze=function(t,e,i){return t[e](i)},ti=function(t,e,i,n){return t[e](n.fp,i)},ei=function(t,e,i){return t.setAttribute(e,i)},ii=function(t,e){return z(t[e])?Ze:V(t[e])&&t.setAttribute?ei:Qe},ni=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},ri=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},si=function(t,e){var i=e._pt,n=\"\";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},oi=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},ai=function(t,e,i,n){for(var r,s=this._pt;s;)r=s._next,s.p===n&&s.modifier(t,e,i),s=r},li=function(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?$t(this,n,\"_pt\"):n.dep||(e=1),n=i;return!e},ui=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},di=function(t){for(var e,i,n,r,s=t._pt;s;){for(e=s._next,i=n;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:r)?s._prev._next=s:n=s,(s._next=i)?i._prev=s:r=s,s=e}t._pt=n},ci=function(){function t(t,e,i,n,r,s,o,a,l){this.t=e,this.s=n,this.c=r,this.p=i,this.r=s||ni,this.d=o||this,this.set=a||Qe,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=ui,this.m=t,this.mt=i,this.tween=e},t}();Ct(bt+\"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger\",(function(t){return ht[t]=1})),st.TweenMax=st.TweenLite=Ke,st.TimelineLite=st.TimelineMax=qe,o=new qe({sortChildren:!1,defaults:O,autoRemoveChildren:!0,id:\"root\",smoothChildTiming:!0}),P.stringFilter=Ee;var hi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach((function(t){return ye(t)}))},timeline:function(t){return new qe(t)},getTweensOf:function(t,e){return o.getTweensOf(t,e)},getProperty:function(t,e,i,n){q(t)&&(t=oe(t)[0]);var r=xt(t||{}).get,s=i?Mt:It;return\"native\"===i&&(i=\"\"),t?e?s((ft[e]&&ft[e].get||r)(t,e,i,n)):function(e,i,n){return s((ft[e]&&ft[e].get||r)(t,e,i,n))}:t},quickSetter:function(t,e,i){if((t=oe(t)).length>1){var n=t.map((function(t){return fi.quickSetter(t,e,i)})),r=n.length;return function(t){for(var e=r;e--;)n[e](t)}}t=t[0]||{};var s=ft[e],o=xt(t),a=o.harness&&(o.harness.aliases||{})[e]||e,l=s?function(e){var n=new s;h._pt=0,n.init(t,i?e+i:e,h,0,[t]),n.render(1,n),h._pt&&oi(1,h)}:o.set(t,a);return s?l:function(e){return l(t,a,i?e+i:e,o,1)}},isTweening:function(t){return o.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=De(t.ease,O.ease)),Ot(O,t||{})},config:function(t){return Ot(P,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,r=t.defaults,s=t.extendTimeline;(n||\"\").split(\",\").forEach((function(t){return t&&!ft[t]&&!st[t]&&ut(e+\" effect requires \"+t+\" plugin.\")})),gt[e]=function(t,e,n){return i(oe(t),Bt(e||{},r),n)},s&&(qe.prototype[e]=function(t,i,n){return this.add(gt[e](t,U(i)?i:(n=i)&&{},this),n)})},registerEase:function(t,e){Ie[t]=De(e)},parseEase:function(t,e){return arguments.length?De(t,e):Ie},getById:function(t){return o.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,n,r=new qe(t);for(r.smoothChildTiming=G(t.smoothChildTiming),o.remove(r),r._dp=0,r._time=r._tTime=o._time,i=o._first;i;)n=i._next,!e&&!i._dur&&i instanceof Ke&&i.vars.onComplete===i._targets[0]||Gt(r,i,i._start-i._delay),i=n;return Gt(o,r,0),r},utils:{wrap:function t(e,i,n){var r=i-e;return K(e)?he(e,t(0,e.length),i):te(n,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,i,n){var r=i-e,s=2*r;return K(e)?he(e,t(0,e.length-1),i):te(n,(function(t){return e+((t=(s+(t-e)%s)%s||0)>r?s-t:t)}))},distribute:le,random:ce,snap:de,normalize:function(t,e,i){return me(t,e,0,1,i)},getUnit:ie,clamp:function(t,e,i){return te(i,(function(i){return ee(t,e,i)}))},splitColor:xe,toArray:oe,mapRange:me,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||ie(i))}},interpolate:function t(e,i,n,r){var s=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!s){var o,a,l,u,d,c=q(e),h={};if(!0===n&&(r=1)&&(n=null),c)e={p:e},i={p:i};else if(K(e)&&!K(i)){for(l=[],u=e.length,d=u-2,a=1;a<u;a++)l.push(t(e[a-1],e[a]));u--,s=function(t){t*=u;var e=Math.min(d,~~t);return l[e](t-e)},n=i}else r||(e=Pt(K(e)?[]:{},e));if(!l){for(o in i)Ve.call(h,e,o,\"get\",i[o]);s=function(t){return oi(t,h)||(c?e.p:e)}}}return te(n,s)},shuffle:ae},install:at,effects:gt,ticker:ke,updateRoot:qe.updateRoot,plugins:ft,globalTimeline:o,core:{PropTween:ci,globals:dt,Tween:Ke,Timeline:qe,Animation:He,getCache:xt,_removeLinkedListItem:$t,suppressOverwrites:function(t){return s=t}}};Ct(\"to,from,fromTo,delayedCall,set,killTweensOf\",(function(t){return hi[t]=Ke[t]})),ke.add(qe.updateRoot),h=hi.to({},{duration:0});var pi=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},mi=function(t,e){return{name:t,rawVars:1,init:function(t,i,n){n._onInit=function(t){var n,r;if(q(i)&&(n={},Ct(i,(function(t){return n[t]=1})),i=n),e){for(r in n={},i)n[r]=e(i[r]);i=n}!function(t,e){var i,n,r,s=t._targets;for(i in e)for(n=s.length;n--;)(r=t._ptLookup[n][i])&&(r=r.d)&&(r._pt&&(r=pi(r,i)),r&&r.modifier&&r.modifier(e[i],t,s[n],i))}(t,i)}}}},fi=hi.registerPlugin({name:\"attr\",init:function(t,e,i,n,r){var s,o;for(s in e)(o=this.add(t,\"setAttribute\",(t.getAttribute(s)||0)+\"\",e[s],n,r,0,0,s))&&(o.op=s),this._props.push(s)}},{name:\"endArray\",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},mi(\"roundProps\",ue),mi(\"modifiers\"),mi(\"snap\",de))||hi;Ke.version=qe.version=fi.version=\"3.6.1\",d=1,Y()&&Te();var gi,vi,yi,bi,wi,xi,_i,Ci=Ie.Power0,Si=Ie.Power1,Li=Ie.Power2,Ei=Ie.Power3,ki=Ie.Power4,Ti=Ie.Linear,Ii=Ie.Quad,Mi=Ie.Cubic,Bi=Ie.Quart,Ai=Ie.Quint,Pi=Ie.Strong,Oi=Ie.Elastic,Di=Ie.Back,Ri=Ie.SteppedEase,$i=Ie.Bounce,Ni=Ie.Sine,ji=Ie.Expo,Fi=Ie.Circ,Hi={},qi=180/Math.PI,zi=Math.PI/180,Wi=Math.atan2,Vi=/([A-Z])/g,Ui=/(?:left|right|width|margin|padding|x)/i,Gi=/[\\s,\\(]\\S/,Yi={autoAlpha:\"opacity,visibility\",scale:\"scaleX,scaleY\",alpha:\"opacity\"},Xi=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ji=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ki=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Qi=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},Zi=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},tn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},en=function(t,e,i){return t.style[e]=i},nn=function(t,e,i){return t.style.setProperty(e,i)},rn=function(t,e,i){return t._gsap[e]=i},sn=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},on=function(t,e,i,n,r){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(r,s)},an=function(t,e,i,n,r){var s=t._gsap;s[e]=i,s.renderTransform(r,s)},ln=\"transform\",un=ln+\"Origin\",dn=function(t,e){var i=vi.createElementNS?vi.createElementNS((e||\"http://www.w3.org/1999/xhtml\").replace(/^https/,\"http\"),t):vi.createElement(t);return i.style?i:vi.createElement(t)},cn=function t(e,i,n){var r=getComputedStyle(e);return r[i]||r.getPropertyValue(i.replace(Vi,\"-$1\").toLowerCase())||r.getPropertyValue(i)||!n&&t(e,pn(i)||i,1)||\"\"},hn=\"O,Moz,ms,Ms,Webkit\".split(\",\"),pn=function(t,e,i){var n=(e||wi).style,r=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(hn[r]+t in n););return r<0?null:(3===r?\"ms\":r>=0?hn[r]:\"\")+t},mn=function(){\"undefined\"!=typeof window&&window.document&&(gi=window,vi=gi.document,yi=vi.documentElement,wi=dn(\"div\")||{style:{}},dn(\"div\"),ln=pn(ln),un=ln+\"Origin\",wi.style.cssText=\"border-width:0;line-height:0;position:absolute;padding:0\",_i=!!pn(\"perspective\"),bi=1)},fn=function t(e){var i,n=dn(\"svg\",this.ownerSVGElement&&this.ownerSVGElement.getAttribute(\"xmlns\")||\"http://www.w3.org/2000/svg\"),r=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(yi.appendChild(n),n.appendChild(this),this.style.display=\"block\",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(i=this._gsapBBox());return r&&(s?r.insertBefore(this,s):r.appendChild(this)),yi.removeChild(n),this.style.cssText=o,i},gn=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},vn=function(t){var e;try{e=t.getBBox()}catch(i){e=fn.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===fn||(e=fn.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+gn(t,[\"x\",\"cx\",\"x1\"])||0,y:+gn(t,[\"y\",\"cy\",\"y1\"])||0,width:0,height:0}},yn=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!vn(t))},bn=function(t,e){if(e){var i=t.style;e in Hi&&e!==un&&(e=ln),i.removeProperty?(\"ms\"!==e.substr(0,2)&&\"webkit\"!==e.substr(0,6)||(e=\"-\"+e),i.removeProperty(e.replace(Vi,\"-$1\").toLowerCase())):i.removeAttribute(e)}},wn=function(t,e,i,n,r,s){var o=new ci(t._pt,e,i,0,1,s?tn:Zi);return t._pt=o,o.b=n,o.e=r,t._props.push(i),o},xn={deg:1,rad:1,turn:1},_n=function t(e,i,n,r){var s,o,a,l,u=parseFloat(n)||0,d=(n+\"\").trim().substr((u+\"\").length)||\"px\",c=wi.style,h=Ui.test(i),p=\"svg\"===e.tagName.toLowerCase(),m=(p?\"client\":\"offset\")+(h?\"Width\":\"Height\"),f=\"px\"===r,g=\"%\"===r;return r===d||!u||xn[r]||xn[d]?u:(\"px\"!==d&&!f&&(u=t(e,i,n,\"px\")),l=e.getCTM&&yn(e),!g&&\"%\"!==d||!Hi[i]&&!~i.indexOf(\"adius\")?(c[h?\"width\":\"height\"]=100+(f?d:r),o=~i.indexOf(\"adius\")||\"em\"===r&&e.appendChild&&!p?e:e.parentNode,l&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==vi&&o.appendChild||(o=vi.body),(a=o._gsap)&&g&&a.width&&h&&a.time===ke.time?St(u/a.width*100):((g||\"%\"===d)&&(c.position=cn(e,\"position\")),o===e&&(c.position=\"static\"),o.appendChild(wi),s=wi[m],o.removeChild(wi),c.position=\"absolute\",h&&g&&((a=xt(o)).time=ke.time,a.width=o[m]),St(f?s*u/100:s&&u?100/s*u:0))):(s=l?e.getBBox()[h?\"width\":\"height\"]:e[m],St(g?u/s*100:u/100*s)))},Cn=function(t,e,i,n){var r;return bi||mn(),e in Yi&&\"transform\"!==e&&~(e=Yi[e]).indexOf(\",\")&&(e=e.split(\",\")[0]),Hi[e]&&\"transform\"!==e?(r=On(t,n),r=\"transformOrigin\"!==e?r[e]:Dn(cn(t,un))+\" \"+r.zOrigin+\"px\"):(!(r=t.style[e])||\"auto\"===r||n||~(r+\"\").indexOf(\"calc(\"))&&(r=kn[e]&&kn[e](t,e,i)||cn(t,e)||_t(t,e)||(\"opacity\"===e?1:0)),i&&!~(r+\"\").trim().indexOf(\" \")?_n(t,e,r,i)+i:r},Sn=function(t,e,i,n){if(!i||\"none\"===i){var r=pn(e,t,1),s=r&&cn(t,r,1);s&&s!==i?(e=r,i=s):\"borderColor\"===e&&(i=cn(t,\"borderTopColor\"))}var o,a,l,u,d,c,h,p,m,f,g,v,y=new ci(this._pt,t.style,e,0,1,si),b=0,w=0;if(y.b=i,y.e=n,i+=\"\",\"auto\"===(n+=\"\")&&(t.style[e]=n,n=cn(t,e)||n,t.style[e]=i),Ee(o=[i,n]),n=o[1],l=(i=o[0]).match(tt)||[],(n.match(tt)||[]).length){for(;a=tt.exec(n);)h=a[0],m=n.substring(b,a.index),d?d=(d+1)%5:\"rgba(\"!==m.substr(-5)&&\"hsla(\"!==m.substr(-5)||(d=1),h!==(c=l[w++]||\"\")&&(u=parseFloat(c)||0,g=c.substr((u+\"\").length),(v=\"=\"===h.charAt(1)?+(h.charAt(0)+\"1\"):0)&&(h=h.substr(2)),p=parseFloat(h),f=h.substr((p+\"\").length),b=tt.lastIndex-f.length,f||(f=f||P.units[e]||g,b===n.length&&(n+=f,y.e+=f)),g!==f&&(u=_n(t,e,c,f)||0),y._pt={_next:y._pt,p:m||1===w?m:\",\",s:u,c:v?v*p:p-u,m:d&&d<4||\"zIndex\"===e?Math.round:0});y.c=b<n.length?n.substring(b,n.length):\"\"}else y.r=\"display\"===e&&\"none\"===n?tn:Zi;return it.test(n)&&(y.e=0),this._pt=y,y},Ln={top:\"0%\",bottom:\"100%\",left:\"0%\",right:\"100%\",center:\"50%\"},En=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,r,s=e.t,o=s.style,a=e.u,l=s._gsap;if(\"all\"===a||!0===a)o.cssText=\"\",n=1;else for(r=(a=a.split(\",\")).length;--r>-1;)i=a[r],Hi[i]&&(n=1,i=\"transformOrigin\"===i?un:ln),bn(s,i);n&&(bn(s,ln),l&&(l.svg&&s.removeAttribute(\"transform\"),On(s,1),l.uncache=1))}},kn={clearProps:function(t,e,i,n,r){if(\"isFromStart\"!==r.data){var s=t._pt=new ci(t._pt,e,i,0,0,En);return s.u=n,s.pr=-10,s.tween=r,t._props.push(i),1}}},Tn=[1,0,0,1,0,0],In={},Mn=function(t){return\"matrix(1, 0, 0, 1, 0, 0)\"===t||\"none\"===t||!t},Bn=function(t){var e=cn(t,ln);return Mn(e)?Tn:e.substr(7).match(Z).map(St)},An=function(t,e){var i,n,r,s,o=t._gsap||xt(t),a=t.style,l=Bn(t);return o.svg&&t.getAttribute(\"transform\")?\"1,0,0,1,0,0\"===(l=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(\",\")?Tn:l:(l!==Tn||t.offsetParent||t===yi||o.svg||(r=a.display,a.display=\"block\",(i=t.parentNode)&&t.offsetParent||(s=1,n=t.nextSibling,yi.appendChild(t)),l=Bn(t),r?a.display=r:bn(t,\"display\"),s&&(n?i.insertBefore(t,n):i?i.appendChild(t):yi.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Pn=function(t,e,i,n,r,s){var o,a,l,u=t._gsap,d=r||An(t,!0),c=u.xOrigin||0,h=u.yOrigin||0,p=u.xOffset||0,m=u.yOffset||0,f=d[0],g=d[1],v=d[2],y=d[3],b=d[4],w=d[5],x=e.split(\" \"),_=parseFloat(x[0])||0,C=parseFloat(x[1])||0;i?d!==Tn&&(a=f*y-g*v)&&(l=_*(-g/a)+C*(f/a)-(f*w-g*b)/a,_=_*(y/a)+C*(-v/a)+(v*w-y*b)/a,C=l):(_=(o=vn(t)).x+(~x[0].indexOf(\"%\")?_/100*o.width:_),C=o.y+(~(x[1]||x[0]).indexOf(\"%\")?C/100*o.height:C)),n||!1!==n&&u.smooth?(b=_-c,w=C-h,u.xOffset=p+(b*f+w*v)-b,u.yOffset=m+(b*g+w*y)-w):u.xOffset=u.yOffset=0,u.xOrigin=_,u.yOrigin=C,u.smooth=!!n,u.origin=e,u.originIsAbsolute=!!i,t.style[un]=\"0px 0px\",s&&(wn(s,u,\"xOrigin\",c,_),wn(s,u,\"yOrigin\",h,C),wn(s,u,\"xOffset\",p,u.xOffset),wn(s,u,\"yOffset\",m,u.yOffset)),t.setAttribute(\"data-svg-origin\",_+\" \"+C)},On=function(t,e){var i=t._gsap||new Fe(t);if(\"x\"in i&&!e&&!i.uncache)return i;var n,r,s,o,a,l,u,d,c,h,p,m,f,g,v,y,b,w,x,_,C,S,L,E,k,T,I,M,B,A,O,D,R=t.style,$=i.scaleX<0,N=cn(t,un)||\"0\";return n=r=s=l=u=d=c=h=p=0,o=a=1,i.svg=!(!t.getCTM||!yn(t)),g=An(t,i.svg),i.svg&&(E=!i.uncache&&!e&&t.getAttribute(\"data-svg-origin\"),Pn(t,E||N,!!E||i.originIsAbsolute,!1!==i.smooth,g)),m=i.xOrigin||0,f=i.yOrigin||0,g!==Tn&&(w=g[0],x=g[1],_=g[2],C=g[3],n=S=g[4],r=L=g[5],6===g.length?(o=Math.sqrt(w*w+x*x),a=Math.sqrt(C*C+_*_),l=w||x?Wi(x,w)*qi:0,(c=_||C?Wi(_,C)*qi+l:0)&&(a*=Math.abs(Math.cos(c*zi))),i.svg&&(n-=m-(m*w+f*_),r-=f-(m*x+f*C))):(D=g[6],A=g[7],I=g[8],M=g[9],B=g[10],O=g[11],n=g[12],r=g[13],s=g[14],u=(v=Wi(D,B))*qi,v&&(E=S*(y=Math.cos(-v))+I*(b=Math.sin(-v)),k=L*y+M*b,T=D*y+B*b,I=S*-b+I*y,M=L*-b+M*y,B=D*-b+B*y,O=A*-b+O*y,S=E,L=k,D=T),d=(v=Wi(-_,B))*qi,v&&(y=Math.cos(-v),O=C*(b=Math.sin(-v))+O*y,w=E=w*y-I*b,x=k=x*y-M*b,_=T=_*y-B*b),l=(v=Wi(x,w))*qi,v&&(E=w*(y=Math.cos(v))+x*(b=Math.sin(v)),k=S*y+L*b,x=x*y-w*b,L=L*y-S*b,w=E,S=k),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,d=180-d),o=St(Math.sqrt(w*w+x*x+_*_)),a=St(Math.sqrt(L*L+D*D)),v=Wi(S,L),c=Math.abs(v)>2e-4?v*qi:0,p=O?1/(O<0?-O:O):0),i.svg&&(E=t.getAttribute(\"transform\"),i.forceCSS=t.setAttribute(\"transform\",\"\")||!Mn(cn(t,ln)),E&&t.setAttribute(\"transform\",E))),Math.abs(c)>90&&Math.abs(c)<270&&($?(o*=-1,c+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,c+=c<=0?180:-180)),i.x=n-((i.xPercent=n&&(i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+\"px\",i.y=r-((i.yPercent=r&&(i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+\"px\",i.z=s+\"px\",i.scaleX=St(o),i.scaleY=St(a),i.rotation=St(l)+\"deg\",i.rotationX=St(u)+\"deg\",i.rotationY=St(d)+\"deg\",i.skewX=c+\"deg\",i.skewY=h+\"deg\",i.transformPerspective=p+\"px\",(i.zOrigin=parseFloat(N.split(\" \")[2])||0)&&(R[un]=Dn(N)),i.xOffset=i.yOffset=0,i.force3D=P.force3D,i.renderTransform=i.svg?jn:_i?Nn:$n,i.uncache=0,i},Dn=function(t){return(t=t.split(\" \"))[0]+\" \"+t[1]},Rn=function(t,e,i){var n=ie(e);return St(parseFloat(e)+parseFloat(_n(t,\"x\",i+\"px\",n)))+n},$n=function(t,e){e.z=\"0px\",e.rotationY=e.rotationX=\"0deg\",e.force3D=0,Nn(t,e)},Nn=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,s=i.x,o=i.y,a=i.z,l=i.rotation,u=i.rotationY,d=i.rotationX,c=i.skewX,h=i.skewY,p=i.scaleX,m=i.scaleY,f=i.transformPerspective,g=i.force3D,v=i.target,y=i.zOrigin,b=\"\",w=\"auto\"===g&&t&&1!==t||!0===g;if(y&&(\"0deg\"!==d||\"0deg\"!==u)){var x,_=parseFloat(u)*zi,C=Math.sin(_),S=Math.cos(_);_=parseFloat(d)*zi,x=Math.cos(_),s=Rn(v,s,C*x*-y),o=Rn(v,o,-Math.sin(_)*-y),a=Rn(v,a,S*x*-y+y)}\"0px\"!==f&&(b+=\"perspective(\"+f+\") \"),(n||r)&&(b+=\"translate(\"+n+\"%, \"+r+\"%) \"),(w||\"0px\"!==s||\"0px\"!==o||\"0px\"!==a)&&(b+=\"0px\"!==a||w?\"translate3d(\"+s+\", \"+o+\", \"+a+\") \":\"translate(\"+s+\", \"+o+\") \"),\"0deg\"!==l&&(b+=\"rotate(\"+l+\") \"),\"0deg\"!==u&&(b+=\"rotateY(\"+u+\") \"),\"0deg\"!==d&&(b+=\"rotateX(\"+d+\") \"),\"0deg\"===c&&\"0deg\"===h||(b+=\"skew(\"+c+\", \"+h+\") \"),1===p&&1===m||(b+=\"scale(\"+p+\", \"+m+\") \"),v.style[ln]=b||\"translate(0, 0)\"},jn=function(t,e){var i,n,r,s,o,a=e||this,l=a.xPercent,u=a.yPercent,d=a.x,c=a.y,h=a.rotation,p=a.skewX,m=a.skewY,f=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,b=a.yOrigin,w=a.xOffset,x=a.yOffset,_=a.forceCSS,C=parseFloat(d),S=parseFloat(c);h=parseFloat(h),p=parseFloat(p),(m=parseFloat(m))&&(p+=m=parseFloat(m),h+=m),h||p?(h*=zi,p*=zi,i=Math.cos(h)*f,n=Math.sin(h)*f,r=Math.sin(h-p)*-g,s=Math.cos(h-p)*g,p&&(m*=zi,o=Math.tan(p-m),r*=o=Math.sqrt(1+o*o),s*=o,m&&(o=Math.tan(m),i*=o=Math.sqrt(1+o*o),n*=o)),i=St(i),n=St(n),r=St(r),s=St(s)):(i=f,s=g,n=r=0),(C&&!~(d+\"\").indexOf(\"px\")||S&&!~(c+\"\").indexOf(\"px\"))&&(C=_n(v,\"x\",d,\"px\"),S=_n(v,\"y\",c,\"px\")),(y||b||w||x)&&(C=St(C+y-(y*i+b*r)+w),S=St(S+b-(y*n+b*s)+x)),(l||u)&&(o=v.getBBox(),C=St(C+l/100*o.width),S=St(S+u/100*o.height)),o=\"matrix(\"+i+\",\"+n+\",\"+r+\",\"+s+\",\"+C+\",\"+S+\")\",v.setAttribute(\"transform\",o),_&&(v.style[ln]=o)},Fn=function(t,e,i,n,r,s){var o,a,l=q(r),u=parseFloat(r)*(l&&~r.indexOf(\"rad\")?qi:1),d=s?u*s:u-n,c=n+d+\"deg\";return l&&(\"short\"===(o=r.split(\"_\")[1])&&(d%=360)!==d%180&&(d+=d<0?360:-360),\"cw\"===o&&d<0?d=(d+36e9)%360-360*~~(d/360):\"ccw\"===o&&d>0&&(d=(d-36e9)%360-360*~~(d/360))),t._pt=a=new ci(t._pt,e,i,n,d,Ji),a.e=c,a.u=\"deg\",t._props.push(i),a},Hn=function(t,e){for(var i in e)t[i]=e[i];return t},qn=function(t,e,i){var n,r,s,o,a,l,u,d=Hn({},i._gsap),c=i.style;for(r in d.svg?(s=i.getAttribute(\"transform\"),i.setAttribute(\"transform\",\"\"),c[ln]=e,n=On(i,1),bn(i,ln),i.setAttribute(\"transform\",s)):(s=getComputedStyle(i)[ln],c[ln]=e,n=On(i,1),c[ln]=s),Hi)(s=d[r])!==(o=n[r])&&\"perspective,force3D,transformOrigin,svgOrigin\".indexOf(r)<0&&(a=ie(s)!==(u=ie(o))?_n(i,r,s,u):parseFloat(s),l=parseFloat(o),t._pt=new ci(t._pt,n,r,a,l-a,Xi),t._pt.u=u||0,t._props.push(r));Hn(n,d)};Ct(\"padding,margin,Width,Radius\",(function(t,e){var i=\"Top\",n=\"Right\",r=\"Bottom\",s=\"Left\",o=(e<3?[i,n,r,s]:[i+s,i+n,r+n,r+s]).map((function(i){return e<2?t+i:\"border\"+i+t}));kn[e>1?\"border\"+t:t]=function(t,e,i,n,r){var s,a;if(arguments.length<4)return s=o.map((function(e){return Cn(t,e,i)})),5===(a=s.join(\" \")).split(s[0]).length?s[0]:a;s=(n+\"\").split(\" \"),a={},o.forEach((function(t,e){return a[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,a,r)}}));var zn,Wn,Vn={name:\"css\",register:mn,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,r){var s,o,a,l,u,d,c,h,p,m,f,g,v,y,b,w,x,_,C,S=this._props,L=t.style,E=i.vars.startAt;for(c in bi||mn(),e)if(\"autoRound\"!==c&&(o=e[c],!ft[c]||!Ue(c,e,i,n,t,r)))if(u=typeof o,d=kn[c],\"function\"===u&&(u=typeof(o=o.call(i,n,t,r))),\"string\"===u&&~o.indexOf(\"random(\")&&(o=pe(o)),d)d(this,t,c,o,i)&&(b=1);else if(\"--\"===c.substr(0,2))s=(getComputedStyle(t).getPropertyValue(c)+\"\").trim(),o+=\"\",Se.lastIndex=0,Se.test(s)||(h=ie(s),p=ie(o)),p?h!==p&&(s=_n(t,c,s,p)+p):h&&(o+=h),this.add(L,\"setProperty\",s,o,n,r,0,0,c);else if(\"undefined\"!==u){if(E&&c in E?(s=\"function\"==typeof E[c]?E[c].call(i,n,t,r):E[c],c in P.units&&!ie(s)&&(s+=P.units[c]),\"=\"===(s+\"\").charAt(1)&&(s=Cn(t,c))):s=Cn(t,c),l=parseFloat(s),(m=\"string\"===u&&\"=\"===o.charAt(1)?+(o.charAt(0)+\"1\"):0)&&(o=o.substr(2)),a=parseFloat(o),c in Yi&&(\"autoAlpha\"===c&&(1===l&&\"hidden\"===Cn(t,\"visibility\")&&a&&(l=0),wn(this,L,\"visibility\",l?\"inherit\":\"hidden\",a?\"inherit\":\"hidden\",!a)),\"scale\"!==c&&\"transform\"!==c&&~(c=Yi[c]).indexOf(\",\")&&(c=c.split(\",\")[0])),f=c in Hi)if(g||((v=t._gsap).renderTransform&&!e.parseTransform||On(t,e.parseTransform),y=!1!==e.smoothOrigin&&v.smooth,(g=this._pt=new ci(this._pt,L,ln,0,1,v.renderTransform,v,0,-1)).dep=1),\"scale\"===c)this._pt=new ci(this._pt,v,\"scaleY\",v.scaleY,m?m*a:a-v.scaleY),S.push(\"scaleY\",c),c+=\"X\";else{if(\"transformOrigin\"===c){x=void 0,_=void 0,C=void 0,x=(w=o).split(\" \"),_=x[0],C=x[1]||\"50%\",\"top\"!==_&&\"bottom\"!==_&&\"left\"!==C&&\"right\"!==C||(w=_,_=C,C=w),x[0]=Ln[_]||_,x[1]=Ln[C]||C,o=x.join(\" \"),v.svg?Pn(t,o,0,y,0,this):((p=parseFloat(o.split(\" \")[2])||0)!==v.zOrigin&&wn(this,v,\"zOrigin\",v.zOrigin,p),wn(this,L,c,Dn(s),Dn(o)));continue}if(\"svgOrigin\"===c){Pn(t,o,1,y,0,this);continue}if(c in In){Fn(this,v,c,l,o,m);continue}if(\"smoothOrigin\"===c){wn(this,v,\"smooth\",v.smooth,o);continue}if(\"force3D\"===c){v[c]=o;continue}if(\"transform\"===c){qn(this,o,t);continue}}else c in L||(c=pn(c)||c);if(f||(a||0===a)&&(l||0===l)&&!Gi.test(o)&&c in L)a||(a=0),(h=(s+\"\").substr((l+\"\").length))!==(p=ie(o)||(c in P.units?P.units[c]:h))&&(l=_n(t,c,s,p)),this._pt=new ci(this._pt,f?v:L,c,l,m?m*a:a-l,f||\"px\"!==p&&\"zIndex\"!==c||!1===e.autoRound?Xi:Qi),this._pt.u=p||0,h!==p&&(this._pt.b=s,this._pt.r=Ki);else if(c in L)Sn.call(this,t,c,s,o);else{if(!(c in t)){lt(c,o);continue}this.add(t,c,t[c],o,n,r)}S.push(c)}b&&di(this)},get:Cn,aliases:Yi,getSetter:function(t,e,i){var n=Yi[e];return n&&n.indexOf(\",\")<0&&(e=n),e in Hi&&e!==un&&(t._gsap.x||Cn(t,\"x\"))?i&&xi===i?\"scale\"===e?sn:rn:(xi=i||{})&&(\"scale\"===e?on:an):t.style&&!V(t.style[e])?en:~e.indexOf(\"-\")?nn:ii(t,e)},core:{_removeProperty:bn,_getMatrix:An}};fi.utils.checkPrefix=pn,Wn=Ct(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent,\"+(zn=\"rotation,rotationX,rotationY,skewX,skewY\")+\",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\",(function(t){Hi[t]=1})),Ct(zn,(function(t){P.units[t]=\"deg\",In[t]=1})),Yi[Wn[13]]=\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent,\"+zn,Ct(\"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\",(function(t){var e=t.split(\":\");Yi[e[1]]=Wn[e[0]]})),Ct(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\",(function(t){P.units[t]=\"px\"})),fi.registerPlugin(Vn);var Un=fi.registerPlugin(Vn)||fi,Gn=Un.core.Tween}]);","extractedComments":["/*!\n * matrix 3.6.1\n * https://greensock.com\n *\n * Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/","/*!\n * Draggable 3.6.1\n * https://greensock.com\n *\n * @license Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n */","/*!\n * GSAP 3.6.1\n * https://greensock.com\n *\n * @license Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/","/*!\n * CSSPlugin 3.6.1\n * https://greensock.com\n *\n * Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/"]}